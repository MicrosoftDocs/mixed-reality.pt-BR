---
title: Estudo de caso - capturar e criação de conteúdo para HoloTour
description: HoloTour para o Microsoft HoloLens fornece imersivos tours pessoais 3D de icônicos locais em todo o mundo.
author: DannyAskew
ms.author: daaske
ms.date: 03/21/2018
ms.topic: article
keywords: Windows HoloTour, HoloLens, realidade misturada
ms.openlocfilehash: 6c9e5f44c439310883c8b0271187a7b2263b0854
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/12/2019
ms.locfileid: "59589099"
---
# <a name="case-study---capturing-and-creating-content-for-holotour"></a><span data-ttu-id="fcda4-104">Estudo de caso - capturar e criação de conteúdo para HoloTour</span><span class="sxs-lookup"><span data-stu-id="fcda4-104">Case study - Capturing and creating content for HoloTour</span></span>

<span data-ttu-id="fcda4-105">HoloTour para o Microsoft HoloLens fornece imersivos tours pessoais 3D de icônicos locais em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-105">HoloTour for Microsoft HoloLens provides immersive 3D personal tours of iconic locations around the world.</span></span> <span data-ttu-id="fcda4-106">Como os designers, artistas, produtores, áudio designers e desenvolvedores que trabalham nesse projeto descobriu, criando um processamento 3D convincingly real de um local conhecido usa uma combinação exclusiva de wizardry criativo e tecnológica.</span><span class="sxs-lookup"><span data-stu-id="fcda4-106">As the designers, artists, producers, audio designers, and developers working on this project found out, creating a convincingly real 3D rendering of a well-known location takes a unique blend of creative and technological wizardry.</span></span>

## <a name="the-tech"></a><span data-ttu-id="fcda4-107">O técnico</span><span class="sxs-lookup"><span data-stu-id="fcda4-107">The tech</span></span>

<span data-ttu-id="fcda4-108">Com HoloTour, queríamos tornam possível para que as pessoas visite alguns dos destinos de mais incríveis do mundo — como o [ruins de Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) Peru ou o dia modernos [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) na Itália — diretamente do suas próprias salas de estar.</span><span class="sxs-lookup"><span data-stu-id="fcda4-108">With HoloTour, we wanted to make it possible for people to visit some of the world’s most amazing destinations—like the [ruins of Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) in Peru or the modern day [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) in Italy—right from their own living rooms.</span></span> <span data-ttu-id="fcda4-109">Nossa equipe fez o objetivo de HoloTour "fazer você se sentir que você é realmente existe."</span><span class="sxs-lookup"><span data-stu-id="fcda4-109">Our team made it the goal of HoloTour to “make you feel like you’re really there.”</span></span> <span data-ttu-id="fcda4-110">A experiência necessária para ser mais do que apenas imagens ou vídeos.</span><span class="sxs-lookup"><span data-stu-id="fcda4-110">The experience needed to be more than just pictures or videos.</span></span> <span data-ttu-id="fcda4-111">Aproveitando a exibição exclusivo, o acompanhamento e a tecnologia de áudio do HoloLens, acredita-se que estamos poderia praticamente de transporte você para outro lugar.</span><span class="sxs-lookup"><span data-stu-id="fcda4-111">By leveraging the unique display, tracking, and audio technology of HoloLens we believed we could virtually transport you to another place.</span></span> <span data-ttu-id="fcda4-112">Precisamos capturar o turísticos, sons e tridimensional geometria de cada local é visitado e, em seguida, recrie que dentro do nosso aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-112">We would need to capture the sights, sounds, and three-dimensional geometry of every location we visited and then recreate that within our app.</span></span>

<span data-ttu-id="fcda4-113">Para fazer isso, precisávamos de uma câmera de 360 ° equipamento de captura de áudio direcional.</span><span class="sxs-lookup"><span data-stu-id="fcda4-113">In order to do this, we needed a 360° camera rig with directional audio capture.</span></span> <span data-ttu-id="fcda4-114">Ele precisava capturar extremamente alta resolução, para que a sequência de imagens ficaria claro quando reproduzido em um HoloLens e as câmeras precisaria ser posicionado próximos uns dos outros para minimizar a junção de artefatos.</span><span class="sxs-lookup"><span data-stu-id="fcda4-114">It needed to capture at extremely high resolution, so that the footage would look crisp when played back on a HoloLens and the cameras would need to be positioned close together in order to minimize stitching artifacts.</span></span> <span data-ttu-id="fcda4-115">Nós queríamos completo esférica cobertura, não apenas ao longo de horizonte, mas acima e abaixo, você também.</span><span class="sxs-lookup"><span data-stu-id="fcda4-115">We wanted full spherical coverage, not just along the horizon, but above and below you as well.</span></span> <span data-ttu-id="fcda4-116">O simulador de carga também precisava ser portáteis para que podemos incrementá-lo em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-116">The rig also needed to be portable so that we could take it all over the world.</span></span> <span data-ttu-id="fcda4-117">Podemos avaliada opções disponíveis no mercado disponíveis e percebi que eles simplesmente não estavam boas o suficiente para realizar nossa visão – por causa de resolução, o custo ou o tamanho.</span><span class="sxs-lookup"><span data-stu-id="fcda4-117">We evaluated available off-the-shelf options and realized they simply weren’t good enough to realize our vision – either because of resolution, cost, or size.</span></span> <span data-ttu-id="fcda4-118">Se não foi possível encontrar um simulador de carga de câmera que satisfeitas nossas necessidades, teríamos que compilar um sozinhos.</span><span class="sxs-lookup"><span data-stu-id="fcda4-118">If we couldn’t find a camera rig that satisfied our needs, we would have to build one ourselves.</span></span>

### <a name="building-the-rig"></a><span data-ttu-id="fcda4-119">Criando os simuladores de carga</span><span class="sxs-lookup"><span data-stu-id="fcda4-119">Building the rig</span></span>

<span data-ttu-id="fcda4-120">A primeira versão — feitas de papelão, Velcro, adesiva fita e câmeras de GoPro 14 — foi algo MacGyver teria sido orgulhar.</span><span class="sxs-lookup"><span data-stu-id="fcda4-120">The first version—made from cardboard, Velcro, duct tape, and 14 GoPro cameras—was something MacGyver would have been proud of.</span></span> <span data-ttu-id="fcda4-121">Depois de revisar tudo, desde soluções low-end para equipamentos fabricados personalizados, câmeras GoPro foram, por fim, a melhor opção para nós porque eles foram pequeno e acessível e tinham o armazenamento de memória de fácil de usar.</span><span class="sxs-lookup"><span data-stu-id="fcda4-121">After reviewing everything from low-end solutions to custom manufactured rigs, GoPro cameras were ultimately the best option for us because they were small, affordable, and had easy-to-use memory storage.</span></span> <span data-ttu-id="fcda4-122">O fator forma pequeno foi especialmente importante porque ele nos permitiu colocar câmeras razoavelmente próximos uns dos outros — quanto menor a distância entre as câmeras, quanto menor os artefatos montagens estarão.</span><span class="sxs-lookup"><span data-stu-id="fcda4-122">The small form factor was especially important because it allowed us to place cameras fairly close together—the smaller the distance between cameras, the smaller the stitching artifacts will be.</span></span> <span data-ttu-id="fcda4-123">Nossa organização de câmera exclusivo nos permitiu obter cobertura completa de esfera *plus* suficiente sobreposição para alinhar câmeras e suavizar alguns artefatos durante o processo de montagens de forma inteligente.</span><span class="sxs-lookup"><span data-stu-id="fcda4-123">Our unique camera arrangement allowed us to get full sphere coverage *plus* enough overlap to intelligently align cameras and smooth out some artifacts during the stitching process.</span></span>

<span data-ttu-id="fcda4-124">Aproveitando os [som espacial](spatial-sound.md) recursos em HoloLens é fundamental para criar uma experiência de imersão convincingly real.</span><span class="sxs-lookup"><span data-stu-id="fcda4-124">Taking advantage of the [spatial sound](spatial-sound.md) capabilities on HoloLens is critical to creating a convincingly real immersive experience.</span></span> <span data-ttu-id="fcda4-125">Nós usamos uma matriz de quatro microfone situada abaixo as câmeras no tripé, qual seria capturar som do local de nossa câmera em quatro direções, dando informações suficientes para criar espaciais sons em nosso cenas.</span><span class="sxs-lookup"><span data-stu-id="fcda4-125">We used a four-microphone array situated beneath the cameras on the tripod, which would capture sound from the location of our camera in four directions, giving us enough information to create spatial sounds in our scenes.</span></span>

![Nosso simuladores de carga de câmera de 360° definida para filmagem fora o Pantheon.](images/camera-pantheon-200px.png)

<span data-ttu-id="fcda4-127">Nosso simuladores de carga de câmera de 360° definida para filmagem fora o Pantheon.</span><span class="sxs-lookup"><span data-stu-id="fcda4-127">Our 360° camera rig set up for filming outside the Pantheon.</span></span> 


<span data-ttu-id="fcda4-128">Testamos out nosso caseiro simuladores de carga ao levá-la até Ridge Rattlesnake perto de Seattle, capturando o cenário na parte superior de caminhada.</span><span class="sxs-lookup"><span data-stu-id="fcda4-128">We tested out our homemade rig by taking it up to Rattlesnake Ridge near Seattle, capturing the scenery at the top of the hike.</span></span> <span data-ttu-id="fcda4-129">O resultado, embora significativamente menos refinada os locais que você vê no HoloTour hoje, nos proporcionou certeza de que nosso design de simuladores de carga foi bom o suficiente para torná-lo a sentir como você está realmente lá.</span><span class="sxs-lookup"><span data-stu-id="fcda4-129">The result, though significantly less polished than the locations you see in HoloTour today, gave us confidence that our rig design was good enough to make you feel like you’re really there.</span></span>

<span data-ttu-id="fcda4-130">Podemos atualizado nosso simuladores de carga do Velcro e cardboard para uma estrutura de câmera 3D-impresso e comprado pacotes de bateria externo para as câmeras GoPro simplificar o gerenciamento da bateria.</span><span class="sxs-lookup"><span data-stu-id="fcda4-130">We upgraded our rig from Velcro and cardboard to a 3D-printed camera housing and bought external battery packs for the GoPro cameras to simplify battery management.</span></span> <span data-ttu-id="fcda4-131">Em seguida, fizemos um teste mais abrangente, viajando para baixo até a San Francisco para criar um miniatura tour Costa da cidade e a icônico Golden Gate bridge.</span><span class="sxs-lookup"><span data-stu-id="fcda4-131">We then did a more extensive test, traveling down to San Francisco to create a miniature tour of the city’s coast and the iconic Golden Gate bridge.</span></span> <span data-ttu-id="fcda4-132">Esse simulador de carga de câmera é o que usamos para a maioria de nossos capturas dos locais em que você visitar em HoloTour.</span><span class="sxs-lookup"><span data-stu-id="fcda4-132">This camera rig is what we used for most of our captures of the locations you visit in HoloTour.</span></span>

![O 360° câmera simuladores de carga filmagem em Machu Picchu.](images/camera-machu-pichu-500px.png)

<span data-ttu-id="fcda4-134">O 360° câmera simuladores de carga filmagem em Machu Picchu.</span><span class="sxs-lookup"><span data-stu-id="fcda4-134">The 360° camera rig filming in Machu Picchu.</span></span> 


## <a name="behind-the-scenes"></a><span data-ttu-id="fcda4-135">Nos bastidores</span><span class="sxs-lookup"><span data-stu-id="fcda4-135">Behind the scenes</span></span>

<span data-ttu-id="fcda4-136">Antes de filmagem, precisávamos Figura out quais locais que queríamos incluir nosso tour virtual.</span><span class="sxs-lookup"><span data-stu-id="fcda4-136">Before filming, we needed to figure out which locations we wanted to include on our virtual tour.</span></span> <span data-ttu-id="fcda4-137">Roma foi o primeiro local em que é destinado para o envio e queríamos fazer tudo certo, portanto, decidimos fazer uma viagem scouting com antecedência.</span><span class="sxs-lookup"><span data-stu-id="fcda4-137">Rome was the first location we intended to ship and we wanted to get it right, so we decided to do a scouting trip in advance.</span></span> <span data-ttu-id="fcda4-138">Enviamos uma equipe de seis pessoas — incluindo artistas, designers e produtores — para uma visita no local para os sites que pensavam.</span><span class="sxs-lookup"><span data-stu-id="fcda4-138">We sent a team of six people—including artists, designers, and producers—for an in-person visit to the sites we were considering.</span></span> <span data-ttu-id="fcda4-139">A viagem levou aproximadamente 9 dias – 2.5 para viagem, o restante para filmagem.</span><span class="sxs-lookup"><span data-stu-id="fcda4-139">The trip took about 9 days – 2.5 for travel, the rest for filming.</span></span> <span data-ttu-id="fcda4-140">(Para Machu Picchu podemos optou por não para fazer uma viagem scout, pesquisando com antecedência e reserva alguns dias de buffer para filmagem.)</span><span class="sxs-lookup"><span data-stu-id="fcda4-140">(For Machu Picchu we opted not to do a scout trip, researching in advance and booking a few days of buffer for filming.)</span></span>

<span data-ttu-id="fcda4-141">Enquanto estiver em Roma, a equipe levou fotos de cada área e são indicados fatos interessantes, bem como a considerações práticas, por exemplo, muito difícil é a cada ponto e a dificuldade de viagem seria a um filme devido a restrições ou cheias.</span><span class="sxs-lookup"><span data-stu-id="fcda4-141">While in Rome, the team took photos of each area and noted interesting facts as well as practical considerations, such as how hard it is to travel to each spot and how difficult it would be to film because of crowds or restrictions.</span></span> <span data-ttu-id="fcda4-142">Isso pode parecer suas férias, mas é muito trabalho.</span><span class="sxs-lookup"><span data-stu-id="fcda4-142">This may sound like a vacation, but it’s a lot of work.</span></span> <span data-ttu-id="fcda4-143">Iniciado no início da manhã de dias e iria sem parar até a noite.</span><span class="sxs-lookup"><span data-stu-id="fcda4-143">Days started early in the morning and would go non-stop until evening.</span></span> <span data-ttu-id="fcda4-144">Todas as noites, filmagens fosse carregada para a equipe de volta em Seattle para examinar.</span><span class="sxs-lookup"><span data-stu-id="fcda4-144">Each night, footage was uploaded for the team back in Seattle to review.</span></span> 

![Nossa equipe de captura em Roma.](images/holotour-filming-crew-rome-500px.jpg) 

<span data-ttu-id="fcda4-146">Nossa equipe de captura em Roma.</span><span class="sxs-lookup"><span data-stu-id="fcda4-146">Our capture crew in Rome.</span></span> 


<span data-ttu-id="fcda4-147">Depois que a viagem scout foi concluída, um plano final foi feito para filmagem real.</span><span class="sxs-lookup"><span data-stu-id="fcda4-147">After the scout trip was completed, a final plan was made for actual filming.</span></span> <span data-ttu-id="fcda4-148">Isso exigia uma lista detalhada de onde temos para filmes, em que dia e o horário.</span><span class="sxs-lookup"><span data-stu-id="fcda4-148">This required a detailed list of where we were going to film, on what day, and at what time.</span></span> <span data-ttu-id="fcda4-149">Todos os dias no exterior é caro, portanto, essas viagens necessário para ser eficiente.</span><span class="sxs-lookup"><span data-stu-id="fcda4-149">Every day overseas is expensive, so these trips needed to be efficient.</span></span> <span data-ttu-id="fcda4-150">Podemos registrado guias e manipuladores em Roma para nos ajudar e totalmente usado de todos os dias antes de Nascer do sol para depois pôr do sol.</span><span class="sxs-lookup"><span data-stu-id="fcda4-150">We booked guides and handlers in Rome to help us and fully used every day from before sunrise to after sunset.</span></span> <span data-ttu-id="fcda4-151">Precisamos obter filmagens a melhor possível para torná-lo a sentir como você está realmente lá.</span><span class="sxs-lookup"><span data-stu-id="fcda4-151">We need to get the best footage possible in order to make you feel like you’re really there.</span></span>

### <a name="capturing-the-video"></a><span data-ttu-id="fcda4-152">Captura de vídeo</span><span class="sxs-lookup"><span data-stu-id="fcda4-152">Capturing the video</span></span>

<span data-ttu-id="fcda4-153">Fazer algumas coisas simples durante a captura pode fazer o pós-processamento muito mais fácil.</span><span class="sxs-lookup"><span data-stu-id="fcda4-153">Doing a few simple things during capture can make post-processing much easier.</span></span> <span data-ttu-id="fcda4-154">Por exemplo, sempre que você costurar imagens de vários câmeras, acabar com artefatos visuais, porque cada câmera tem uma exibição um pouco diferente.</span><span class="sxs-lookup"><span data-stu-id="fcda4-154">For example, whenever you stitch together images from multiple cameras, you end up with visual artifacts because each camera has a slightly different view.</span></span> <span data-ttu-id="fcda4-155">Os objetos mais próximos são para a câmera, maior a diferença entre os modos de exibição e maior será os artefatos de junção.</span><span class="sxs-lookup"><span data-stu-id="fcda4-155">The closer objects are to the camera, the larger the difference between the views, and the larger the stitching artifacts will be.</span></span> <span data-ttu-id="fcda4-156">Aqui está uma maneira fácil de visualizar o problema: mantenha o polegar para cima na frente o rosto e vê-la com apenas um olho.</span><span class="sxs-lookup"><span data-stu-id="fcda4-156">Here's an easy way to visualize the problem: hold your thumb up in front of your face and look at it with only one eye.</span></span> <span data-ttu-id="fcda4-157">Agora, alterne olhos.</span><span class="sxs-lookup"><span data-stu-id="fcda4-157">Now switch eyes.</span></span> <span data-ttu-id="fcda4-158">Você verá que o polegar parece se mexer em relação ao plano de fundo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-158">You’ll see that your thumb appears to move relative to the background.</span></span> <span data-ttu-id="fcda4-159">Se você mantenha o polegar ainda mais longe o rosto e repita o teste, o polegar aparecerá mover menor.</span><span class="sxs-lookup"><span data-stu-id="fcda4-159">If you hold your thumb further away from your face and repeat the experiment, your thumb will appear to move less.</span></span> <span data-ttu-id="fcda4-160">Isto aparente movimentação é semelhante ao problema montagens nós nos deparamos com: Seus olhos, como nosso câmeras, não ver exatamente da mesma imagem, porque eles são separados por uma pequena distância.</span><span class="sxs-lookup"><span data-stu-id="fcda4-160">That apparent movement is similar to the stitching problem we faced: Your eyes, like our cameras, don’t see the exact same image because they are separated by a little distance.</span></span>

<span data-ttu-id="fcda4-161">Como é muito mais fácil de impedir que os artefatos pior enquanto filmagem do que corrigi-los no pós-processamento, tentamos manter as pessoas e coisas distante da câmera na esperança de que podemos eliminar a necessidade de unir os objetos aproximados.</span><span class="sxs-lookup"><span data-stu-id="fcda4-161">Because it’s much easier to prevent the worst artifacts while filming than it is to correct them in post-processing, we tried to keep people and things far away from the camera in the hopes we could eliminate the need to stitch close-up objects.</span></span> <span data-ttu-id="fcda4-162">Manter uma compensação grande em torno de nossos câmera foi provavelmente um dos maiores desafios que tínhamos durante a solução e tivemos que exercitar a criatividade para fazê-lo funcionar.</span><span class="sxs-lookup"><span data-stu-id="fcda4-162">Maintaining a large clearing around our camera was probably one of the biggest challenges we had during shooting and we had to get creative to make it work.</span></span> <span data-ttu-id="fcda4-163">Trabalhar com guias locais era de grande ajuda no gerenciamento cheias, mas também descobrimos que usar assina — e, às vezes, pequenas cones ou recipientes de bean — marcar nosso espaço filming foi razoavelmente eficaz, especialmente porque precisamos apenas obter um curto período de filmagem sem marcações em cada local.</span><span class="sxs-lookup"><span data-stu-id="fcda4-163">Working with local guides was a huge help in managing crowds, but we also found that using signs—and sometimes small cones or bean bags—to mark our filming space was reasonably effective, especially since we only needed to get a short amount of footage at each location.</span></span> <span data-ttu-id="fcda4-164">Muitas vezes a melhor maneira de obter uma captura de BOM era apenas para chegar logo no início da manhã, antes da maioria das pessoas aparecia.</span><span class="sxs-lookup"><span data-stu-id="fcda4-164">Often the best way to get a good capture was to just to arrive very early in the morning, before most people showed up.</span></span>

<span data-ttu-id="fcda4-165">Algumas outras técnicas de captura úteis são provenientes diretamente práticas tradicionais de filme.</span><span class="sxs-lookup"><span data-stu-id="fcda4-165">Some other useful capture techniques come straight from traditional film practices.</span></span> <span data-ttu-id="fcda4-166">Por exemplo, usamos um cartão de correção de cor em todos os nossos câmeras e fotos de referência capturada de texturas e objetos, talvez seja necessário mais tarde.</span><span class="sxs-lookup"><span data-stu-id="fcda4-166">For example, we used a color correction card on all of our cameras and captured reference photos of textures and objects we might need later.</span></span> 

![A cortar aproximada Picchu Machu mostrando o cartão de correção de cor.](images/rough-cut-machu-picchu-500px.png)

<span data-ttu-id="fcda4-168">Recortar aproximada de filmagem sem marcações Pantheon antes de união.</span><span class="sxs-lookup"><span data-stu-id="fcda4-168">A rough cut of Pantheon footage before stitching.</span></span>

### <a name="processing-the-video"></a><span data-ttu-id="fcda4-169">Processando o vídeo</span><span class="sxs-lookup"><span data-stu-id="fcda4-169">Processing the video</span></span>

<span data-ttu-id="fcda4-170">Captura de conteúdo de 360° é apenas a primeira etapa — muito processamento é necessário para converter a filmagens de câmeras brutos que capturamos no finais ativos que você vê no HoloTour.</span><span class="sxs-lookup"><span data-stu-id="fcda4-170">Capturing 360° content is only the first step—a lot of processing is needed to convert the raw camera footage we captured into the final assets you see in HoloTour.</span></span> <span data-ttu-id="fcda4-171">Depois que estávamos volta home precisávamos dar o vídeo de câmera diferentes 14 feeds e transformá-lo em um único vídeo contínuo com artefatos mínimo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-171">Once we were back home we needed to take the video from 14 different camera feeds and turn it into a single continuous video with minimal artifacts.</span></span> <span data-ttu-id="fcda4-172">Nossa equipe de arte usei uma série de ferramentas para combinar e polonês a sequência de imagens capturada e desenvolvemos um pipeline para otimizar o processamento tanto quanto possível.</span><span class="sxs-lookup"><span data-stu-id="fcda4-172">Our art team used a number of tools to combine and polish the captured footage and we developed a pipeline to optimize the processing as much as possible.</span></span> <span data-ttu-id="fcda4-173">A sequência de imagens tinha que ser Unido cor junto, corrigido e, em seguida, composto para remover elementos de distração e artefatos ou adicionar bolsos complementares da vida e movimento, tudo com a meta para aprimorar essa sensação de estar lá de fato.</span><span class="sxs-lookup"><span data-stu-id="fcda4-173">The footage had to be stitched together, color corrected, and then composited to remove distracting elements and artifacts or to add supplemental pockets of life and motion, all with the goal to enhance that feeling of actually being there.</span></span>

![Recortar aproximada de filmagem sem marcações Pantheon antes de união.](images/rough-cut-pantheon-500px.png)

<span data-ttu-id="fcda4-175">Recortar aproximada de filmagem sem marcações Pantheon antes de união.</span><span class="sxs-lookup"><span data-stu-id="fcda4-175">A rough cut of Pantheon footage before stitching.</span></span> 


<span data-ttu-id="fcda4-176">Para unir os vídeos, usamos uma ferramenta chamada [PTGui](http://www.ptgui.com/) e integrados a nosso pipeline de processamento.</span><span class="sxs-lookup"><span data-stu-id="fcda4-176">To stitch the videos together, we used a tool called [PTGui](http://www.ptgui.com/) and integrated it into our processing pipeline.</span></span> <span data-ttu-id="fcda4-177">Como parte do pós-processamento de executamos extraídos ainda quadros de nossos vídeos e encontramos um padrão de montagens que era bom para um dos quadros.</span><span class="sxs-lookup"><span data-stu-id="fcda4-177">As part of post-processing we extracted still frames from our videos and found a stitching pattern that looked good for one of those frames.</span></span> <span data-ttu-id="fcda4-178">Em seguida, aplicamos esse padrão para um plug-in personalizado que escrevemos que permitido nosso vídeos artistas para otimizar e ajustar o padrão de montagens diretamente durante a composição em efeitos após.</span><span class="sxs-lookup"><span data-stu-id="fcda4-178">We then applied that pattern to a custom plugin we wrote that allowed our video artists to fine tune and tweak the stitching pattern directly while compositing in After Effects.</span></span> 

![Mostrando a sequência de imagens do Pantheon costurada captura de tela de PTGui.](images/stitching-tool-pantheon-500px.png)

<span data-ttu-id="fcda4-180">Mostrando a sequência de imagens do Pantheon costurada captura de tela de PTGui.</span><span class="sxs-lookup"><span data-stu-id="fcda4-180">Screenshot of PTGui showing the stitched Pantheon footage.</span></span> 


### <a name="video-playback"></a><span data-ttu-id="fcda4-181">Reprodução de vídeo</span><span class="sxs-lookup"><span data-stu-id="fcda4-181">Video playback</span></span>

<span data-ttu-id="fcda4-182">Após a conclusão do processamento da sequência de imagens, temos um vídeo perfeito, mas é incrivelmente grandes — resolução de aproximadamente 8 K.</span><span class="sxs-lookup"><span data-stu-id="fcda4-182">After processing of the footage is completed, we have a seamless video but it’s extraordinarily large—around 8K resolution.</span></span> <span data-ttu-id="fcda4-183">Decodificação de vídeo é caro e há muito poucos computadores que podem manipular um vídeo de 8K para que o próximo desafio era encontrar uma forma para reproduzir este vídeo novamente no HoloLens.</span><span class="sxs-lookup"><span data-stu-id="fcda4-183">Decoding video is expensive and there are very few computers that can handle an 8K video so the next challenge was finding a way to play this video back on HoloLens.</span></span> <span data-ttu-id="fcda4-184">Desenvolvemos um número de estratégias para evitar o custo de decodificação enquanto ainda deixa a percepção do usuário, como eles foram exibindo todo o vídeo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-184">We developed a number of strategies to avoid the cost of decoding while still making the user feel like they were viewing the entire video.</span></span>

<span data-ttu-id="fcda4-185">A otimização mais fácil é para evitar que partes do vídeo que não mudará muito de decodificação.</span><span class="sxs-lookup"><span data-stu-id="fcda4-185">The easiest optimization is to avoid decoding parts of the video that don’t change much.</span></span> <span data-ttu-id="fcda4-186">Criamos uma ferramenta para identificar as áreas em cada cena que têm pouca ou nenhuma animação.</span><span class="sxs-lookup"><span data-stu-id="fcda4-186">We wrote a tool to identify areas in each scene that have little or no motion.</span></span> <span data-ttu-id="fcda4-187">Para as regiões vamos mostrar uma imagem estática em vez de um vídeo de decodificação cada quadro.</span><span class="sxs-lookup"><span data-stu-id="fcda4-187">For those regions we show a static image rather than decoding a video each frame.</span></span> <span data-ttu-id="fcda4-188">Para tornar isso possível, podemos dividida vídeo grande em partes muito menores.</span><span class="sxs-lookup"><span data-stu-id="fcda4-188">To make this possible, we divided up the massive video into much smaller chunks.</span></span>

<span data-ttu-id="fcda4-189">Também fizemos-se de que cada pixel que são decodificados foi usado com mais eficiência.</span><span class="sxs-lookup"><span data-stu-id="fcda4-189">We also made sure that every pixel we decoded was used most effectively.</span></span> <span data-ttu-id="fcda4-190">Experimentamos usando técnicas de compactação para reduzir o tamanho do vídeo. dividimos os vídeos regiões de acordo com os polígonos da geometria que ele seria projetado; podemos ajustada UVs e empacotadas os vídeos com base no quanto polígonos diferentes de detalhe incluído.</span><span class="sxs-lookup"><span data-stu-id="fcda4-190">We experimented with compression techniques to lower the size of the video; we split the video regions according to the polygons of the geometry it would be projected onto; we adjusted UVs and repacked the videos based on how much detail different polygons included.</span></span> <span data-ttu-id="fcda4-191">O resultado desse trabalho, que é o que começou como um único 8K vídeo transformado em muitas partes que se parecem quase ininteligíveis até que eles sejam adequadamente novamente projetados na cena.</span><span class="sxs-lookup"><span data-stu-id="fcda4-191">The result of this work is that what started as a single 8k video turned into many chunks that look almost unintelligible until they are properly re-projected into the scene.</span></span> <span data-ttu-id="fcda4-192">Para um desenvolvedor de jogo que compreende o mapeamento da textura e empacotamento UV, isso provavelmente lhe parecerá familiar.</span><span class="sxs-lookup"><span data-stu-id="fcda4-192">For a game developer who understands texture mapping and UV packing, this will probably look familiar.</span></span> 

![Uma exibição completa do Pantheon antes de otimizações.](images/pantheon-before-optimization-500px.png) 

<span data-ttu-id="fcda4-194">Uma exibição completa do Pantheon antes de otimizações.</span><span class="sxs-lookup"><span data-stu-id="fcda4-194">A full view of the Pantheon before optimizations.</span></span> 


![Metade direita do Pantheon, processado para reprodução de vídeo.](images/pantheon-process-video-playback-500px.png) 

<span data-ttu-id="fcda4-196">Metade direita do Pantheon, processado para reprodução de vídeo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-196">The right half of the Pantheon, processed for video playback.</span></span> 


![Exemplo de uma única região vídeo após o empacotamento e a otimização.](images/single-video-region-after-optimization-500px.png) 

<span data-ttu-id="fcda4-198">Exemplo de uma única região vídeo após o empacotamento e a otimização.</span><span class="sxs-lookup"><span data-stu-id="fcda4-198">Example of a single video region after optimization and packing.</span></span> 


<span data-ttu-id="fcda4-199">Outro truque que usamos era evitar decodificação não são ativamente de exibição do vídeo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-199">Another trick we used was to avoid decoding video you aren’t actively viewing.</span></span> <span data-ttu-id="fcda4-200">Enquanto estiver no HoloTour, você pode ver apenas parte da cena completa em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="fcda4-200">While in HoloTour, you can only see part of the full scene at any given moment.</span></span> <span data-ttu-id="fcda4-201">Estamos apenas decodificar vídeos dentro ou fora daqui a pouco do seu campo de exibição (FOV).</span><span class="sxs-lookup"><span data-stu-id="fcda4-201">We only decode videos within or shortly outside of your field of view (FOV).</span></span> <span data-ttu-id="fcda4-202">Conforme você gira a cabeça, podemos iniciar a reprodução as regiões do vídeo que agora estão em seu FOV e parassem a execução aqueles que não estão mais dentro dele.</span><span class="sxs-lookup"><span data-stu-id="fcda4-202">As you rotate your head, we start playing the regions of the video that are now in your FOV and stop playing ones that are no longer within it.</span></span> <span data-ttu-id="fcda4-203">A maioria das pessoas ainda não irá notar isso está acontecendo, mas se você ativar em torno de rapidamente, você verá o vídeo leva alguns segundos para iniciar, enquanto isso, você verá uma imagem estática que esmaece em seguida, de volta para o vídeo quando ele estiver pronto.</span><span class="sxs-lookup"><span data-stu-id="fcda4-203">Most people won’t even notice this is happening, but if you turn around rapidly, you’ll see the video takes a second to start— in the meantime you’ll see a static image which then fades back to video once it’s ready.</span></span>

<span data-ttu-id="fcda4-204">Para fazer com que essa estratégia funcione desenvolvemos um sistema abrangente de reprodução de vídeo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-204">To make this strategy work we developed an extensive video playback system.</span></span> <span data-ttu-id="fcda4-205">Otimizamos o código de reprodução de nível baixo para tornar extremamente eficiente vídeo de alternância.</span><span class="sxs-lookup"><span data-stu-id="fcda4-205">We optimized the low level playback code in order to make video switching extremely efficient.</span></span> <span data-ttu-id="fcda4-206">Além disso, tivemos de codificar nossos vídeos de maneira especial para que seja possível alternar rapidamente para qualquer vídeo a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="fcda4-206">Additionally, we had to encode our videos in a special way to make it possible to rapidly switch to any video at any time.</span></span> <span data-ttu-id="fcda4-207">Esse pipeline de reprodução levou a uma quantidade significativa de tempo de desenvolvimento, e implementamos em estágios.</span><span class="sxs-lookup"><span data-stu-id="fcda4-207">This playback pipeline took a significant amount of development time so we implemented it in stages.</span></span> <span data-ttu-id="fcda4-208">Nós começamos com um sistema mais simples do que era menos eficiente, mas designers permitidos e artistas para trabalhar na experiência e lentamente aprimorado para um sistema de reprodução mais robusto que nos permitiu entregar a barra de qualidade final.</span><span class="sxs-lookup"><span data-stu-id="fcda4-208">We started with a simpler system that was less efficient, but allowed designers and artists to work on the experience, and slowly improved it to a more robust playback system that allowed us to ship at the final quality bar.</span></span> <span data-ttu-id="fcda4-209">Esse sistema final tinha criado dentro do Unity para configurar o vídeo dentro da cena e monitorar o mecanismo de reprodução de ferramentas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="fcda4-209">This final system had custom tools we created within Unity to set up the video within the scene and monitor the playback engine.</span></span>

### <a name="recreating-near-space-objects-in-3d"></a><span data-ttu-id="fcda4-210">Recriar objetos perto de espaço em 3D</span><span class="sxs-lookup"><span data-stu-id="fcda4-210">Recreating near-space objects in 3D</span></span>

<span data-ttu-id="fcda4-211">Vídeos formam a maioria do que você vê no HoloTour, mas há um número de objetos 3D que aparecem perto de você, como a pintura em Piazza Navona, fica a fonte fora o Pantheon, ou o balão de ar quente que coloque em funcionamento em para cenas aéreas.</span><span class="sxs-lookup"><span data-stu-id="fcda4-211">Videos make up the majority of what you see in HoloTour, but there are a number of 3D objects that appear close to you, such as the painting in Piazza Navona, the fountain outside the Pantheon, or the hot air balloon you stand in for aerial scenes.</span></span> <span data-ttu-id="fcda4-212">Esses objetos 3D são importantes porque a percepção de profundidade humana é muito bom de perto, mas não muito bons distantes.</span><span class="sxs-lookup"><span data-stu-id="fcda4-212">These 3D objects are important because human depth perception is very good up close, but not very good far away.</span></span> <span data-ttu-id="fcda4-213">Podemos fazer com vídeo na distância, mas para permitir que os usuários para fazer a ronda seu espaço e sentem que são realmente existe, próximos objetos precisam de profundidade.</span><span class="sxs-lookup"><span data-stu-id="fcda4-213">We can get away with video in the distance, but to allow users to walk around their space and feel like they’re really there, nearby objects need depth.</span></span> <span data-ttu-id="fcda4-214">Essa técnica é semelhante ao tipo de coisa que você pode ver em um museu histórico natural — um diorama que tem paisagismo físico, plantas e espécimes animais em primeiro plano, mas é recuado em uma pintura fosca inteligentemente mascarada no plano de fundo de imagem.</span><span class="sxs-lookup"><span data-stu-id="fcda4-214">This technique is similar to the sort of thing you might see in a natural history museum—picture a diorama that has physical landscaping, plants, and animal specimens in the foreground, but recedes into a cleverly masked matte painting in the background.</span></span>

<span data-ttu-id="fcda4-215">Alguns objetos são ativos 3D simplesmente é criado e adicionado à cena para aprimorar a experiência.</span><span class="sxs-lookup"><span data-stu-id="fcda4-215">Some objects are simply 3D assets we created and added to the scene to enhance the experience.</span></span> <span data-ttu-id="fcda4-216">A pintura e o balão de ar quente entram nessa categoria porque não estavam presentes quando estamos são feitos.</span><span class="sxs-lookup"><span data-stu-id="fcda4-216">The painting and the hot air balloon fall into this category because they weren’t present when we filmed.</span></span> <span data-ttu-id="fcda4-217">Assim como ativos de jogos, elas foram criadas por um artista 3D em nossa equipe e texturizadas adequadamente.</span><span class="sxs-lookup"><span data-stu-id="fcda4-217">Similar to game assets, they were created by a 3D artist on our team and textured appropriately.</span></span> <span data-ttu-id="fcda4-218">Podemos colocá-los em nosso cenas perto de onde você está, e o mecanismo de jogos pode processá-los para as duas exibições HoloLens para que eles apareçam como um objeto 3D.</span><span class="sxs-lookup"><span data-stu-id="fcda4-218">We place these in our scenes near where you stand, and the game engine can render them to the two HoloLens displays so that they appear as a 3D object.</span></span>

<span data-ttu-id="fcda4-219">Outros ativos, como fica a fonte fora o Pantheon, são objetos reais que existem nos locais em que podemos estiver acertar vídeos, mas colocar esses objetos para fora o vídeo e em 3D, precisamos fazer uma série de coisas.</span><span class="sxs-lookup"><span data-stu-id="fcda4-219">Other assets, like the fountain outside the Pantheon, are real objects that exist in the locations where we're shooting video, but to bring these objects out of the video and into 3D, we have to do a number of things.</span></span>

<span data-ttu-id="fcda4-220">Primeiro, precisamos obter informações adicionais sobre cada objeto.</span><span class="sxs-lookup"><span data-stu-id="fcda4-220">First, we need additional information about each object.</span></span> <span data-ttu-id="fcda4-221">Enquanto estiver no local para filmagem, nossa equipe capturada muita filmagens de referência desses objetos de modo que teríamos bastante detalhadas de imagens para recriar com precisão as texturas.</span><span class="sxs-lookup"><span data-stu-id="fcda4-221">While on location for filming, our team captured a lot of reference footage of these objects so that we would have enough detailed images to accurately recreate the textures.</span></span> <span data-ttu-id="fcda4-222">A equipe também realizada uma [photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) scan, que constrói um modelo 3D de dezenas de imagens 2D, dando a um modelo aproximado do objeto em escala perfeita.</span><span class="sxs-lookup"><span data-stu-id="fcda4-222">The team also performed a [photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) scan, which constructs a 3D model from dozens of 2D images, giving us a rough model of the object at perfect scale.</span></span>

<span data-ttu-id="fcda4-223">Como podemos processar nossa sequência de imagens, objetos que mais tarde serão substituídos com uma representação 3D são removidos do vídeo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-223">As we process our footage, objects that will later be replaced with a 3D representation are removed from the video.</span></span> <span data-ttu-id="fcda4-224">O ativo 3D é baseado no modelo photogrammetry mas limpos e simplificado por nosso Artistas.</span><span class="sxs-lookup"><span data-stu-id="fcda4-224">The 3D asset is based on the photogrammetry model but cleaned up and simplified by our artists.</span></span> <span data-ttu-id="fcda4-225">Alguns objetos, podemos usar partes do vídeo — como a textura de água em fica a fonte — mas com muita frequência fica a fonte é agora um objeto 3D, o que permite aos usuários percebem a profundidade e ir em um espaço limitado na experiência.</span><span class="sxs-lookup"><span data-stu-id="fcda4-225">For some objects, we can use parts of the video—such as the water texture on the fountain—but most of the fountain is now a 3D object, which allows users to perceive depth and walk around it in a limited space in the experience.</span></span> <span data-ttu-id="fcda4-226">Ter objetos de espaço de perto como este bastante adiciona ao sentido de realismo e ajuda a Terra os usuários no local virtual.</span><span class="sxs-lookup"><span data-stu-id="fcda4-226">Having near-space objects like this greatly adds to the sense of realism and helps to ground the users in the virtual location.</span></span> 

![Filmagens do pantheon com fica a fonte é removido.](images/object-removal-pantheon-500px.png)

<span data-ttu-id="fcda4-229">Filmagens do pantheon com fica a fonte é removido.</span><span class="sxs-lookup"><span data-stu-id="fcda4-229">Pantheon footage with the fountain removed.</span></span> <span data-ttu-id="fcda4-230">Ele será substituído com um ativo de 3D.</span><span class="sxs-lookup"><span data-stu-id="fcda4-230">It will be replaced with a 3D asset.</span></span>


## <a name="final-thoughts"></a><span data-ttu-id="fcda4-231">Considerações finais</span><span class="sxs-lookup"><span data-stu-id="fcda4-231">Final thoughts</span></span>

<span data-ttu-id="fcda4-232">Obviamente, foi mais para criar esse conteúdo que o que discutimos aqui.</span><span class="sxs-lookup"><span data-stu-id="fcda4-232">Obviously, there was more to creating this content than what we've discussed here.</span></span> <span data-ttu-id="fcda4-233">Há alguns cenas — gostamos de chamá-los "impossíveis perspectivas" — incluindo lutar contra a jornada de balão de ar quente e o gladiator em Colosseum, o que levou a uma abordagem mais criativa.</span><span class="sxs-lookup"><span data-stu-id="fcda4-233">There are a few scenes—we like to call them "impossible perspectives"—including the hot air balloon ride and the gladiator fight in the Colosseum, which took a more creative approach.</span></span> <span data-ttu-id="fcda4-234">Vamos abordar esses no futuro estudo de caso.</span><span class="sxs-lookup"><span data-stu-id="fcda4-234">We'll address these in a future case study.</span></span>

<span data-ttu-id="fcda4-235">Esperamos que o compartilhamento de soluções para alguns dos maiores desafios que tínhamos durante a produção é útil para outros desenvolvedores e que você se inspirar a usar algumas dessas técnicas para criar suas próprias experiências de imersão para HoloLens.</span><span class="sxs-lookup"><span data-stu-id="fcda4-235">We hope that sharing solutions to some of the bigger challenges we had during production is helpful to other developers and that you're inspired to use some of these techniques to create your own immersive experiences for HoloLens.</span></span> <span data-ttu-id="fcda4-236">(E, se você, não se esqueça de compartilhá-lo conosco sobre o [Fórum do HoloLens App Development](https://forums.hololens.com/)!)</span><span class="sxs-lookup"><span data-stu-id="fcda4-236">(And if you do, please make sure to share it with us on the [HoloLens App Development forum](https://forums.hololens.com/)!)</span></span>

## <a name="about-the-authors"></a><span data-ttu-id="fcda4-237">Sobre os autores</span><span class="sxs-lookup"><span data-stu-id="fcda4-237">About the authors</span></span>

<table style="border:0">
<tr>
<td style="border:0" width="60px"> <img alt="David Haley" width="60" height="60" src="images/haley.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="fcda4-238"><b>David Haley</b> é desenvolvedor sênior que aprendeu mais sobre os simuladores de câmera e reprodução de vídeo que ele pensou possíveis de trabalhar em HoloTour.</span><span class="sxs-lookup"><span data-stu-id="fcda4-238"><b>David Haley</b> is a Senior Developer who learned more about camera rigs and video playback than he thought possible from working on HoloTour.</span></span></td>
<td style="border:0" width="60px"> <img alt="Danny Askew" width="60" height="60" src="images/askew.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="fcda4-239"><b>Daniel Askew</b> é um artista de vídeo que certificou de que sua jornada pelo Roma era tão perfeita possível.</span><span class="sxs-lookup"><span data-stu-id="fcda4-239"><b>Danny Askew</b> is a Video Artist who made sure your journey through Rome was as flawless as possible.</span></span></td>
</tr>
<tr>
<td style="border:0" width="60px"> <img alt="Jason Syltebo" width="60" height="60" src="images/syltebo.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="fcda4-240"><b>Jason Syltebo</b> é um Designer de áudio que certificou de que você poderá experimentar o soundscape de cada destino que você visitar, mesmo quando você voltar no tempo.</span><span class="sxs-lookup"><span data-stu-id="fcda4-240"><b>Jason Syltebo</b> is an Audio Designer who made sure you could experience the soundscape of every destination you visit, even when you go back in time.</span></span></td>
<td style="border:0" width="60px"> <img alt="Travis Steiner" width="60" height="60" src="images/steiner.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="fcda4-241"><b>Travis Steiner</b> é um diretor de Design que pesquisou e scouted locais, criar planos de viagem e direcionado a filmagem no site.</span><span class="sxs-lookup"><span data-stu-id="fcda4-241"><b>Travis Steiner</b> is a Design Director who researched and scouted locations, created trip plans, and directed filming on site.</span></span></td>
</tr>
</table>



## <a name="see-also"></a><span data-ttu-id="fcda4-242">Consulte também</span><span class="sxs-lookup"><span data-stu-id="fcda4-242">See also</span></span>
* [<span data-ttu-id="fcda4-243">Vídeo: Microsoft HoloLens: HoloTour</span><span class="sxs-lookup"><span data-stu-id="fcda4-243">Video: Microsoft HoloLens: HoloTour</span></span>](https://www.youtube.com/watch?v=pLd9WPlaMpY)
