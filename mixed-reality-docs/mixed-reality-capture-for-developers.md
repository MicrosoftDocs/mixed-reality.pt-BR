---
title: Misto captura realidade para desenvolvedores
description: Práticas recomendadas para realidade misturada capturam para desenvolvedores.
author: mattzmsft
ms.author: mazeller
ms.date: 02/24/2019
ms.topic: article
keywords: MRC, fotos, vídeo, captura, câmera
ms.openlocfilehash: c2d98baf16b2ea724247224aabadc1e2ca533ec1
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/12/2019
ms.locfileid: "59589463"
---
# <a name="mixed-reality-capture-for-developers"></a><span data-ttu-id="bee11-104">Misto captura realidade para desenvolvedores</span><span class="sxs-lookup"><span data-stu-id="bee11-104">Mixed reality capture for developers</span></span>

> [!NOTE]
> <span data-ttu-id="bee11-105">Mais orientações específicas para 2 HoloLens [em breve](index.md#news-and-notes).</span><span class="sxs-lookup"><span data-stu-id="bee11-105">More guidance specific to HoloLens 2 [coming soon](index.md#news-and-notes).</span></span> 

<span data-ttu-id="bee11-106">Ver [MRC habilitando em seu aplicativo](#enabling-mrc-in-your-app) abaixo para obter diretrizes sobre uma nova funcionalidade MRC para HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="bee11-106">See [Enabling MRC in your app](#enabling-mrc-in-your-app) below for guidance on a new MRC capability for HoloLens 2.</span></span>

<span data-ttu-id="bee11-107">Uma vez que um usuário pode levar uma [misto captura realidade](mixed-reality-capture.md) foto (MRC) ou o vídeo a qualquer momento, há algumas coisas que você deve ter em mente ao desenvolver seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bee11-107">Since a user could take a [mixed reality capture](mixed-reality-capture.md) (MRC) photo or video at any time, there are a few things that you should keep in mind when developing your application.</span></span> <span data-ttu-id="bee11-108">Isso inclui as práticas recomendadas para uma qualidade visual MRC e sua capacidade de resposta a alterações do sistema enquanto MRCs estão sendo capturadas.</span><span class="sxs-lookup"><span data-stu-id="bee11-108">This includes best practices for MRC visual quality and being responsive to system changes while MRCs are being captured.</span></span>

<span data-ttu-id="bee11-109">Os desenvolvedores podem integrar perfeitamente também captura realidade mista e inserção em seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="bee11-109">Developers can also seamlessly integrate mixed reality capture and insertion into their apps.</span></span>

<span data-ttu-id="bee11-110">MRC no HoloLens (primeira geração) dá suporte a vídeos e fotos até 720p, enquanto MRC em HoloLens 2 dá suporte a vídeos até 1080p e fotos até a resolução de 4K.</span><span class="sxs-lookup"><span data-stu-id="bee11-110">MRC on HoloLens (first-generation) supports videos and photos up to 720p, while MRC on HoloLens 2 supports videos up to 1080p and photos up to 4K resolution.</span></span>

## <a name="the-importance-of-quality-mrc"></a><span data-ttu-id="bee11-111">A importância da qualidade MRC</span><span class="sxs-lookup"><span data-stu-id="bee11-111">The importance of quality MRC</span></span>

<span data-ttu-id="bee11-112">Realidade misturada capturados fotos e vídeos provavelmente são a primeira exposição que um usuário terá de seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bee11-112">Mixed reality captured photos and videos are likely the first exposure a user will have of your app.</span></span> <span data-ttu-id="bee11-113">Se, como capturas de tela de realidade misturada em sua página da Microsoft Store ou de outros usuários de compartilhamento MRCs em redes sociais.</span><span class="sxs-lookup"><span data-stu-id="bee11-113">Whether as mixed reality screenshots on your Microsoft Store page or from other users sharing MRCs on social networks.</span></span> <span data-ttu-id="bee11-114">Você pode usar MRC para seu aplicativo de demonstração, instrua os usuários, encorajar os usuários a compartilhar suas interações com mundo misto e para pesquisa de usuários e solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="bee11-114">You can use MRC to demo your app, educate users, encourage users to share their mixed world interactions, and for user research and problem solving.</span></span>

## <a name="how-mrc-impacts-your-app"></a><span data-ttu-id="bee11-115">Como MRC afeta o seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="bee11-115">How MRC impacts your app</span></span>

### <a name="enabling-mrc-in-your-app"></a><span data-ttu-id="bee11-116">Habilitar MRC em seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="bee11-116">Enabling MRC in your app</span></span>

<span data-ttu-id="bee11-117">Por padrão, um aplicativo não precisa fazer nada para habilitar usuários a obter capturas de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="bee11-117">By default, an app does not have to do anything to enable users to take mixed reality captures.</span></span> <span data-ttu-id="bee11-118">No entanto, como o design do HoloLens 2 aumenta a distância entre a câmera de foto/vídeo (PV) e a exibição, incluiremos uma nova opção para produzir uma renderização de câmera 3ª alinhada com a câmera VP de **HoloLens 2**.</span><span class="sxs-lookup"><span data-stu-id="bee11-118">However, because the design of HoloLens 2 increases the distance between the photo/video (PV) camera and the display, we'll be introducing a new option to produce a 3rd camera render aligned to the PV camera of **HoloLens 2**.</span></span> 

<span data-ttu-id="bee11-119">Autorização de câmera 3ª renderizar em HoloLens 2 oferece os seguintes aperfeiçoamentos sobre a experiência MRC padrão:</span><span class="sxs-lookup"><span data-stu-id="bee11-119">Opting-in to 3rd camera render on HoloLens 2 offers the following improvements over the default MRC experience:</span></span>
* <span data-ttu-id="bee11-120">Alinhamento de holograma para seu ambiente físico e de mãos (para interações quase) deve ser preciso em todos os distâncias, em vez de ter um deslocamento em distâncias diferente do [concentre-se o ponto](focus-point-in-unity.md) como você pode ver no MRC padrão.</span><span class="sxs-lookup"><span data-stu-id="bee11-120">Hologram alignment to both your physical environment and hands (for near interactions) should be accurate at all distances, instead of having an offset at distances other than the [focus point](focus-point-in-unity.md) as you might see in the default MRC.</span></span>
* <span data-ttu-id="bee11-121">O olho à direita o Headset não será comprometido, pois ele não será usado para renderizar as hologramas para a saída MRC.</span><span class="sxs-lookup"><span data-stu-id="bee11-121">The right eye in the headset won't be compromised, as it won't be used to render the holograms for the MRC output.</span></span>

### <a name="disabling-mrc-in-your-app"></a><span data-ttu-id="bee11-122">Desabilitando MRC em seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="bee11-122">Disabling MRC in your app</span></span>

<span data-ttu-id="bee11-123">Quando usa um aplicativo 2D [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://msdn.microsoft.com/library/windows/desktop/bb509554(v=vs.85).aspx) ou [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://msdn.microsoft.com/library/windows/desktop/bb173076(v=vs.85).aspx) para mostrar o conteúdo protegido com uma cadeia de troca configurado corretamente, o conteúdo do aplicativo visual será obscurecido automaticamente enquanto realidade misturada captura está em execução.</span><span class="sxs-lookup"><span data-stu-id="bee11-123">When a 2D app uses [DXGI_PRESENT_RESTRICT_TO_OUTPUT](https://msdn.microsoft.com/library/windows/desktop/bb509554(v=vs.85).aspx) or [DXGI_SWAP_CHAIN_FLAG_HW_PROTECTED](https://msdn.microsoft.com/library/windows/desktop/bb173076(v=vs.85).aspx) to show protected content with a properly-configured swap chain, the app's visual content will be automatically obscured while mixed reality capture is running.</span></span>

### <a name="knowing-when-mrc-is-active"></a><span data-ttu-id="bee11-124">Sabendo quando MRC está ativa</span><span class="sxs-lookup"><span data-stu-id="bee11-124">Knowing when MRC is active</span></span>

<span data-ttu-id="bee11-125">O [AppCapture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.aspx) classe pode ser usada por um aplicativo para saber quando o sistema misturadas captura realidade está em execução (para áudio ou vídeo).</span><span class="sxs-lookup"><span data-stu-id="bee11-125">The [AppCapture](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.aspx) class can be used by an app to know when system mixed reality capture is running (for either audio or video).</span></span>

>[!NOTE]
><span data-ttu-id="bee11-126">Do AppCapture [GetForCurrentView](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.getforcurrentview.aspx) API pode retornar null se misturada captura realidade não está disponível no dispositivo.</span><span class="sxs-lookup"><span data-stu-id="bee11-126">AppCapture's [GetForCurrentView](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.appcapture.getforcurrentview.aspx) API can return null if mixed reality capture isn't available on the device.</span></span> <span data-ttu-id="bee11-127">Também é importante cancelar o registro do evento de CapturingChanged quando seu aplicativo está suspenso, caso contrário, MRC pode entrar em um estado bloqueado.</span><span class="sxs-lookup"><span data-stu-id="bee11-127">It's also important to de-register the CapturingChanged event when your app is suspended, otherwise MRC can get into a blocked state.</span></span>

### <a name="best-practices-hololens-specific"></a><span data-ttu-id="bee11-128">Práticas recomendadas (específico do HoloLens)</span><span class="sxs-lookup"><span data-stu-id="bee11-128">Best practices (HoloLens-specific)</span></span>

<span data-ttu-id="bee11-129">MRC deve funcionar sem trabalho adicional de desenvolvedores, mas há algumas coisas a serem consideradas para fornecer uma experiência melhor de realidade misturada captura do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bee11-129">MRC is expected to work without additional work from developers, but there are a few things to be aware of to provide the best mixed reality capture experience of your app.</span></span>

<span data-ttu-id="bee11-130">**MRC usa o canal alfa do holograma para combinar com o [câmera](locatable-camera.md) imagens**</span><span class="sxs-lookup"><span data-stu-id="bee11-130">**MRC uses the hologram’s alpha channel to blend with the [camera](locatable-camera.md) imagery**</span></span>

<span data-ttu-id="bee11-131">A etapa mais importante é garantir que seu aplicativo está apagando para preto transparente, em vez de compensação para preto opaco.</span><span class="sxs-lookup"><span data-stu-id="bee11-131">The most important step is to make sure your app is clearing to transparent black instead of clearing to opaque black.</span></span> <span data-ttu-id="bee11-132">No Unity, isso é feito por padrão com o MixedRealityToolkit, mas se você estiver desenvolvendo no não Unity, você talvez precise fazer com que uma linha de uma alteração.</span><span class="sxs-lookup"><span data-stu-id="bee11-132">In Unity, this is done by default with the MixedRealityToolkit but if you are developing in non-Unity, you may need to make a one line change.</span></span>

<span data-ttu-id="bee11-133">Aqui estão alguns dos artefatos que você pode ver em MRC se seu aplicativo não está limpando para preto transparente:</span><span class="sxs-lookup"><span data-stu-id="bee11-133">Here are some of the artifacts you might see in MRC if your app is not clearing to transparent black:</span></span>

<span data-ttu-id="bee11-134">**Falhas de exemplo**: Preto bordas em torno do conteúdo (Falha ao limpar para preto transparente)</span><span class="sxs-lookup"><span data-stu-id="bee11-134">**Example Failures**: Black edges around the content (failing to clear to transparent black)</span></span>

<table>
<tr>
<td>
<img src="images/chessboardblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
<td>
<img src="images/fieldblackedges-300px.jpg" alt="Failing to clear to transparent black: black edge artifacts around holograms"/>
</td>
</tr>
</table>

<span data-ttu-id="bee11-135">**Falhas de exemplo**: A cena inteira do plano de fundo do holograma aparece em preta.</span><span class="sxs-lookup"><span data-stu-id="bee11-135">**Example Failures**: The entire background scene of the hologram appears black.</span></span> <span data-ttu-id="bee11-136">Definir um valor de alfa de plano de fundo de 1 resulta em um plano de fundo preto</span><span class="sxs-lookup"><span data-stu-id="bee11-136">Setting a background alpha value of 1 results in a black background</span></span>

![Definir um valor de alfa de plano de fundo de 1 resulta em um plano de fundo preto](images/clearopaqueblack-300px.png)

<span data-ttu-id="bee11-138">**Resultado esperado**: Hologramas aparecem corretamente combinadas com o mundo real (resultado esperado se desmarcar para preto transparente)</span><span class="sxs-lookup"><span data-stu-id="bee11-138">**Expected Result**: Holograms appear properly blended with the real-world (expected result if clearing to transparent black)</span></span>

![Resultado esperado se desmarcar para preto transparente](images/cleartransparentblack-300px.png)

<span data-ttu-id="bee11-140">**Solução**:</span><span class="sxs-lookup"><span data-stu-id="bee11-140">**Solution**:</span></span>
* <span data-ttu-id="bee11-141">Altere qualquer conteúdo que está aparecendo como preto opaco para ter um valor alfa de 0.</span><span class="sxs-lookup"><span data-stu-id="bee11-141">Change any content that is showing up as opaque black to have an alpha value of 0.</span></span>
* <span data-ttu-id="bee11-142">Certifique-se de que o aplicativo está apagando para preto transparente.</span><span class="sxs-lookup"><span data-stu-id="bee11-142">Ensure that the app is clearing to transparent black.</span></span>
* <span data-ttu-id="bee11-143">Padrões do Unity para limpar para limpar automaticamente com o MixedRealityToolkit, mas se ele for um aplicativo não Unity que você deve modificar a cor usada com ID3D11DeiceContext::ClearRenderTargetView().</span><span class="sxs-lookup"><span data-stu-id="bee11-143">Unity defaults to clear to clear automatically with the MixedRealityToolkit, but if it’s a non-Unity app you should modify the color used with ID3D11DeiceContext::ClearRenderTargetView().</span></span> <span data-ttu-id="bee11-144">Você deseja garantir que você desmarque para preto transparente (0,0,0,0) em vez do preto opaco (0,0,0,1).</span><span class="sxs-lookup"><span data-stu-id="bee11-144">You want to ensure you clear to transparent black (0,0,0,0) instead of opaque black (0,0,0,1).</span></span>

<span data-ttu-id="bee11-145">Agora você pode ajustar os valores alfa de seus ativos, se você gostaria de ter, mas normalmente não é necessário.</span><span class="sxs-lookup"><span data-stu-id="bee11-145">You can now tune the alpha values of your assets if you’d like, but typically don’t need to.</span></span> <span data-ttu-id="bee11-146">Na maioria das vezes, MRCs uma boas aparência fora da caixa.</span><span class="sxs-lookup"><span data-stu-id="bee11-146">Most of the time, MRCs will look good out of the box.</span></span> <span data-ttu-id="bee11-147">MRC pressupõe o alfa pré-multiplicado.</span><span class="sxs-lookup"><span data-stu-id="bee11-147">MRC assumes pre-multiplied alpha.</span></span> <span data-ttu-id="bee11-148">Os valores alfa afetará apenas a captura MRC.</span><span class="sxs-lookup"><span data-stu-id="bee11-148">The alpha values will only affect the MRC capture.</span></span>

### <a name="what-to-expect-when-mrc-is-enabled-on-hololens"></a><span data-ttu-id="bee11-149">O que esperar quando MRC está habilitada em HoloLens</span><span class="sxs-lookup"><span data-stu-id="bee11-149">What to expect when MRC is enabled on HoloLens</span></span>

<span data-ttu-id="bee11-150">O exemplo a seguir se aplicam a HoloLens (primeira geração) e 2 do HoloLens, a menos que indicado o contrário:</span><span class="sxs-lookup"><span data-stu-id="bee11-150">The following apply to both HoloLens (first-generation) and HoloLens 2, unless otherwise noted:</span></span>

* <span data-ttu-id="bee11-151">O sistema limitará o aplicativo para a renderização de 30Hz.</span><span class="sxs-lookup"><span data-stu-id="bee11-151">The system will throttle the application to 30Hz rendering.</span></span> <span data-ttu-id="bee11-152">Isso cria alguns sobra para MRC ser executado para que o aplicativo não precisa manter uma reserva de orçamento constante e também corresponde a taxa de quadros MRC gravação de vídeo de 30fps</span><span class="sxs-lookup"><span data-stu-id="bee11-152">This creates some headroom for MRC to run so the app doesn’t need to keep a constant budget reserve and also matches the MRC video record framerate of 30fps</span></span>
* <span data-ttu-id="bee11-153">Holograma conteúdo nos olhos correto do dispositivo poderá parecer "fagulhas" quando a gravação/streaming MRC: texto pode se tornar mais difícil de ler e bordas holograma pareça mais com bordas irregulares (autorização de câmera 3ª renderizar na **HoloLens 2** evita Esse comprometimento)</span><span class="sxs-lookup"><span data-stu-id="bee11-153">Hologram content in the right eye of the device may appear to “sparkle” when recording/streaming MRC: text may become more difficult to read and hologram edges may appear more jaggy (opting-in to 3rd camera render on **HoloLens 2** avoids this compromise)</span></span>
* <span data-ttu-id="bee11-154">MRC fotos e vídeos do aplicativo respeita [focar ponto](focus-point-in-unity.md) se o aplicativo tiver habilitado, que ajudará a garantir hologramas são posicionados com precisão.</span><span class="sxs-lookup"><span data-stu-id="bee11-154">MRC photos and videos will respect the application’s [focus point](focus-point-in-unity.md) if the application has enabled it, which will help ensure holograms are accurately positioned.</span></span> <span data-ttu-id="bee11-155">Para vídeos, o ponto de foco é suavizado, portanto, podem parecer hologramas descompasso lentamente no lugar, se a profundidade do ponto de foco for alterado significativamente.</span><span class="sxs-lookup"><span data-stu-id="bee11-155">For videos, the Focus Point is smoothed so holograms may appear to slowly drift into place if the Focus Point depth changes significantly.</span></span> <span data-ttu-id="bee11-156">Hologramas que correm profundidades diferentes do ponto de foco podem aparecer deslocamento do mundo real (veja o exemplo abaixo onde o ponto de foco é definido no 2 metros mas holograma é posicionada no medidor de 1).</span><span class="sxs-lookup"><span data-stu-id="bee11-156">Holograms that are at different depths from the focus point may appear offset from the real world (see example below where Focus Point is set at 2 meters but hologram is positioned at 1 meter).</span></span>

![Hologramas em 2 metros aparecerá perfeitamente registradas para o mundo.](images/hologramaccuracydistancemrc-1000px.png)

## <a name="integrating-mrc-functionality-from-within-your-app"></a><span data-ttu-id="bee11-159">Integrar a funcionalidade MRC de dentro de seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="bee11-159">Integrating MRC functionality from within your app</span></span>

<span data-ttu-id="bee11-160">Seu aplicativo de realidade misturada pode iniciar foto MRC ou captura de vídeo de dentro do aplicativo, e o conteúdo capturado é disponibilizado para seu aplicativo sem ser armazenado para do dispositivo "rolo da câmera."</span><span class="sxs-lookup"><span data-stu-id="bee11-160">Your mixed reality app can initiate MRC photo or video capture from within the app, and the content captured is made available to your app without being stored to the device's "Camera roll."</span></span> <span data-ttu-id="bee11-161">Você pode criar um gravador MRC personalizado ou tirar proveito da captura de câmera interna da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="bee11-161">You can create a custom MRC recorder or take advantage of built-in camera capture UI.</span></span> 

### <a name="mrc-with-built-in-camera-ui"></a><span data-ttu-id="bee11-162">MRC com câmera interna da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="bee11-162">MRC with built-in camera UI</span></span>

<span data-ttu-id="bee11-163">Os desenvolvedores podem usar o *[API de interface do usuário de captura câmera](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* para obter uma foto de realidade misturada capturados pelo usuário ou um vídeo com apenas algumas linhas de código.</span><span class="sxs-lookup"><span data-stu-id="bee11-163">Developers can use the *[Camera Capture UI API](https://docs.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)* to get a user-captured mixed reality photo or video with just a few lines of code.</span></span>

<span data-ttu-id="bee11-164">Essa API inicia a câmera MRC interna da interface do usuário, do qual o usuário pode tirar uma foto ou vídeo e retorna a captura resultante para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bee11-164">This API launches the built-in MRC camera UI, from which the user can take a photo or video, and returns the resulting capture to your app.</span></span>  <span data-ttu-id="bee11-165">Se você quiser criar sua própria interface do usuário da câmera ou precisa de nível inferior acesso ao fluxo de captura, você pode criar um gravador de captura de realidade misturada personalizado.</span><span class="sxs-lookup"><span data-stu-id="bee11-165">If you want to create your own camera UI, or need lower-level access to the capture stream, you can create a custom Mixed Reality Capture recorder.</span></span>

### <a name="creating-a-custom-mrc-recorder"></a><span data-ttu-id="bee11-166">Criar um gravador MRC personalizado</span><span class="sxs-lookup"><span data-stu-id="bee11-166">Creating a custom MRC recorder</span></span>

<span data-ttu-id="bee11-167">Enquanto o usuário sempre pode disparar uma foto ou capturar MRC vídeo usando o sistema de serviço, um aplicativo talvez queira criar um aplicativo de câmera personalizado, mas incluem hologramas no fluxo de câmera, assim como MRC.</span><span class="sxs-lookup"><span data-stu-id="bee11-167">While the user can always trigger a photo or video using the system MRC capture service, an application may want to build a custom camera app but include holograms in the camera stream just like MRC.</span></span> <span data-ttu-id="bee11-168">Isso permite que o aplicativo disparar capturas em nome do usuário, criar gravação de personalizados da interface do usuário ou personalizar as configurações de MRC para citar alguns exemplos.</span><span class="sxs-lookup"><span data-stu-id="bee11-168">This allows the application to kick off captures on behalf of the user, build custom recording UI, or customize MRC settings to name a few examples.</span></span>

<span data-ttu-id="bee11-169">**HoloStudio adiciona uma câmera MRC personalizada usando efeitos MRC**</span><span class="sxs-lookup"><span data-stu-id="bee11-169">**HoloStudio adds a custom MRC camera using MRC effects**</span></span>

![HoloStudio adiciona uma câmera MRC personalizada usando efeitos MRC](images/cameraiconholostudio-300px.jpg)

<span data-ttu-id="bee11-171">Aplicativos do Unity devem ver [Locatable_camera_in_Unity](locatable-camera-in-unity.md) para a propriedade para habilitar hologramas.</span><span class="sxs-lookup"><span data-stu-id="bee11-171">Unity Applications should see [Locatable_camera_in_Unity](locatable-camera-in-unity.md) for the property to enable holograms.</span></span>

<span data-ttu-id="bee11-172">Outros aplicativos podem fazer isso usando o [APIs de captura de mídia do Windows](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) para controlar a câmera e adicionar um efeito de áudio e vídeo MRC para incluir hologramas virtuais e o áudio do aplicativo em vídeos e ainda pode.</span><span class="sxs-lookup"><span data-stu-id="bee11-172">Other applications can do this by using the [Windows Media Capture APIs](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.aspx) to control the Camera and add an MRC Video and Audio effect to include virtual holograms and application audio in stills and videos.</span></span>

<span data-ttu-id="bee11-173">Os aplicativos têm duas opções para adicionar o efeito:</span><span class="sxs-lookup"><span data-stu-id="bee11-173">Applications have two options to add the effect:</span></span>
* <span data-ttu-id="bee11-174">A API mais antiga: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](https://msdn.microsoft.com/library/windows/apps/br211961.aspx)</span><span class="sxs-lookup"><span data-stu-id="bee11-174">The older API: [Windows.Media.Capture.MediaCapture.AddEffectAsync()](https://msdn.microsoft.com/library/windows/apps/br211961.aspx)</span></span>
* <span data-ttu-id="bee11-175">O novo Microsoft recomendável API (retorna um objeto, tornando possível manipular as propriedades dinâmicas): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addvideoeffectasync.aspx) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addaudioeffectasync.aspx) que exige que o aplicativo criar sua própria implementação do [IVideoEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.ivideoeffectdefinition.aspx) e [IAudioEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.iaudioeffectdefinition.aspx).</span><span class="sxs-lookup"><span data-stu-id="bee11-175">The new Microsoft recommended API (returns an object, making it possible to manipulate dynamic properties): [Windows.Media.Capture.MediaCapture.AddVideoEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addvideoeffectasync.aspx) / [Windows.Media.Capture.MediaCapture.AddAudioEffectAsync()](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediacapture.addaudioeffectasync.aspx) which require the app create its own implementation of [IVideoEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.ivideoeffectdefinition.aspx) and [IAudioEffectDefinition](https://msdn.microsoft.com/library/windows/apps/windows.media.effects.iaudioeffectdefinition.aspx).</span></span> <span data-ttu-id="bee11-176">Consulte o exemplo de efeito MRC para exemplo de uso.</span><span class="sxs-lookup"><span data-stu-id="bee11-176">Please see the MRC effect sample for sample usage.</span></span>

<span data-ttu-id="bee11-177">(Observe que esses namespaces não serão reconhecidos pelo Visual Studio, mas as cadeias de caracteres ainda são válidas)</span><span class="sxs-lookup"><span data-stu-id="bee11-177">(Note that these namespaces will not be recognized by Visual Studio, but the strings are still valid)</span></span>

<span data-ttu-id="bee11-178">O efeito de vídeo MRC (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span><span class="sxs-lookup"><span data-stu-id="bee11-178">MRC Video Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureVideoEffect**)</span></span>

|  <span data-ttu-id="bee11-179">Nome da propriedade</span><span class="sxs-lookup"><span data-stu-id="bee11-179">Property Name</span></span>  |  <span data-ttu-id="bee11-180">Tipo</span><span class="sxs-lookup"><span data-stu-id="bee11-180">Type</span></span>  |  <span data-ttu-id="bee11-181">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="bee11-181">Default Value</span></span>  |  <span data-ttu-id="bee11-182">Descrição</span><span class="sxs-lookup"><span data-stu-id="bee11-182">Description</span></span> | 
|----------|----------|----------|----------|
|  <span data-ttu-id="bee11-183">StreamType</span><span class="sxs-lookup"><span data-stu-id="bee11-183">StreamType</span></span>  |  <span data-ttu-id="bee11-184">UINT32 ([MediaStreamType](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediastreamtype.aspx))</span><span class="sxs-lookup"><span data-stu-id="bee11-184">UINT32 ([MediaStreamType](https://msdn.microsoft.com/library/windows/apps/windows.media.capture.mediastreamtype.aspx))</span></span>  |  <span data-ttu-id="bee11-185">1 (VideoRecord)</span><span class="sxs-lookup"><span data-stu-id="bee11-185">1 (VideoRecord)</span></span>  |  <span data-ttu-id="bee11-186">Descreva esse efeito é usado para qual fluxo de captura.</span><span class="sxs-lookup"><span data-stu-id="bee11-186">Describe which capture stream this effect is used for.</span></span> <span data-ttu-id="bee11-187">Áudio não está disponível.</span><span class="sxs-lookup"><span data-stu-id="bee11-187">Audio is not available.</span></span> | 
|  <span data-ttu-id="bee11-188">HologramCompositionEnabled</span><span class="sxs-lookup"><span data-stu-id="bee11-188">HologramCompositionEnabled</span></span>  |  <span data-ttu-id="bee11-189">booliano</span><span class="sxs-lookup"><span data-stu-id="bee11-189">boolean</span></span>  |  <span data-ttu-id="bee11-190">TRUE</span><span class="sxs-lookup"><span data-stu-id="bee11-190">TRUE</span></span>  |  <span data-ttu-id="bee11-191">Sinalizador para habilitar ou desabilitar hologramas na captura de vídeo.</span><span class="sxs-lookup"><span data-stu-id="bee11-191">Flag to enable or disable holograms in video capture.</span></span> | 
|  <span data-ttu-id="bee11-192">RecordingIndicatorEnabled</span><span class="sxs-lookup"><span data-stu-id="bee11-192">RecordingIndicatorEnabled</span></span>  |  <span data-ttu-id="bee11-193">booliano</span><span class="sxs-lookup"><span data-stu-id="bee11-193">boolean</span></span>  |  <span data-ttu-id="bee11-194">TRUE</span><span class="sxs-lookup"><span data-stu-id="bee11-194">TRUE</span></span>  |  <span data-ttu-id="bee11-195">Sinalizador para habilitar ou desabilitar o indicador de gravação na tela durante a captura de holograma.</span><span class="sxs-lookup"><span data-stu-id="bee11-195">Flag to enable or disable recording indicator on screen during hologram capturing.</span></span> | 
|  <span data-ttu-id="bee11-196">VideoStabilizationEnabled</span><span class="sxs-lookup"><span data-stu-id="bee11-196">VideoStabilizationEnabled</span></span>  |  <span data-ttu-id="bee11-197">booliano</span><span class="sxs-lookup"><span data-stu-id="bee11-197">boolean</span></span>  |  <span data-ttu-id="bee11-198">FALSE</span><span class="sxs-lookup"><span data-stu-id="bee11-198">FALSE</span></span>  |  <span data-ttu-id="bee11-199">Sinalizador para habilitar ou desabilitar a estabilização do vídeo alimentada pelo controlador de HoloLens.</span><span class="sxs-lookup"><span data-stu-id="bee11-199">Flag to enable or disable video stabilization powered by the HoloLens tracker.</span></span> | 
|  <span data-ttu-id="bee11-200">VideoStabilizationBufferLength</span><span class="sxs-lookup"><span data-stu-id="bee11-200">VideoStabilizationBufferLength</span></span>  |  <span data-ttu-id="bee11-201">UINT32</span><span class="sxs-lookup"><span data-stu-id="bee11-201">UINT32</span></span>  |  <span data-ttu-id="bee11-202">0</span><span class="sxs-lookup"><span data-stu-id="bee11-202">0</span></span>  |  <span data-ttu-id="bee11-203">Defina o número de quadros de histórico é usado para a estabilização do vídeo.</span><span class="sxs-lookup"><span data-stu-id="bee11-203">Set how many historical frames are used for video stabilization.</span></span> <span data-ttu-id="bee11-204">0 é a latência de 0 e quase "gratuito" de uma perspectiva de capacidade e desempenho.</span><span class="sxs-lookup"><span data-stu-id="bee11-204">0 is 0-latency and nearly "free" from a power and performance perspective.</span></span> <span data-ttu-id="bee11-205">15 é recomendado para a mais alta qualidade (às custas de 15 quadros de latência e a memória).</span><span class="sxs-lookup"><span data-stu-id="bee11-205">15 is recommended for highest quality (at the cost of 15 frames of latency and memory).</span></span> | 
|  <span data-ttu-id="bee11-206">GlobalOpacityCoefficient</span><span class="sxs-lookup"><span data-stu-id="bee11-206">GlobalOpacityCoefficient</span></span>  |  <span data-ttu-id="bee11-207">flutuante</span><span class="sxs-lookup"><span data-stu-id="bee11-207">float</span></span>  |  <span data-ttu-id="bee11-208">0.9 (HoloLens) 1.0 (fone de ouvido imersivo)</span><span class="sxs-lookup"><span data-stu-id="bee11-208">0.9 (HoloLens) 1.0 (Immersive headset)</span></span>  |  <span data-ttu-id="bee11-209">Definir coeficiente de opacidade global de holograma no intervalo de 0,0 (totalmente transparente) a 1.0 (completamente opaco).</span><span class="sxs-lookup"><span data-stu-id="bee11-209">Set global opacity coefficient of hologram in range from 0.0 (fully transparent) to 1.0 (fully opaque).</span></span> | 
|  <span data-ttu-id="bee11-210">BlankOnProtectedContent</span><span class="sxs-lookup"><span data-stu-id="bee11-210">BlankOnProtectedContent</span></span>  |  <span data-ttu-id="bee11-211">booliano</span><span class="sxs-lookup"><span data-stu-id="bee11-211">boolean</span></span>  |  <span data-ttu-id="bee11-212">FALSE</span><span class="sxs-lookup"><span data-stu-id="bee11-212">FALSE</span></span>  |  <span data-ttu-id="bee11-213">Sinalizador para habilitar ou desabilitar retornando um quadro vazio se não houver um conteúdo mostrando de aplicativo UWP protegido 2d.</span><span class="sxs-lookup"><span data-stu-id="bee11-213">Flag to enable or disable returning an empty frame if there is a 2d UWP app showing protected content.</span></span> <span data-ttu-id="bee11-214">Se esse sinalizador é false e um 2d aplicativo da UWP é mostrando protegido conteúdo, que o aplicativo UWP 2d será substituído por uma textura de conteúdo protegida no fone de ouvido e na captura de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="bee11-214">If this flag is false and a 2d UWP app is showing protected content, the 2d UWP app will be replaced by a protected content texture in both the headset and in the mixed reality capture.</span></span> |
|  <span data-ttu-id="bee11-215">ShowHiddenMesh</span><span class="sxs-lookup"><span data-stu-id="bee11-215">ShowHiddenMesh</span></span>  |  <span data-ttu-id="bee11-216">booliano</span><span class="sxs-lookup"><span data-stu-id="bee11-216">boolean</span></span>  |  <span data-ttu-id="bee11-217">FALSE</span><span class="sxs-lookup"><span data-stu-id="bee11-217">FALSE</span></span>  |  <span data-ttu-id="bee11-218">Sinalizador para habilitar ou desabilitar mostrando a malha de área oculto da câmera holográfica e os vizinhos de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="bee11-218">Flag to enable or disable showing the holographic camera's hidden area mesh and neighboring content.</span></span> |

<span data-ttu-id="bee11-219">O efeito de áudio MRC (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span><span class="sxs-lookup"><span data-stu-id="bee11-219">MRC Audio Effect (**Windows.Media.MixedRealityCapture.MixedRealityCaptureAudioEffect**)</span></span>

<table>
<tr>
<th><span data-ttu-id="bee11-220">Nome da propriedade</span><span class="sxs-lookup"><span data-stu-id="bee11-220">Property Name</span></span></th>
<th><span data-ttu-id="bee11-221">Tipo</span><span class="sxs-lookup"><span data-stu-id="bee11-221">Type</span></span></th>
<th><span data-ttu-id="bee11-222">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="bee11-222">Default Value</span></span></th>
<th><span data-ttu-id="bee11-223">Descrição</span><span class="sxs-lookup"><span data-stu-id="bee11-223">Description</span></span></th>
</tr>
<tr>
<td><span data-ttu-id="bee11-224">MixerMode</span><span class="sxs-lookup"><span data-stu-id="bee11-224">MixerMode</span></span></td>
<td><span data-ttu-id="bee11-225">UINT32</span><span class="sxs-lookup"><span data-stu-id="bee11-225">UINT32</span></span></td>
<td><span data-ttu-id="bee11-226">2</span><span class="sxs-lookup"><span data-stu-id="bee11-226">2</span></span></td>
<td>
<ul>
<li><span data-ttu-id="bee11-227">0 : Somente o áudio do microfone</span><span class="sxs-lookup"><span data-stu-id="bee11-227">0 : Mic audio only</span></span></li>
<li><span data-ttu-id="bee11-228">1 : Somente o áudio do sistema</span><span class="sxs-lookup"><span data-stu-id="bee11-228">1 : System audio only</span></span></li>
<li><span data-ttu-id="bee11-229">2 : MIC e áudio do sistema</span><span class="sxs-lookup"><span data-stu-id="bee11-229">2 : Mic and System audio</span></span></li>
</ul>
</td>
</tr>
</table>

### <a name="simultaneous-mrc-limitations"></a><span data-ttu-id="bee11-230">Limitações de MRC simultâneas</span><span class="sxs-lookup"><span data-stu-id="bee11-230">Simultaneous MRC limitations</span></span>

<span data-ttu-id="bee11-231">Há algumas limitações em torno de vários aplicativos acessando MRC ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="bee11-231">There are certain limitations around multiple apps accessing MRC at the same time.</span></span>

#### <a name="photovideo-camera-access"></a><span data-ttu-id="bee11-232">Acesso à câmera de vídeo/foto</span><span class="sxs-lookup"><span data-stu-id="bee11-232">Photo/video camera access</span></span>

<span data-ttu-id="bee11-233">A câmera de vídeo/foto é limitada ao número de processos que podem acessá-lo ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="bee11-233">The photo/video camera is limited to the number of processes that can access it at the same time.</span></span> <span data-ttu-id="bee11-234">Enquanto um processo está gravando vídeo ou tirar uma foto em qualquer outro processo irá falhar adquirir a câmera de vídeo/foto.</span><span class="sxs-lookup"><span data-stu-id="bee11-234">While a process is recording video or taking a photo any other process will fail to acquire the photo/video camera.</span></span> <span data-ttu-id="bee11-235">(isso se aplica a captura de realidade mista e captura de foto padrão/vídeo)</span><span class="sxs-lookup"><span data-stu-id="bee11-235">(this applies to both Mixed Reality Capture and standard photo/video capture)</span></span>

<span data-ttu-id="bee11-236">Com o Windows 10 de abril de 2018 atualização, essa restrição não se aplica a câmera MRC interna da interface do usuário é usada para tirar uma foto ou um vídeo, depois que um aplicativo tiver começado a usar a câmera de vídeo/foto.</span><span class="sxs-lookup"><span data-stu-id="bee11-236">With the Windows 10 April 2018 Update, this restriction does not apply if the built-in MRC camera UI is used to take a photo or a video after an app has started using the photo/video camera.</span></span> <span data-ttu-id="bee11-237">Quando isso acontece, a resolução e taxa de quadros da câmera MRC interna da interface do usuário podem ser reduzidos de seus valores de normais.</span><span class="sxs-lookup"><span data-stu-id="bee11-237">When this happens, the resolution and framerate of the built-in MRC camera UI might be reduced from its normal values.</span></span>

<span data-ttu-id="bee11-238">Com o Windows 10 de outubro de 2018 atualização, essa restrição não se aplica para streaming MRC pela Miracast.</span><span class="sxs-lookup"><span data-stu-id="bee11-238">With the Windows 10 October 2018 Update, this restriction does not apply to streaming MRC over Miracast.</span></span>

#### <a name="mrc-access"></a><span data-ttu-id="bee11-239">Acesso MRC</span><span class="sxs-lookup"><span data-stu-id="bee11-239">MRC access</span></span>

<span data-ttu-id="bee11-240">Com o Windows 10 de abril de 2018 Update, não há uma limitação em torno de vários aplicativos acessando o fluxo MRC (no entanto, o acesso à câmera foto/vídeo ainda tem limitações).</span><span class="sxs-lookup"><span data-stu-id="bee11-240">With the Windows 10 April 2018 Update, there is no longer a limitation around multiple apps accessing the MRC stream (however, the access to the photo/video camera still has limitations).</span></span>

<span data-ttu-id="bee11-241">Anteriores ao Windows 10 de abril de 2018 gravador MRC personalizado de um aplicativo, a atualização foi mutuamente exclusiva com o sistema MRC (captura de fotos, vídeos de captura ou fluxo com o Windows Device Portal).</span><span class="sxs-lookup"><span data-stu-id="bee11-241">Previous to the Windows 10 April 2018 Update, an app's custom MRC recorder was mutually exclusive with system MRC (capturing photos, capturing videos, or streaming from the Windows Device Portal).</span></span>

## <a name="see-also"></a><span data-ttu-id="bee11-242">Consulte também</span><span class="sxs-lookup"><span data-stu-id="bee11-242">See also</span></span>
* [<span data-ttu-id="bee11-243">Captura de realidade misturada</span><span class="sxs-lookup"><span data-stu-id="bee11-243">Mixed reality capture</span></span>](mixed-reality-capture.md)
* [<span data-ttu-id="bee11-244">Modo de exibição spectator</span><span class="sxs-lookup"><span data-stu-id="bee11-244">Spectator view</span></span>](spectator-view.md)
