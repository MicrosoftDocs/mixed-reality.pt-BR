---
title: 5. Como adicionar um botão e redefinir locais de peças
description: Parte 5 de um tutorial para criar um aplicativo de xadrez simples usando o Unreal Engine 4 e o plug-in Ferramentas de UX do Kit de Ferramentas de Realidade Misturada
author: sw5813
ms.author: suwu
ms.date: 5/5/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, mixed reality, tutorial, getting started, mrtk, uxt, UX Tools, documentation
ms.openlocfilehash: 77fe2b59db970a2ac4b531d69efec6794478f7d5
ms.sourcegitcommit: 09d9fa153cd9072f60e33a5f83ced8167496fcd7
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/18/2020
ms.locfileid: "83519988"
---
# <a name="5-adding-a-button--resetting-piece-locations"></a><span data-ttu-id="5eac6-104">5. Como adicionar um botão e redefinir locais de peças</span><span class="sxs-lookup"><span data-stu-id="5eac6-104">5. Adding a button & resetting piece locations</span></span>

<span data-ttu-id="5eac6-105">Esta seção continua a demonstração das funcionalidades do plug-in Ferramentas de UX do Kit de Ferramentas de Realidade Misturada e a criação dos recursos do seu aplicativo de xadrez.</span><span class="sxs-lookup"><span data-stu-id="5eac6-105">This section continues demonstrating the capabilities of the Mixed Reality Toolkit UX Tools plugin and building out the features of your chess app.</span></span> <span data-ttu-id="5eac6-106">Você criará uma nova função e aprenderá a levar referências para Atores do seu Nível até um Blueprint.</span><span class="sxs-lookup"><span data-stu-id="5eac6-106">You’ll create a new function and learn how to get references to Actors from your Level into a Blueprint.</span></span>

## <a name="objectives"></a><span data-ttu-id="5eac6-107">Objetivos</span><span class="sxs-lookup"><span data-stu-id="5eac6-107">Objectives</span></span>

* <span data-ttu-id="5eac6-108">Adicionar um botão ao seu projeto</span><span class="sxs-lookup"><span data-stu-id="5eac6-108">Add a button to your project</span></span>
* <span data-ttu-id="5eac6-109">Criar uma função "Reset Location" que envia uma peça de volta para seu local original</span><span class="sxs-lookup"><span data-stu-id="5eac6-109">Create a new “Reset Location” function that sends a piece back to its original location</span></span>
* <span data-ttu-id="5eac6-110">Vincular o botão para disparar a função recém-criada quando pressionado</span><span class="sxs-lookup"><span data-stu-id="5eac6-110">Hook the button up to trigger the newly created function when pressed</span></span>

## <a name="create-a-function-to-reset-location"></a><span data-ttu-id="5eac6-111">Criar uma função para redefinir o local</span><span class="sxs-lookup"><span data-stu-id="5eac6-111">Create a function to reset location</span></span>

1.  <span data-ttu-id="5eac6-112">Abra **WhiteKing**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-112">Open **WhiteKing**.</span></span> <span data-ttu-id="5eac6-113">No painel **Meu Blueprint**, clique no botão "+" ao lado da seção **Funções** para criar uma função.</span><span class="sxs-lookup"><span data-stu-id="5eac6-113">In the **My Blueprint** panel, click the “+” button next to the **Functions** section to create a new function.</span></span> <span data-ttu-id="5eac6-114">Nomeie essa função como "Reset Location".</span><span class="sxs-lookup"><span data-stu-id="5eac6-114">Name this function “Reset Location”.</span></span> 

2.  <span data-ttu-id="5eac6-115">No Blueprint **Reset Location** criado recentemente, arraste o pino de execução e solte-o em qualquer lugar na grade do Blueprint para chamar um nó **SetActorRelativeTransform**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-115">In your newly created **Reset Location** Blueprint, drag the execution pin and release anywhere on the Blueprint grid to call a **SetActorRelativeTransform** node.</span></span> <span data-ttu-id="5eac6-116">Essa função define a transformação (localização, rotação e escala) de um ator em relação ao seu pai.</span><span class="sxs-lookup"><span data-stu-id="5eac6-116">This function sets the transform (location, rotation, and scale) of an actor relative to its parent.</span></span> <span data-ttu-id="5eac6-117">Usaremos essa função para redefinir a posição do rei no tabuleiro, mesmo que o tabuleiro tenha sido movido de sua posição original.</span><span class="sxs-lookup"><span data-stu-id="5eac6-117">We’ll use this function to reset the king’s position on the board, even if the board has been moved from its original position.</span></span> <span data-ttu-id="5eac6-118">Crie um nó **Make Transform** com o local X = -26, Y = 4, Z = 0 e conecte-o à entrada Nova Transformação Relativa.</span><span class="sxs-lookup"><span data-stu-id="5eac6-118">Create a **Make Transform** node with Location X = -26, Y = 4, Z = 0, and connect it to the New Relative Transform input.</span></span> 

![Função Reset Location](images/unreal-uxt/5-function.PNG)

3.  <span data-ttu-id="5eac6-120">Compile e salve o **WhiteKing**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-120">Compile and Save **WhiteKing**.</span></span> <span data-ttu-id="5eac6-121">Volte para a Janela principal.</span><span class="sxs-lookup"><span data-stu-id="5eac6-121">Return to the Main window.</span></span> 

## <a name="add-a-button"></a><span data-ttu-id="5eac6-122">Adicionar um botão</span><span class="sxs-lookup"><span data-stu-id="5eac6-122">Add a button</span></span>

1.  <span data-ttu-id="5eac6-123">Na pasta **Blueprints**, crie um Blueprint como subclasse de SimpleButton.</span><span class="sxs-lookup"><span data-stu-id="5eac6-123">In your **Blueprints** folder, create a new Blueprint that subclasses SimpleButton.</span></span> <span data-ttu-id="5eac6-124">O SimpleButton é um Ator de Blueprint de botão 3D que é fornecido como parte do plug-in Ferramentas de UX.</span><span class="sxs-lookup"><span data-stu-id="5eac6-124">SimpleButton is a 3D button Blueprint Actor that is provided as part of the UX Tools plugin.</span></span> <span data-ttu-id="5eac6-125">Nomeie esse botão como "ResetButton" e clique duas vezes para abrir o Blueprint.</span><span class="sxs-lookup"><span data-stu-id="5eac6-125">Name this button “ResetButton” and double click to open the Blueprint.</span></span> 

![Subclasse do novo Blueprint de SimpleButton](images/unreal-uxt/5-subclass.PNG)

2.  <span data-ttu-id="5eac6-127">No painel **Componentes**, clique em **PressableButton (Herdado)** .</span><span class="sxs-lookup"><span data-stu-id="5eac6-127">In the **Components** panel, click on **PressableButton (Inherited)**.</span></span> <span data-ttu-id="5eac6-128">No painel Detalhes, role até ver a seção **Eventos**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-128">In the Details panel, scroll until you see the **Events** section.</span></span> <span data-ttu-id="5eac6-129">Clique no botão de adição verde próximo de **On Button Pressed**. Isso adicionará um evento **On Button Pressed** ao Grafo de Eventos, que será chamado quando o botão for pressionado.</span><span class="sxs-lookup"><span data-stu-id="5eac6-129">Click the green plus button next to **On Button Pressed**- this will add an **On Button Pressed** event to the Event Graph, which will be called when the button is pressed.</span></span> <span data-ttu-id="5eac6-130">Agora chamaremos a função Reset Location do WhiteKing.</span><span class="sxs-lookup"><span data-stu-id="5eac6-130">From here, we’ll want to call our WhiteKing’s Reset Location function.</span></span> <span data-ttu-id="5eac6-131">Para fazer isso, primeiro precisaremos obter uma referência ao Ator WhiteKing em nosso Nível.</span><span class="sxs-lookup"><span data-stu-id="5eac6-131">To do this, we’ll first need to get a reference to the WhiteKing Actor in our Level.</span></span> 

3.  <span data-ttu-id="5eac6-132">No painel **Meu Blueprint**, localize a seção **Variáveis** e clique no botão **+** para adicionar uma nova variável.</span><span class="sxs-lookup"><span data-stu-id="5eac6-132">In the **My Blueprint** panel, find the **Variables** section and click the **+** button to add a new variable.</span></span> <span data-ttu-id="5eac6-133">Nomeie essa variável como "WhiteKing".</span><span class="sxs-lookup"><span data-stu-id="5eac6-133">Name this variable “WhiteKing”.</span></span> <span data-ttu-id="5eac6-134">No painel Detalhes, selecione a lista suspensa próxima de **Tipo de Variável**, pesquise por "WhiteKing" e selecione a **Referência de Objeto**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-134">In the Details panel, select the dropdown next to **Variable Type**, search for “WhiteKing”, and select the **Object Reference**.</span></span> <span data-ttu-id="5eac6-135">Por fim, marque a caixa próxima de **Instância Editável**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-135">Finally, check the box next to **Instance Editable**.</span></span> <span data-ttu-id="5eac6-136">Isso permitirá que a variável seja definida no Nível Principal.</span><span class="sxs-lookup"><span data-stu-id="5eac6-136">This will allow the variable to be set from the Main Level.</span></span> 

![Criar uma variável](images/unreal-uxt/5-var.PNG)

4.  <span data-ttu-id="5eac6-138">Arraste a variável WhiteKing de **Meu Blueprint > Variáveis** até o Grafo de Eventos do Botão Redefinir.</span><span class="sxs-lookup"><span data-stu-id="5eac6-138">Drag the WhiteKing variable from **My Blueprint > Variables** onto the Reset Button Event Graph.</span></span> <span data-ttu-id="5eac6-139">Escolha **Obter WhiteKing**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-139">Choose **Get WhiteKing**.</span></span> 

5.  <span data-ttu-id="5eac6-140">Arraste o pino da saída WhiteKing e solte para posicionar um novo nó.</span><span class="sxs-lookup"><span data-stu-id="5eac6-140">Drag the WhiteKing output pin and release to place a new node.</span></span> <span data-ttu-id="5eac6-141">Selecione a função **Reset Location**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-141">Select the **Reset Location** function.</span></span> <span data-ttu-id="5eac6-142">Por fim, arraste o pino de execução de saída de **On Button Pressed** até o pino de execução de entrada em **Reset Location**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-142">Finally, drag the outgoing execution pin from **On Button Pressed** to the incoming execution pin on **Reset Location**.</span></span> <span data-ttu-id="5eac6-143">**Compile** e **Salve** o Blueprint ResetButton e, em seguida, retorne à Janela principal.</span><span class="sxs-lookup"><span data-stu-id="5eac6-143">**Compile** and **Save** the ResetButton Blueprint, then return to the Main window.</span></span> 

![Chamar função Reset Location de On Button Pressed](images/unreal-uxt/5-callresetloc.PNG)

6.  <span data-ttu-id="5eac6-145">Arraste **ResetButton** até o visor e defina seu local como X = 50, Y = -25, Z = 10.</span><span class="sxs-lookup"><span data-stu-id="5eac6-145">Drag **ResetButton** into the viewport and set its location to X = 50, Y = -25, Z = 10.</span></span> <span data-ttu-id="5eac6-146">Em **Padrão**, defina o valor da variável WhiteKing como **WhiteKing**.</span><span class="sxs-lookup"><span data-stu-id="5eac6-146">Under **Default**, set the value of the WhiteKing variable to **WhiteKing**.</span></span>

![Definir a variável](images/unreal-uxt/5-buttonlevel.PNG)

<span data-ttu-id="5eac6-148">Agora você tem um aplicativo de realidade misturada com uma peça e um tabuleiro de xadrez que podem ser pegados, bem como um botão totalmente funcional que redefinirá o local da peça quando for pressionado.</span><span class="sxs-lookup"><span data-stu-id="5eac6-148">You now have a mixed reality app with a grabbable chess piece and board, as well as a fully functioning button that will reset the piece’s location when pressed.</span></span> <span data-ttu-id="5eac6-149">O aplicativo criado até esse ponto pode ser encontrado no [GitHub](https://github.com/microsoft/MixedReality-Unreal-Samples/tree/master/ChessApp).</span><span class="sxs-lookup"><span data-stu-id="5eac6-149">The completed app up to this point can be found on [GitHub](https://github.com/microsoft/MixedReality-Unreal-Samples/tree/master/ChessApp).</span></span> <span data-ttu-id="5eac6-150">Você pode ir além deste tutorial e configurar o restante das peças de xadrez, para que todo o tabuleiro seja redefinido quando o usuário pressionar o botão.</span><span class="sxs-lookup"><span data-stu-id="5eac6-150">Feel free to go beyond this tutorial and set up the remainder of the chess pieces, so that the entire board is reset when the user presses the button.</span></span>

![Encerrar cena no visor](images/unreal-uxt/5-endscene.PNG)

[<span data-ttu-id="5eac6-152">Próxima seção: 6. Como empacotar e implantar no dispositivo ou emulador</span><span class="sxs-lookup"><span data-stu-id="5eac6-152">Next Section: 6. Packaging & deploying to device or emulator</span></span>](unreal-uxt-ch6.md)
