---
title: Práticas recomendadas para trabalhar com o Unity e o Visual Studio
description: Dicas e truques para simplificar o fluxo de trabalho de criação de um aplicativo de realidade misturada com o Unity e o Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: implantar, Unity, Visual Studio, HoloLens, HoloLens 2, headset de imersão
ms.openlocfilehash: b2c345a8cc9bddcbc447531eb5f6cdacc62f2e98
ms.sourcegitcommit: 915d3cc63a5571ba22ac4608589f3eca8da1bc81
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/24/2019
ms.locfileid: "63522316"
---
# <a name="best-practices-for-working-with-unity-and-visual-studio"></a><span data-ttu-id="a34f0-104">Práticas recomendadas para trabalhar com o Unity e o Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a34f0-104">Best practices for working with Unity and Visual Studio</span></span>

<span data-ttu-id="a34f0-105">Um desenvolvedor que cria um aplicativo de realidade misturada com o Unity precisará alternar entre o Unity e o Visual Studio para criar o pacote de aplicativos que é implantado no HoloLens e/ou um headset de imersão.</span><span class="sxs-lookup"><span data-stu-id="a34f0-105">A developer creating a mixed reality application with Unity will need to switch between Unity and Visual Studio to build the application package that is deployed to HoloLens and/or an immersive headset.</span></span> <span data-ttu-id="a34f0-106">Por padrão, duas instâncias do Visual Studio são necessárias (uma para modificar scripts do Unity e outra para implantar no dispositivo e depurar).</span><span class="sxs-lookup"><span data-stu-id="a34f0-106">By default two instances of Visual Studio are required (one to modify Unity scripts and one to deploy to the device and debug).</span></span> <span data-ttu-id="a34f0-107">O procedimento a seguir permite o desenvolvimento usando uma única instância do Visual Studio, reduz a frequência de exportação de projetos do Unity e melhora a experiência de depuração.</span><span class="sxs-lookup"><span data-stu-id="a34f0-107">The following procedure allows development using single Visual Studio instance, reduces the frequency of exporting Unity projects, and improves the debugging experience.</span></span>

## <a name="improving-iteration-time"></a><span data-ttu-id="a34f0-108">Melhorando o tempo de iteração</span><span class="sxs-lookup"><span data-stu-id="a34f0-108">Improving iteration time</span></span>

<span data-ttu-id="a34f0-109">O suporte para o back-end de script do .NET no Unity está sendo substituído no Unity 2018 e removido no Unity 2019 +.</span><span class="sxs-lookup"><span data-stu-id="a34f0-109">Support for .NET scripting back-end in Unity is being deprecated in Unity 2018 and removed in Unity 2019+.</span></span> <span data-ttu-id="a34f0-110">Portanto, é aconselhável mudar para [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="a34f0-110">Thus, it is advised to switch to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> <span data-ttu-id="a34f0-111">No entanto, isso pode incorrer em tempos de compilação mais longos do Unity para o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a34f0-111">However, this may incur longer build times from Unity to Visual Studio.</span></span> <span data-ttu-id="a34f0-112">Para melhorar a iteração mais rápida, é necessário configurar o ambiente para obter melhores resultados de compilação.</span><span class="sxs-lookup"><span data-stu-id="a34f0-112">To improve for faster iteration, one should set up their environment for best compilation results.</span></span>

1) <span data-ttu-id="a34f0-113">Aproveite a criação incremental criando seu projeto no mesmo diretório a cada vez, reutilizando os arquivos predefinidos ali</span><span class="sxs-lookup"><span data-stu-id="a34f0-113">Leverage incremental building by building your project to the same directory every time, re-using the pre-built files there</span></span>
2) <span data-ttu-id="a34f0-114">Desabilitar verificações de software antimalware para seu projeto & criar pastas</span><span class="sxs-lookup"><span data-stu-id="a34f0-114">Disable anti-malware software scans for your project & build folders</span></span>
   - <span data-ttu-id="a34f0-115">Abra o **vírus & proteção contra ameaças** em seu aplicativo de configurações do Windows 10</span><span class="sxs-lookup"><span data-stu-id="a34f0-115">Open **Virus & threat protection** under your Windows 10 settings app</span></span>
   - <span data-ttu-id="a34f0-116">Selecione **gerenciar configurações** em **vírus & ameaças proteção configurações**</span><span class="sxs-lookup"><span data-stu-id="a34f0-116">Select **Manage Settings** under **Virus & threat protection settings**</span></span>
   - <span data-ttu-id="a34f0-117">Selecione **Adicionar ou remover exclusões** na seção **exclusões**</span><span class="sxs-lookup"><span data-stu-id="a34f0-117">Select **Add or remove exclusions** under the **Exclusions** section</span></span>
   - <span data-ttu-id="a34f0-118">Clique em **Adicionar uma exclusão** e selecione a pasta que contém o código do projeto do Unity e as saídas da compilação</span><span class="sxs-lookup"><span data-stu-id="a34f0-118">Click **Add an exclusion** and select the folder contain your Unity project code and build outputs</span></span>
3) <span data-ttu-id="a34f0-119">Utilizar um SSD para compilação</span><span class="sxs-lookup"><span data-stu-id="a34f0-119">Utilize an SSD for building</span></span>

<span data-ttu-id="a34f0-120">Leia otimizando os [tempos de compilação para IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="a34f0-120">Please read [Optimizing Build Times for IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) for more info.</span></span> <span data-ttu-id="a34f0-121">Além disso, leia [depuração em back-end de script IL2CPP](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span><span class="sxs-lookup"><span data-stu-id="a34f0-121">Also please read [Debugging on IL2CPP Scripting Back-end](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span></span>

<span data-ttu-id="a34f0-122">Além disso, considere instalar a [extensão do Visual Studio *UnityScriptAnalyzer* ](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="a34f0-122">Further, consider installing the [*UnityScriptAnalyzer* Visual Studio extension](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span></span> <span data-ttu-id="a34f0-123">Essa ferramenta analisa seus scripts de C# Unity para o código que pode ser capaz de ser escrito de maneira mais otimizada.</span><span class="sxs-lookup"><span data-stu-id="a34f0-123">This tool analyzes your Unity C# scripts for code that may be able to be written in a more optimized manner.</span></span>

## <a name="visual-studio-tools-for-unity"></a><span data-ttu-id="a34f0-124">Ferramentas do Visual Studio para Unity</span><span class="sxs-lookup"><span data-stu-id="a34f0-124">Visual Studio Tools for Unity</span></span>

<span data-ttu-id="a34f0-125">Baixar [Ferramentas do Visual Studio para Unity](https://docs.microsoft.com/en-us/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019)</span><span class="sxs-lookup"><span data-stu-id="a34f0-125">Download [Visual Studio Tools for Unity](https://docs.microsoft.com/en-us/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019)</span></span>

<span data-ttu-id="a34f0-126">**Benefícios do Ferramentas do Visual Studio para Unity**</span><span class="sxs-lookup"><span data-stu-id="a34f0-126">**Benefits of Visual Studio Tools for Unity**</span></span>
* <span data-ttu-id="a34f0-127">Depure o modo de reprodução do Unity no editor do Visual Studio colocando pontos de interrupção, avaliando variáveis e expressões complexas.</span><span class="sxs-lookup"><span data-stu-id="a34f0-127">Debug Unity in-editor play mode from Visual Studio by putting breakpoints, evaluating variables and complex expressions.</span></span>
* <span data-ttu-id="a34f0-128">Use o explorador de projeto do Unity para localizar o script com exatamente a mesma hierarquia que o Unity exibe.</span><span class="sxs-lookup"><span data-stu-id="a34f0-128">Use the Unity Project Explorer to find your script with the exact same hierarchy that Unity displays.</span></span>
* <span data-ttu-id="a34f0-129">Obtenha o console do Unity diretamente dentro do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a34f0-129">Get the Unity console directly inside Visual Studio.</span></span>
* <span data-ttu-id="a34f0-130">Use assistentes para criar ou navegar rapidamente para scripts.</span><span class="sxs-lookup"><span data-stu-id="a34f0-130">Use wizards to quickly create or navigate to scripts.</span></span>

## <a name="expose-c-class-variables-for-easy-tuning"></a><span data-ttu-id="a34f0-131">Expor C# variáveis de classe para um ajuste fácil</span><span class="sxs-lookup"><span data-stu-id="a34f0-131">Expose C# class variables for easy tuning</span></span>

<span data-ttu-id="a34f0-132">Há duas maneiras de expor variáveis de classe.</span><span class="sxs-lookup"><span data-stu-id="a34f0-132">There are two ways to expose class variables.</span></span> <span data-ttu-id="a34f0-133">A maneira recomendada de fazer isso é adicionar o atributo [Serializefield] às suas variáveis privadas.</span><span class="sxs-lookup"><span data-stu-id="a34f0-133">The recommended way to do so is to add the [SerializeField] attribute to your private variables.</span></span> <span data-ttu-id="a34f0-134">Isso permite que eles sejam acessados do editor, mas não expostos de forma programática.</span><span class="sxs-lookup"><span data-stu-id="a34f0-134">This allows them to be accessed from the editor but not programatically exposed.</span></span>  <span data-ttu-id="a34f0-135">A outra opção é tornar C# as variáveis de classe públicas para expô-las na interface do usuário do editor.</span><span class="sxs-lookup"><span data-stu-id="a34f0-135">The other option is to make C# class variables public to expose them in the editor UI.</span></span> 

<span data-ttu-id="a34f0-136">Ambas as abordagens possibilitam o ajuste fácil de variáveis durante a execução no editor.</span><span class="sxs-lookup"><span data-stu-id="a34f0-136">Both approaches make it possible to easily tweak variables while playing in-editor.</span></span> <span data-ttu-id="a34f0-137">Isso é especialmente útil para ajustar propriedades mecânicas de interação.</span><span class="sxs-lookup"><span data-stu-id="a34f0-137">This is especially useful for tuning interaction mechanic properties.</span></span>

## <a name="regenerate-uwp-visual-studio-solutions-after-windows-sdk-or-unity-upgrade"></a><span data-ttu-id="a34f0-138">Regenerar soluções do Visual Studio UWP após a atualização do SDK do Windows ou do Unity</span><span class="sxs-lookup"><span data-stu-id="a34f0-138">Regenerate UWP Visual Studio solutions after Windows SDK or Unity upgrade</span></span>

<span data-ttu-id="a34f0-139">As soluções UWP do Visual Studio com check-in no controle do código-fonte podem ficar desatualizadas após a atualização para um novo SDK do Windows ou mecanismo do Unity.</span><span class="sxs-lookup"><span data-stu-id="a34f0-139">UWP Visual Studio solutions checked in to source control can get out-of-date after upgrading to a new Windows SDK or Unity engine.</span></span> <span data-ttu-id="a34f0-140">Você pode resolver isso após a atualização criando uma nova solução UWP do Unity e, em seguida, mesclando quaisquer diferenças na solução com check-in.</span><span class="sxs-lookup"><span data-stu-id="a34f0-140">You can resolve this after the upgrade by building a new UWP solution from Unity, then merging any differences into the checked-in solution.</span></span>

## <a name="use-text-format-assets-for-easy-comparison-of-content-changes"></a><span data-ttu-id="a34f0-141">Usar ativos de formato de texto para uma comparação fácil de alterações de conteúdo</span><span class="sxs-lookup"><span data-stu-id="a34f0-141">Use text-format assets for easy comparison of content changes</span></span>

<span data-ttu-id="a34f0-142">O armazenamento de ativos em formato de texto facilita a revisão de diferenciações de alteração de conteúdo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a34f0-142">Storing assets in text format makes it easier to review content change diffs in Visual Studio.</span></span> <span data-ttu-id="a34f0-143">Você pode habilitar isso em "Editar configurações de projeto > editor de >" alterando o modo de **serialização de ativos** para **forçar o texto**.</span><span class="sxs-lookup"><span data-stu-id="a34f0-143">You can enable this in "Edit > Project Settings > Editor" by changing **Asset Serialization** mode to **Force Text**.</span></span> <span data-ttu-id="a34f0-144">No entanto, mesclar alterações de arquivo de ativo de texto é propenso a erros e não recomendado, portanto, considere habilitar check-outs binários exclusivos no sistema de controle do código-fonte.</span><span class="sxs-lookup"><span data-stu-id="a34f0-144">However, merging text asset file changes is error-prone and not recommended, so consider enabling exclusive binary checkouts in your source control system.</span></span>

## <a name="see-also"></a><span data-ttu-id="a34f0-145">Consulte também</span><span class="sxs-lookup"><span data-stu-id="a34f0-145">See also</span></span>
- [<span data-ttu-id="a34f0-146">Ferramentas do Visual Studio para Unity</span><span class="sxs-lookup"><span data-stu-id="a34f0-146">Visual Studio Tools for Unity</span></span>](https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9)
- [<span data-ttu-id="a34f0-147">Otimizando os tempos de compilação para IL2CPP</span><span class="sxs-lookup"><span data-stu-id="a34f0-147">Optimizing Build Times for IL2CPP</span></span>](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)
- [<span data-ttu-id="a34f0-148">*UnityScriptAnalyzer* Extensão do Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a34f0-148">*UnityScriptAnalyzer* Visual Studio extension</span></span>](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer)