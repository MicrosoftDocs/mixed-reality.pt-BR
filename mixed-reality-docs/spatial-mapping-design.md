---
title: Design de mapeamento espacial
description: O uso efetivo do mapeamento espacial dentro do HoloLens requer uma consideração cuidadosa de muitos fatores.
author: cre8ivepark
ms.author: dongpark
ms.date: 03/21/2018
ms.topic: article
keywords: Realidade mista do Windows, design, mapeamento espacial, HoloLens, reconstrução da superfície, malha
ms.openlocfilehash: 02e64727f9a23bea28e018d7c4e5a8b89c152447
ms.sourcegitcommit: 60f73ca23023c17c1da833c83d2a02f4dcc4d17b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/17/2019
ms.locfileid: "69566013"
---
# <a name="spatial-mapping-design"></a><span data-ttu-id="cab2f-104">Design de mapeamento espacial</span><span class="sxs-lookup"><span data-stu-id="cab2f-104">Spatial mapping design</span></span>

<span data-ttu-id="cab2f-105">O uso efetivo do mapeamento espacial dentro do HoloLens requer uma consideração cuidadosa de muitos fatores.</span><span class="sxs-lookup"><span data-stu-id="cab2f-105">Effective use of spatial mapping within HoloLens requires careful consideration of many factors.</span></span>

## <a name="device-support"></a><span data-ttu-id="cab2f-106">Suporte a dispositivos</span><span class="sxs-lookup"><span data-stu-id="cab2f-106">Device support</span></span>

<table>
    <colgroup>
    <col width="33%" />
    <col width="33%" />
    <col width="33%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="cab2f-107"><strong>Recurso</strong></span><span class="sxs-lookup"><span data-stu-id="cab2f-107"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="cab2f-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span><span class="sxs-lookup"><span data-stu-id="cab2f-108"><a href="hololens-hardware-details.md"><strong>HoloLens</strong></a></span></span></td>
        <td><span data-ttu-id="cab2f-109"><a href="immersive-headset-hardware-details.md"><strong>Headsets imersivos</strong></a></span><span class="sxs-lookup"><span data-stu-id="cab2f-109"><a href="immersive-headset-hardware-details.md"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="cab2f-110">Design de mapeamento espacial</span><span class="sxs-lookup"><span data-stu-id="cab2f-110">Spatial mapping design</span></span></td>
        <td><span data-ttu-id="cab2f-111">✔️</span><span class="sxs-lookup"><span data-stu-id="cab2f-111">✔️</span></span></td>
        <td><span data-ttu-id="cab2f-112">❌</span><span class="sxs-lookup"><span data-stu-id="cab2f-112">❌</span></span></td>
    </tr>
</table>

## <a name="why-is-spatial-mapping-important"></a><span data-ttu-id="cab2f-113">Por que o mapeamento espacial é importante?</span><span class="sxs-lookup"><span data-stu-id="cab2f-113">Why is spatial mapping important?</span></span>

<span data-ttu-id="cab2f-114">O mapeamento espacial torna possível posicionar objetos em superfícies reais.</span><span class="sxs-lookup"><span data-stu-id="cab2f-114">Spatial mapping makes it possible to place objects on real surfaces.</span></span> <span data-ttu-id="cab2f-115">Isso ajuda a ancorar objetos no mundo do usuário e aproveita as indicações de profundidade do mundo real. Occluding seus hologramas com base em outros hologramas e objetos do mundo real ajudam a convencer o usuário de que esses hologramas estão na verdade em seu espaço.</span><span class="sxs-lookup"><span data-stu-id="cab2f-115">This helps anchor objects in the user's world and takes advantage of real world depth cues. Occluding your holograms based on other holograms and real world objects helps convince the user that these holograms are actually in their space.</span></span> <span data-ttu-id="cab2f-116">Os hologramas flutuam no espaço ou quando se movem com o usuário não se sentirão reais.</span><span class="sxs-lookup"><span data-stu-id="cab2f-116">Holograms floating in space or moving with the user will not feel as real.</span></span> <span data-ttu-id="cab2f-117">Quando possível, coloque os itens em conforto.</span><span class="sxs-lookup"><span data-stu-id="cab2f-117">When possible, place items for comfort.</span></span>

<span data-ttu-id="cab2f-118">Visualize superfícies ao colocar ou mover hologramas (use uma grade projetada simples).</span><span class="sxs-lookup"><span data-stu-id="cab2f-118">Visualize surfaces when placing or moving holograms (use a simple projected grid).</span></span> <span data-ttu-id="cab2f-119">Isso ajudará o usuário a saber onde eles podem posicionar melhor seus hologramas e mostrará o usuário se o ponto em que eles estão tentando posicionar o holograma ainda não tiver sido mapeado.</span><span class="sxs-lookup"><span data-stu-id="cab2f-119">This will help the user know where they can best place their holograms, and shows the user if the spot they are trying to place the hologram hasn't been mapped yet.</span></span> <span data-ttu-id="cab2f-120">Você pode "itens do mural" em direção ao usuário se eles acabarem em muito um ângulo.</span><span class="sxs-lookup"><span data-stu-id="cab2f-120">You can "billboard items" toward the user if they end up at too much of an angle.</span></span>

## <a name="what-influences-spatial-mapping-quality"></a><span data-ttu-id="cab2f-121">O que influencia a qualidade do mapeamento espacial?</span><span class="sxs-lookup"><span data-stu-id="cab2f-121">What influences spatial mapping quality?</span></span>

<span data-ttu-id="cab2f-122">Vários fatores, detalhados [aqui](environment-considerations-for-hololens.md), podem afetar a frequência e a severidade desses erros.</span><span class="sxs-lookup"><span data-stu-id="cab2f-122">Several factors, detailed [here](environment-considerations-for-hololens.md), can affect the frequency and severity of these errors.</span></span>  <span data-ttu-id="cab2f-123">No entanto, você deve projetar seu aplicativo para que o usuário possa atingir suas metas mesmo na presença de erros nos dados de mapeamento espacial.</span><span class="sxs-lookup"><span data-stu-id="cab2f-123">However, you should design your application so that the user is able to achieve their goals even in the presence of errors in the spatial mapping data.</span></span>

## <a name="the-environment-scanning-experience"></a><span data-ttu-id="cab2f-124">A experiência de verificação do ambiente</span><span class="sxs-lookup"><span data-stu-id="cab2f-124">The environment scanning experience</span></span>

<span data-ttu-id="cab2f-125">Cada aplicativo que usa o mapeamento espacial deve considerar a possibilidade de fornecer uma "experiência de verificação"; o processo pelo qual o aplicativo orienta o usuário a verificar as superfícies necessárias para que o aplicativo funcione corretamente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-125">Each application that uses spatial mapping should consider providing a 'scanning experience'; the process through which the application guides the user to scan surfaces that are necessary for the application to function correctly.</span></span>

<span data-ttu-id="cab2f-126">![Exemplo de verificação](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="cab2f-126">![Example of scanning](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span></span><br>
<span data-ttu-id="cab2f-127">*Exemplo de verificação*</span><span class="sxs-lookup"><span data-stu-id="cab2f-127">*Example of scanning*</span></span>

<span data-ttu-id="cab2f-128">A natureza dessa experiência de verificação pode variar muito dependendo das necessidades de cada aplicativo, mas dois princípios principais devem guiar seu design.</span><span class="sxs-lookup"><span data-stu-id="cab2f-128">The nature of this scanning experience can vary greatly depending upon each application's needs, but two main principles should guide its design.</span></span>

<span data-ttu-id="cab2f-129">Em primeiro lugar, **a comunicação clara com o usuário é a principal preocupação**.</span><span class="sxs-lookup"><span data-stu-id="cab2f-129">Firstly, **clear communication with the user is the primary concern**.</span></span> <span data-ttu-id="cab2f-130">O usuário deve estar sempre atento se os requisitos do aplicativo estão sendo atendidos.</span><span class="sxs-lookup"><span data-stu-id="cab2f-130">The user should always be aware of whether the application's requirements are being met.</span></span> <span data-ttu-id="cab2f-131">Quando eles não estão sendo atendidos, deve ser imediatamente claro para o usuário por que isso é feito e eles devem ser rapidamente administrados para executar a ação apropriada.</span><span class="sxs-lookup"><span data-stu-id="cab2f-131">When they are not being met, it should be immediately clear to the user why this is so and they should be quickly led to take the appropriate action.</span></span>

<span data-ttu-id="cab2f-132">Em segundo lugar, **os aplicativos devem tentar um equilíbrio entre a eficiência e a confiabilidade**.</span><span class="sxs-lookup"><span data-stu-id="cab2f-132">Secondly, **applications should attempt to strike a balance between efficiency and reliability**.</span></span> <span data-ttu-id="cab2f-133">Quando é possível fazer isso de forma **confiável**, os aplicativos devem analisar automaticamente os dados de mapeamento espacial para salvar a hora do usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-133">When it is possible to do so **reliably**, applications should automatically analyze spatial mapping data to save the user time.</span></span> <span data-ttu-id="cab2f-134">Quando não é possível fazer isso de forma confiável, os aplicativos devem permitir que o usuário forneça rapidamente ao aplicativo as informações adicionais necessárias.</span><span class="sxs-lookup"><span data-stu-id="cab2f-134">When it is not possible to do so reliably, applications should instead enable the user to quickly provide the application with the additional information it requires.</span></span>

<span data-ttu-id="cab2f-135">Para ajudar a criar a experiência de verificação correta, considere quais das seguintes possibilidades são aplicáveis ao seu aplicativo:</span><span class="sxs-lookup"><span data-stu-id="cab2f-135">To help design the right scanning experience, consider which of the following possibilities are applicable to your application:</span></span>

* <span data-ttu-id="cab2f-136">**Nenhuma experiência de verificação**</span><span class="sxs-lookup"><span data-stu-id="cab2f-136">**No scanning experience**</span></span>
   * <span data-ttu-id="cab2f-137">Um aplicativo pode funcionar perfeitamente sem nenhuma experiência de verificação guiada; Ele aprenderá sobre as superfícies observadas no decorrer do movimento de usuário natural.</span><span class="sxs-lookup"><span data-stu-id="cab2f-137">An application may function perfectly without any guided scanning experience; it will learn about surfaces that are observed in the course of natural user movement.</span></span>
   * <span data-ttu-id="cab2f-138">Por exemplo, um aplicativo que permite que o usuário desenhe superfícies com tinta de irrigação Holographic requer conhecimento apenas das superfícies visíveis no momento para o usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-138">For example an application that lets the user draw on surfaces with holographic spray paint requires knowledge only of the surfaces currently visible to the user.</span></span>
   * <span data-ttu-id="cab2f-139">O ambiente pode ser completamente verificado, já que é aquele em que o usuário já gastou muito tempo usando o HoloLens.</span><span class="sxs-lookup"><span data-stu-id="cab2f-139">The environment may be completely scanned already if it is one in which the user has already spent a lot of time using the HoloLens.</span></span>
   * <span data-ttu-id="cab2f-140">No entanto, lembre-se de que a câmera usada pelo mapeamento espacial só pode ver 3,1 m na frente do usuário, portanto, o mapeamento espacial não saberá sobre nenhuma superfície mais distante, a menos que o usuário as tenha observado de uma distância mais próxima no passado.</span><span class="sxs-lookup"><span data-stu-id="cab2f-140">Bear in mind however that the camera used by spatial mapping can only see 3.1m in front of the user, so spatial mapping will not know about any more distant surfaces unless the user has observed them from a closer distance in the past.</span></span>
   * <span data-ttu-id="cab2f-141">Portanto, o usuário entende quais superfícies foram verificadas, o aplicativo deve fornecer comentários visuais para esse efeito, por exemplo, converter sombras virtuais em superfícies digitalizadas pode ajudar o usuário a posicionar os hologramas nessas superfícies.</span><span class="sxs-lookup"><span data-stu-id="cab2f-141">So the user understands which surfaces have been scanned, the application should provide visual feedback to this effect, for example casting virtual shadows onto scanned surfaces may help the user place holograms on those surfaces.</span></span>
   * <span data-ttu-id="cab2f-142">Nesse caso, os volumes delimitados do observador de superfície espacial devem ser atualizados cada quadro para um [sistema de coordenadas espaciais](coordinate-systems.md)bloqueadas pelo corpo, para que eles sigam o usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-142">For this case, the spatial surface observer's bounding volumes should be updated each frame to a body-locked [spatial coordinate system](coordinate-systems.md), so that they follow the user.</span></span>

* <span data-ttu-id="cab2f-143">**Encontrar um local adequado**</span><span class="sxs-lookup"><span data-stu-id="cab2f-143">**Find a suitable location**</span></span>
   * <span data-ttu-id="cab2f-144">Um aplicativo pode ser projetado para uso em um local com requisitos específicos.</span><span class="sxs-lookup"><span data-stu-id="cab2f-144">An application may be designed for use in a location with specific requirements.</span></span>
   * <span data-ttu-id="cab2f-145">Por exemplo, o aplicativo pode exigir uma área vazia em todo o usuário para que possa praticar com segurança Holographic Kung-Fu.</span><span class="sxs-lookup"><span data-stu-id="cab2f-145">For example, the application may require an empty area around the user so they can safely practice holographic kung-fu.</span></span>
   * <span data-ttu-id="cab2f-146">Os aplicativos devem comunicar quaisquer requisitos específicos para o usuário antes e reforce-los com comentários visuais claros.</span><span class="sxs-lookup"><span data-stu-id="cab2f-146">Applications should communicate any specific requirements to the user up-front, and reinforce them with clear visual feedback.</span></span>
   * <span data-ttu-id="cab2f-147">Neste exemplo, o aplicativo deve Visualizar a extensão da área vazia necessária e realçar visualmente a presença de qualquer objeto indesejado nessa zona.</span><span class="sxs-lookup"><span data-stu-id="cab2f-147">In this example, the application should visualize the extent of the required empty area and visually highlight the presence of any undesired objects within this zone.</span></span>
   * <span data-ttu-id="cab2f-148">Para esse caso, os volumes delimitados do observador de superfície espacial devem usar um [sistema de coordenadas espaciais](coordinate-systems.md) bloqueados pelo mundo no local escolhido.</span><span class="sxs-lookup"><span data-stu-id="cab2f-148">For this case, the spatial surface observer's bounding volumes should use a world-locked [spatial coordinate system](coordinate-systems.md) in the chosen location.</span></span>

* <span data-ttu-id="cab2f-149">**Encontre uma configuração adequada de superfícies**</span><span class="sxs-lookup"><span data-stu-id="cab2f-149">**Find a suitable configuration of surfaces**</span></span>
   * <span data-ttu-id="cab2f-150">Um aplicativo pode exigir uma configuração específica de superfícies, por exemplo, duas paredes grandes e simples e opostas para criar um Holographic Hall de espelhos.</span><span class="sxs-lookup"><span data-stu-id="cab2f-150">An application may require a specific configuration of surfaces, for example two large, flat, opposing walls to create a holographic hall of mirrors.</span></span>
   * <span data-ttu-id="cab2f-151">Nesses casos, o aplicativo precisará analisar as superfícies fornecidas pelo mapeamento espacial para detectar superfícies adequadas e direcionar o usuário para eles.</span><span class="sxs-lookup"><span data-stu-id="cab2f-151">In such cases the application will need to analyze the surfaces provided by spatial mapping to detect suitable surfaces, and direct the user toward them.</span></span>
   * <span data-ttu-id="cab2f-152">O usuário deverá ter uma opção de fallback se a análise da superfície do aplicativo não for totalmente confiável.</span><span class="sxs-lookup"><span data-stu-id="cab2f-152">The user should have a fallback option if the application's surface analysis is not completely reliable.</span></span> <span data-ttu-id="cab2f-153">Por exemplo, se o aplicativo identificar incorretamente um porta como uma parede simples, o usuário precisará de uma maneira simples de corrigir esse erro.</span><span class="sxs-lookup"><span data-stu-id="cab2f-153">For example, if the application incorrectly identifies a doorway as a flat wall, the user needs a simple way to correct this error.</span></span>

* <span data-ttu-id="cab2f-154">**Examinar parte do ambiente**</span><span class="sxs-lookup"><span data-stu-id="cab2f-154">**Scan part of the environment**</span></span>
   * <span data-ttu-id="cab2f-155">Um aplicativo pode desejar capturar apenas parte do ambiente, conforme indicado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-155">An application may wish to only capture part of the environment, as directed by the user.</span></span>
   * <span data-ttu-id="cab2f-156">Por exemplo, o aplicativo examina parte de uma sala para que o usuário possa postar um anúncio Holographic classificado para móveis que desejam vender.</span><span class="sxs-lookup"><span data-stu-id="cab2f-156">For example, the application scans part of a room so the user may post a holographic classified ad for furniture they wish to sell.</span></span>
   * <span data-ttu-id="cab2f-157">Nesse caso, o aplicativo deve capturar dados de mapeamento espacial dentro das regiões observadas pelo usuário durante a verificação.</span><span class="sxs-lookup"><span data-stu-id="cab2f-157">In this case, the application should capture spatial mapping data within the regions observed by the user during their scan.</span></span>

* <span data-ttu-id="cab2f-158">**Verificar a sala inteira**</span><span class="sxs-lookup"><span data-stu-id="cab2f-158">**Scan the whole room**</span></span>
   * <span data-ttu-id="cab2f-159">Um aplicativo pode exigir uma verificação de todas as superfícies no espaço atual, incluindo aquelas por trás do usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-159">An application may require a scan of all of the surfaces in the current room, including those behind the user.</span></span>
   * <span data-ttu-id="cab2f-160">Por exemplo, um jogo pode colocar o usuário na função de Gulliver, sob o Siege de centenas de pequenas Lilliputians abordagens de todas as direções.</span><span class="sxs-lookup"><span data-stu-id="cab2f-160">For example, a game may put the user in the role of Gulliver, under siege from hundreds of tiny Lilliputians approaching from all directions.</span></span>
   * <span data-ttu-id="cab2f-161">Nesses casos, o aplicativo precisará determinar quantas superfícies na sala atual já foram verificadas e direcionar o olhar do usuário para preencher lacunas significativas.</span><span class="sxs-lookup"><span data-stu-id="cab2f-161">In such cases, the application will need to determine how many of the surfaces in the current room have already been scanned, and direct the user's gaze to fill in significant gaps.</span></span>
   * <span data-ttu-id="cab2f-162">A chave para esse processo é fornecer comentários visuais que o tornam claro para o usuário quais superfícies ainda não foram verificadas.</span><span class="sxs-lookup"><span data-stu-id="cab2f-162">The key to this process is providing visual feedback that makes it clear to the user which surfaces have not yet been scanned.</span></span> <span data-ttu-id="cab2f-163">O aplicativo poderia, por exemplo, usar a [neblina baseada em distância](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) para realçar visualmente as regiões que não são cobertas por superfícies de mapeamento espacial.</span><span class="sxs-lookup"><span data-stu-id="cab2f-163">The application could for example use [distance-based fog](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) to visually highlight regions that are not covered by spatial mapping surfaces.</span></span>

* <span data-ttu-id="cab2f-164">**Tirar um instantâneo inicial do ambiente**</span><span class="sxs-lookup"><span data-stu-id="cab2f-164">**Take an initial snapshot of the environment**</span></span>
   * <span data-ttu-id="cab2f-165">Um aplicativo pode desejar ignorar todas as alterações no ambiente depois de usar um ' instantâneo ' inicial.</span><span class="sxs-lookup"><span data-stu-id="cab2f-165">An application may wish to ignore all changes in the environment after taking an initial 'snapshot'.</span></span>
   * <span data-ttu-id="cab2f-166">Isso pode ser apropriado para evitar a interrupção de dados criados pelo usuário que estejam rigidamente acoplados ao estado inicial do ambiente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-166">This may be appropriate to avoid disruption of user-created data that is tightly coupled to the initial state of the environment.</span></span>
   * <span data-ttu-id="cab2f-167">Nesse caso, o aplicativo deve fazer uma cópia dos dados de mapeamento espacial em seu estado inicial quando a verificação for concluída.</span><span class="sxs-lookup"><span data-stu-id="cab2f-167">In this case, the application should make a copy of the spatial mapping data in its initial state once the scan is complete.</span></span>
   * <span data-ttu-id="cab2f-168">Os aplicativos devem continuar recebendo atualizações para dados de mapeamento espacial se os hologramas ainda estiverem obstruídodos corretamente pelo ambiente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-168">Applications should continue receiving updates to spatial mapping data if holograms are still to be correctly occluded by the environment.</span></span>
   * <span data-ttu-id="cab2f-169">Atualizações continuadas para dados de mapeamento espacial também permitem visualizar todas as alterações que ocorreram, esclarecendo ao usuário as diferenças entre os Estados anterior e o presente do ambiente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-169">Continued updates to spatial mapping data also allow visualizing any changes that have occurred, clarifying to the user the differences between prior and present states of the environment.</span></span>

* <span data-ttu-id="cab2f-170">**Fazer instantâneos iniciados pelo usuário do ambiente**</span><span class="sxs-lookup"><span data-stu-id="cab2f-170">**Take user-initiated snapshots of the environment**</span></span>
   * <span data-ttu-id="cab2f-171">Um aplicativo pode querer responder apenas a alterações ambientais quando instruído pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-171">An application may only wish to respond to environmental changes when instructed by the user.</span></span>
   * <span data-ttu-id="cab2f-172">Por exemplo, o usuário poderia criar várias ' Statues ' 3D de um amigo capturando suas poses em momentos diferentes.</span><span class="sxs-lookup"><span data-stu-id="cab2f-172">For example, the user could create multiple 3D 'statues' of a friend by capturing their poses at different moments.</span></span>

* <span data-ttu-id="cab2f-173">**Permitir que o usuário altere o ambiente**</span><span class="sxs-lookup"><span data-stu-id="cab2f-173">**Allow the user to change the environment**</span></span>
   * <span data-ttu-id="cab2f-174">Um aplicativo pode ser projetado para responder em tempo real a qualquer alteração feita no ambiente do usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-174">An application may be designed to respond in real-time to any changes made in the user's environment.</span></span>
   * <span data-ttu-id="cab2f-175">Por exemplo, o usuário que desenha um Curtain poderia disparar a "mudança de cena" para uma reprodução de Holographic em andamento no outro lado.</span><span class="sxs-lookup"><span data-stu-id="cab2f-175">For example, the user drawing a curtain could trigger 'scene change' for a holographic play taking place on the other side.</span></span>

* <span data-ttu-id="cab2f-176">**Orientar o usuário para evitar erros nos dados de mapeamento espacial**</span><span class="sxs-lookup"><span data-stu-id="cab2f-176">**Guide the user to avoid errors in the spatial mapping data**</span></span>
   * <span data-ttu-id="cab2f-177">Um aplicativo pode desejar fornecer orientações ao usuário enquanto eles estão verificando seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-177">An application may wish to provide guidance to the user while they are scanning their environment.</span></span>
   * <span data-ttu-id="cab2f-178">Isso pode ajudar o usuário a evitar determinados tipos de [erros nos dados de mapeamento espacial](spatial-mapping-design.md#what-influences-spatial-mapping-quality), por exemplo, mantendo-se afastados das janelas sunlit ou dos espelhos.</span><span class="sxs-lookup"><span data-stu-id="cab2f-178">This can help the user to avoid certain kinds of [errors in the spatial mapping data](spatial-mapping-design.md#what-influences-spatial-mapping-quality), for example by staying away from sunlit windows or mirrors.</span></span>

<span data-ttu-id="cab2f-179">Um detalhe adicional a ser considerado é que o ' intervalo ' de dados de mapeamento espacial não é ilimitado.</span><span class="sxs-lookup"><span data-stu-id="cab2f-179">One additional detail to be aware of is that the 'range' of spatial mapping data is not unlimited.</span></span> <span data-ttu-id="cab2f-180">Apesar de o mapeamento espacial criar um banco de dados permanente de espaços grandes, ele disponibiliza apenas os dados para os aplicativos em uma "bolha" de tamanho limitado em relação ao usuário.</span><span class="sxs-lookup"><span data-stu-id="cab2f-180">Whilst spatial mapping does build a permanent database of large spaces, it only makes that data available to applications in a 'bubble' of limited size around the user.</span></span> <span data-ttu-id="cab2f-181">Portanto, se você começar no início de um longo corredor e ir longe o suficiente do início, eventualmente as superfícies espaciais no início desaparecerão.</span><span class="sxs-lookup"><span data-stu-id="cab2f-181">Thus if you start at the beginning of a long corridor and walk far enough away from the start, then eventually the spatial surfaces back at the beginning will disappear.</span></span> <span data-ttu-id="cab2f-182">É claro que você pode reduzir isso armazenando em cache essas superfícies em seu aplicativo depois que elas desaparecerem dos dados de mapeamento espacial disponíveis.</span><span class="sxs-lookup"><span data-stu-id="cab2f-182">You can of course mitigate this by caching those surfaces in your application after they have disappeared from the available spatial mapping data.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="cab2f-183">Processamento de malha</span><span class="sxs-lookup"><span data-stu-id="cab2f-183">Mesh processing</span></span>

<span data-ttu-id="cab2f-184">Pode ajudar a detectar tipos comuns de erros em superfícies e filtrar, remover ou modificar os dados de mapeamento espacial conforme apropriado.</span><span class="sxs-lookup"><span data-stu-id="cab2f-184">It may help to detect common types of errors in surfaces and to filter, remove or modify the spatial mapping data as appropriate.</span></span>

<span data-ttu-id="cab2f-185">Tenha em mente que os dados de mapeamento espacial devem ser tão fiels quanto possível para superfícies reais, de modo que qualquer processamento que você aplique riscos mudará suas superfícies além da ' verdade '.</span><span class="sxs-lookup"><span data-stu-id="cab2f-185">Bear in mind that spatial mapping data is intended to be as faithful as possible to real-world surfaces, so any processing you apply risks shifting your surfaces further from the 'truth'.</span></span>

<span data-ttu-id="cab2f-186">Aqui estão alguns exemplos de diferentes tipos de processamento de malha que podem ser úteis:</span><span class="sxs-lookup"><span data-stu-id="cab2f-186">Here are some examples of different types of mesh processing that you may find useful:</span></span>

* <span data-ttu-id="cab2f-187">**Preenchimento de orifício**</span><span class="sxs-lookup"><span data-stu-id="cab2f-187">**Hole filling**</span></span>
   * <span data-ttu-id="cab2f-188">Se um pequeno objeto formado por um material escuro falhar ao digitalizar, ele deixará um orifício na superfície ao redor.</span><span class="sxs-lookup"><span data-stu-id="cab2f-188">If a small object made of a dark material fails to scan, it will leave a hole in the surrounding surface.</span></span>
   * <span data-ttu-id="cab2f-189">Os buracos afetam o oclusão: os hologramas podem ser vistos "por meio de um buraco em uma superfície do mundo real opaca supostamente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-189">Holes affect occlusion: holograms can be seen 'through' a hole in a supposedly opaque real-world surface.</span></span>
   * <span data-ttu-id="cab2f-190">Os buracos afetam o raycasts: se você estiver usando o raycasts para ajudar os usuários a interagir com as superfícies, pode ser indesejável que esses raios passem por buracos.</span><span class="sxs-lookup"><span data-stu-id="cab2f-190">Holes affect raycasts: if you are using raycasts to help users interact with surfaces, it may be undesirable for these rays to pass through holes.</span></span> <span data-ttu-id="cab2f-191">Uma mitigação é usar um pacote de vários raycasts cobrindo uma região de tamanho adequado.</span><span class="sxs-lookup"><span data-stu-id="cab2f-191">One mitigation is to use a bundle of multiple raycasts covering an appropriately sized region.</span></span> <span data-ttu-id="cab2f-192">Isso permitirá que você filtre os resultados de "exceção", de modo que, mesmo que um Raycast passe por uma pequena brecha, o resultado da agregação ainda será válido.</span><span class="sxs-lookup"><span data-stu-id="cab2f-192">This will allow you to filter 'outlier' results, so that even if one raycast passes through a small hole, the aggregate result will still be valid.</span></span> <span data-ttu-id="cab2f-193">No entanto, lembre-se de que essa abordagem vem com um custo computacional.</span><span class="sxs-lookup"><span data-stu-id="cab2f-193">However, be aware that this approach comes at a computational cost.</span></span>
   * <span data-ttu-id="cab2f-194">Os buracos afetam as colisões de física: um objeto controlado pela simulação física pode derrubar um orifício no chão e se tornar perdido.</span><span class="sxs-lookup"><span data-stu-id="cab2f-194">Holes affect physics collisions: an object controlled by physics simulation may drop through a hole in the floor and become lost.</span></span>
   * <span data-ttu-id="cab2f-195">É possível forma algorítmica o preenchimento desses buracos na malha da superfície.</span><span class="sxs-lookup"><span data-stu-id="cab2f-195">It is possible to algorithmically fill such holes in the surface mesh.</span></span> <span data-ttu-id="cab2f-196">No entanto, você precisará ajustar seu algoritmo para que "buracos reais", como Windows e doorways, não sejam preenchidos.</span><span class="sxs-lookup"><span data-stu-id="cab2f-196">However, you will need to tune your algorithm so that 'real holes' such as windows and doorways do not get filled in.</span></span> <span data-ttu-id="cab2f-197">Pode ser difícil diferenciar de forma confiável ' buracos reais ' de ' buracos imaginários ', portanto, você precisará experimentar uma heurística diferente, como ' tamanho ' e ' forma de limite '.</span><span class="sxs-lookup"><span data-stu-id="cab2f-197">It can be difficult to reliably differentiate 'real holes' from 'imaginary holes', so you will need to experiment with different heuristics such as 'size' and 'boundary shape'.</span></span>

* <span data-ttu-id="cab2f-198">**Remoção de hallucination**</span><span class="sxs-lookup"><span data-stu-id="cab2f-198">**Hallucination removal**</span></span>
   * <span data-ttu-id="cab2f-199">Reflexos, luzes brilhantes e movimentação de objetos podem deixar o ' hallucinations ' remanescente pequeno no ar médio.</span><span class="sxs-lookup"><span data-stu-id="cab2f-199">Reflections, bright lights and moving objects can leave small lingering 'hallucinations' floating in mid-air.</span></span>
   * <span data-ttu-id="cab2f-200">Hallucinations afeta oclusão: hallucinations pode se tornar visível como formas escuras se movendo na frente e occluding outros hologramas.</span><span class="sxs-lookup"><span data-stu-id="cab2f-200">Hallucinations affect occlusion: hallucinations may become visible as dark shapes moving in front of and occluding other holograms.</span></span>
   * <span data-ttu-id="cab2f-201">Hallucinations afeta raycasts: se você estiver usando o raycasts para ajudar os usuários a interagir com superfícies, esses raios poderão atingir um hallucination em vez da superfície por trás dele.</span><span class="sxs-lookup"><span data-stu-id="cab2f-201">Hallucinations affect raycasts: if you are using raycasts to help users interact with surfaces, these rays could hit a hallucination instead of the surface behind it.</span></span> <span data-ttu-id="cab2f-202">Assim como acontece com os buracos, uma mitigação é usar muitas raycasts em vez de um único Raycast, mas novamente isso será fornecido a um custo computacional.</span><span class="sxs-lookup"><span data-stu-id="cab2f-202">As with holes, one mitigation is to use many raycasts instead of a single raycast, but again this will come at a computational cost.</span></span>
   * <span data-ttu-id="cab2f-203">Hallucinations afetam as colisões de física: um objeto controlado pela simulação física pode ficar preso contra um hallucination e não pode passar por uma área de espaço aparentemente nítida.</span><span class="sxs-lookup"><span data-stu-id="cab2f-203">Hallucinations affect physics collisions: an object controlled by physics simulation may become stuck against a hallucination and be unable to move through a seemingly clear area of space.</span></span>
   * <span data-ttu-id="cab2f-204">É possível filtrar esses hallucinations da malha de superfície.</span><span class="sxs-lookup"><span data-stu-id="cab2f-204">It is possible to filter such hallucinations from the surface mesh.</span></span> <span data-ttu-id="cab2f-205">No entanto, assim como com os buracos, você precisará ajustar seu algoritmo para que os objetos reais pequenos, como a lâmpada e os identificadores de porta, não sejam removidos.</span><span class="sxs-lookup"><span data-stu-id="cab2f-205">However, as with holes, you will need to tune your algorithm so that real small objects such as lamp-stands and door handles do not get removed.</span></span>

* <span data-ttu-id="cab2f-206">**Suavização**</span><span class="sxs-lookup"><span data-stu-id="cab2f-206">**Smoothing**</span></span>
   * <span data-ttu-id="cab2f-207">O mapeamento espacial pode retornar superfícies que parecem ser aproximadas ou "ruidosas" em comparação com suas contrapartes do mundo real.</span><span class="sxs-lookup"><span data-stu-id="cab2f-207">Spatial mapping may return surfaces that appear to be rough or 'noisy' in comparison to their real-world counterparts.</span></span>
   * <span data-ttu-id="cab2f-208">A suavidade afeta as colisões de física: se o piso for aproximado, uma bola de golfe fisicamente simulada poderá não ser organizada sem problemas em uma linha reta.</span><span class="sxs-lookup"><span data-stu-id="cab2f-208">Smoothness affects physics collisions: if the floor is rough, a physically simulated golf ball may not roll smoothly across it in a straight line.</span></span>
   * <span data-ttu-id="cab2f-209">A suavidade afeta a renderização: se uma superfície for visualizada diretamente, os Normals da superfície aproximada poderão afetar sua aparência e interromper uma aparência "limpa".</span><span class="sxs-lookup"><span data-stu-id="cab2f-209">Smoothness affects rendering: if a surface is visualized directly, rough surface normals can affect its appearance and disrupt a 'clean' look.</span></span> <span data-ttu-id="cab2f-210">É possível mitigar isso usando a iluminação e texturas apropriadas no sombreador que é usado para renderizar a superfície.</span><span class="sxs-lookup"><span data-stu-id="cab2f-210">It is possible to mitigate this by using appropriate lighting and textures in the shader that is used to render the surface.</span></span>
   * <span data-ttu-id="cab2f-211">É possível suavizar a áspero em uma malha de superfície.</span><span class="sxs-lookup"><span data-stu-id="cab2f-211">It is possible to smooth out roughness in a surface mesh.</span></span> <span data-ttu-id="cab2f-212">No entanto, isso pode empurrar a superfície para longe da superfície real correspondente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-212">However, this may push the surface further away from the corresponding real-world surface.</span></span> <span data-ttu-id="cab2f-213">Manter uma correspondência próxima é importante para produzir oclusão de holograma precisos e para permitir que os usuários obtenham interações precisas e previsíveis com superfícies holographics.</span><span class="sxs-lookup"><span data-stu-id="cab2f-213">Maintaining a close correspondence is important to produce accurate hologram occlusion, and to enable users to achieve precise and predictable interactions with holographic surfaces.</span></span>
   * <span data-ttu-id="cab2f-214">Se apenas uma alteração superficial for necessária, pode ser suficiente para suavizar Normals de vértice sem alterar as posições de vértice.</span><span class="sxs-lookup"><span data-stu-id="cab2f-214">If only a cosmetic change is required, it may be sufficient to smooth vertex normals without changing vertex positions.</span></span>

* <span data-ttu-id="cab2f-215">**Localização do plano**</span><span class="sxs-lookup"><span data-stu-id="cab2f-215">**Plane finding**</span></span>
   * <span data-ttu-id="cab2f-216">Há muitas formas de análise que um aplicativo pode desejar executar nas superfícies fornecidas pelo mapeamento espacial.</span><span class="sxs-lookup"><span data-stu-id="cab2f-216">There are many forms of analysis that an application may wish to perform on the surfaces provided by spatial mapping.</span></span>
   * <span data-ttu-id="cab2f-217">Um exemplo simples é ' Localizar plano '; identificação das regiões de superfícies limitadas e em grande-planar.</span><span class="sxs-lookup"><span data-stu-id="cab2f-217">One simple example is 'plane finding'; identifying bounded, mostly-planar regions of surfaces.</span></span>
   * <span data-ttu-id="cab2f-218">As regiões planar podem ser usadas como superfícies de trabalho Holographic, regiões em que o conteúdo Holographic pode ser colocado automaticamente pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cab2f-218">Planar regions can be used as holographic work-surfaces, regions where holographic content can be automatically placed by the application.</span></span>
   * <span data-ttu-id="cab2f-219">As regiões planar podem restringir a interface do usuário, para orientar os usuários a interagir com as superfícies que melhor atendam às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="cab2f-219">Planar regions can constrain the user interface, to guide users to interact with the surfaces that best suit their needs.</span></span>
   * <span data-ttu-id="cab2f-220">As regiões planar podem ser usadas como no mundo real, para contrapartes Holographic a objetos funcionais, como telas de LCD, tabelas ou quadros de comunicações.</span><span class="sxs-lookup"><span data-stu-id="cab2f-220">Planar regions can be used as in the real world, for holographic counterparts to functional objects such as LCD screens, tables or whiteboards.</span></span>
   * <span data-ttu-id="cab2f-221">As regiões planar podem definir áreas de reprodução, formando a base dos níveis de videogame.</span><span class="sxs-lookup"><span data-stu-id="cab2f-221">Planar regions can define play areas, forming the basis of videogame levels.</span></span>
   * <span data-ttu-id="cab2f-222">As regiões planar podem ajudar os agentes virtuais a navegar pelo mundo real, identificando as áreas de piso que as pessoas realmente têm a probabilidade de acompanhar.</span><span class="sxs-lookup"><span data-stu-id="cab2f-222">Planar regions can aid virtual agents to navigate the real world, by identifying the areas of floor that real people are likely to walk on.</span></span>

## <a name="prototyping-and-debugging"></a><span data-ttu-id="cab2f-223">Protótipo e depuração</span><span class="sxs-lookup"><span data-stu-id="cab2f-223">Prototyping and debugging</span></span>

### <a name="useful-tools"></a><span data-ttu-id="cab2f-224">Ferramentas úteis</span><span class="sxs-lookup"><span data-stu-id="cab2f-224">Useful tools</span></span>
* <span data-ttu-id="cab2f-225">O [emulador do HoloLens](using-the-hololens-emulator.md) pode ser usado para desenvolver aplicativos usando o mapeamento espacial sem acesso a um HoloLens físico.</span><span class="sxs-lookup"><span data-stu-id="cab2f-225">The [HoloLens emulator](using-the-hololens-emulator.md) can be used to develop applications using spatial mapping without access to a physical HoloLens.</span></span> <span data-ttu-id="cab2f-226">Ele permite simular uma sessão ao vivo em um HoloLens em um ambiente realista, com todos os dados que seu aplicativo normalmente consumiria, incluindo movimento de HoloLens, sistemas de coordenadas espaciais e malhas de mapeamento espacial.</span><span class="sxs-lookup"><span data-stu-id="cab2f-226">It allows you to simulate a live session on a HoloLens in a realistic environment, with all of the data your application would normally consume, including HoloLens motion, spatial coordinate systems and spatial mapping meshes.</span></span> <span data-ttu-id="cab2f-227">Isso pode ser usado para fornecer entradas confiáveis e reproduzíveis, que podem ser úteis para depurar problemas e avaliar alterações em seu código.</span><span class="sxs-lookup"><span data-stu-id="cab2f-227">This can be used to provide reliable, repeatable input, which can be useful for debugging problems and evaluating changes to your code.</span></span>
* <span data-ttu-id="cab2f-228">Para reproduzir um cenário, Capture dados de mapeamento espacial pela rede de um HoloLens ao vivo e, em seguida, salve-os no disco e reutilize-os em sessões de depuração subsequentes.</span><span class="sxs-lookup"><span data-stu-id="cab2f-228">To reproduce a scenarios, capture spatial mapping data over the network from a live HoloLens, then save it to disk and reuse it in subsequent debugging sessions.</span></span>
* <span data-ttu-id="cab2f-229">O [modo de exibição 3D do portal de dispositivo do Windows](using-the-windows-device-portal.md#3d-view) fornece uma maneira de ver todas as superfícies espaciais disponíveis atualmente por meio do sistema de mapeamento espacial.</span><span class="sxs-lookup"><span data-stu-id="cab2f-229">The [Windows device portal 3D view](using-the-windows-device-portal.md#3d-view) provides a way to see all of the spatial surfaces currently available via the spatial mapping system.</span></span> <span data-ttu-id="cab2f-230">Isso fornece uma base de comparação para as superfícies espaciais dentro de seu aplicativo; por exemplo, você pode identificar facilmente se alguma superfície espacial está ausente ou sendo exibida no local errado.</span><span class="sxs-lookup"><span data-stu-id="cab2f-230">This provides a basis of comparison for the spatial surfaces inside your application; for example you can easily tell if any spatial surfaces are missing or are being displayed in the wrong place.</span></span>

### <a name="general-prototyping-guidance"></a><span data-ttu-id="cab2f-231">Diretrizes gerais de protótipo</span><span class="sxs-lookup"><span data-stu-id="cab2f-231">General prototyping guidance</span></span>
* <span data-ttu-id="cab2f-232">Como os [erros](spatial-mapping-design.md#what-influences-spatial-mapping-quality) nos dados de mapeamento espacial podem afetar seriamente a experiência do usuário, recomendamos que você teste seu aplicativo em uma ampla variedade de ambientes.</span><span class="sxs-lookup"><span data-stu-id="cab2f-232">Because [errors](spatial-mapping-design.md#what-influences-spatial-mapping-quality) in the spatial mapping data may strongly affect your user's experience, we recommend that you test your application in a wide variety of environments.</span></span>
* <span data-ttu-id="cab2f-233">Não se preocupe com o hábito de testar sempre no mesmo local, por exemplo, em sua mesa.</span><span class="sxs-lookup"><span data-stu-id="cab2f-233">Don't get trapped in the habit of always testing in the same location, for example at your desk.</span></span> <span data-ttu-id="cab2f-234">Certifique-se de testar várias superfícies de diferentes posições, formas, tamanhos e materiais.</span><span class="sxs-lookup"><span data-stu-id="cab2f-234">Make sure to test on various surfaces of different positions, shapes, sizes and materials.</span></span>
* <span data-ttu-id="cab2f-235">Da mesma forma, embora os dados sintéticos ou registrados possam ser úteis para depuração, não se tornem muito dependentes dos mesmos casos de teste.</span><span class="sxs-lookup"><span data-stu-id="cab2f-235">Similarly, while synthetic or recorded data can be useful for debugging, don't become too reliant upon the same few test cases.</span></span> <span data-ttu-id="cab2f-236">Isso pode atrasar a localização de problemas importantes que os testes mais variados teriam detectados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="cab2f-236">This may delay finding important issues that more varied testing would have caught earlier.</span></span>
* <span data-ttu-id="cab2f-237">É uma boa ideia executar testes com usuários reais (e idealmente desconhecidos), pois eles não podem usar o HoloLens ou seu aplicativo exatamente da mesma maneira que você.</span><span class="sxs-lookup"><span data-stu-id="cab2f-237">It is a good idea to perform testing with real (and ideally un-coached) users, because they may not use the HoloLens or your application in exactly the same way that you do.</span></span> <span data-ttu-id="cab2f-238">Na verdade, ele pode surpreender você como o comportamento das pessoas, o conhecimento e as suposições mais divergentes podem ser!</span><span class="sxs-lookup"><span data-stu-id="cab2f-238">In fact, it may surprise you how divergent people's behavior, knowledge and assumptions can be!</span></span>

## <a name="see-also"></a><span data-ttu-id="cab2f-239">Consulte também</span><span class="sxs-lookup"><span data-stu-id="cab2f-239">See also</span></span>
* [<span data-ttu-id="cab2f-240">Visualização de varredura do ambiente</span><span class="sxs-lookup"><span data-stu-id="cab2f-240">Room scan visualization</span></span>](room-scan-visualization.md)
* [<span data-ttu-id="cab2f-241">Projeto de som espacial</span><span class="sxs-lookup"><span data-stu-id="cab2f-241">Spatial sound design</span></span>](spatial-sound-design.md)
* [<span data-ttu-id="cab2f-242">Persistência no Unity</span><span class="sxs-lookup"><span data-stu-id="cab2f-242">Persistence in Unity</span></span>](persistence-in-unity.md)
