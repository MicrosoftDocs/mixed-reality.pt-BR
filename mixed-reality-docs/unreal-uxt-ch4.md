---
title: 4. Como tornar sua cena interativa
description: Parte 4 de um tutorial para criar um aplicativo de xadrez simples usando o Unreal Engine 4 e o plug-in Ferramentas de UX do Kit de Ferramentas de Realidade Misturada
author: sw5813
ms.author: suwu
ms.date: 5/5/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, mixed reality, tutorial, getting started, mrtk, uxt, UX Tools, documentation
ms.openlocfilehash: 17f7ab1c1126c47e5ac6388d125d45cf3f2c2d87
ms.sourcegitcommit: 189a47b8712dd5b620e19815f5cf6d1ac0f29880
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/06/2020
ms.locfileid: "82851540"
---
# <a name="3-making-your-scene-interactive"></a><span data-ttu-id="7250d-104">3. Como tornar sua cena interativa</span><span class="sxs-lookup"><span data-stu-id="7250d-104">3. Making your scene interactive</span></span>

<span data-ttu-id="7250d-105">Esta seção apresenta o plug-in software livre Ferramentas de UX do Kit de Ferramentas de Realidade Misturada, que oferece um conjunto de ferramentas para tornar sua cena interativa de maneira fácil.</span><span class="sxs-lookup"><span data-stu-id="7250d-105">This section introduces you to the open source Mixed Reality Toolkit UX Tools plugin, which provides a set of tools to easily make your scene interactive.</span></span> <span data-ttu-id="7250d-106">Ao final desta seção, as peças de xadrez responderão à entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="7250d-106">By the end of this section, your chess pieces will respond to user input.</span></span> 

## <a name="objectives"></a><span data-ttu-id="7250d-107">Objetivos</span><span class="sxs-lookup"><span data-stu-id="7250d-107">Objectives</span></span>

* <span data-ttu-id="7250d-108">Incluir o plug-in Ferramentas de UX do Kit de Ferramentas de Realidade Misturada em seu projeto</span><span class="sxs-lookup"><span data-stu-id="7250d-108">Include the Mixed Reality Toolkit UX Tools plugin in your project</span></span>
* <span data-ttu-id="7250d-109">Adicionar Atores de Interação à Mão ao seu alcance</span><span class="sxs-lookup"><span data-stu-id="7250d-109">Add Hand Interaction Actors to your fingertips</span></span>
* <span data-ttu-id="7250d-110">Criar e anexar os Manipuladores ao tabuleiro e às peças de xadrez</span><span class="sxs-lookup"><span data-stu-id="7250d-110">Create and attach Manipulators to your chess board and pieces</span></span> 
* <span data-ttu-id="7250d-111">Usar simulação de entrada para validar seu projeto</span><span class="sxs-lookup"><span data-stu-id="7250d-111">Use input simulation to validate your project</span></span>

## <a name="download-the-mixed-reality-toolkit-ux-tools-plugin"></a><span data-ttu-id="7250d-112">Baixar o plug-in Ferramentas de UX do Kit de Ferramentas de Realidade Misturada</span><span class="sxs-lookup"><span data-stu-id="7250d-112">Download the Mixed Reality Toolkit UX Tools plugin</span></span>

1.  <span data-ttu-id="7250d-113">Clone ou baixe e descompacte a versão mais recente do plug-in Ferramentas de UX do MRTK do [Repositório de ferramentas de UX do GitHub](https://github.com/microsoft/MixedReality-UXTools-Unreal/releases)</span><span class="sxs-lookup"><span data-stu-id="7250d-113">Clone or download and unzip the latest release of the MRTK UX Tools plugin from the [UX Tools GitHub repository](https://github.com/microsoft/MixedReality-UXTools-Unreal/releases)</span></span>

2.  <span data-ttu-id="7250d-114">Na pasta raiz do projeto de xadrez, crie uma pasta chamada "Plugins".</span><span class="sxs-lookup"><span data-stu-id="7250d-114">In your chess project root folder, create a new folder called “Plugins”.</span></span> <span data-ttu-id="7250d-115">Copie o plug-in UXTools descompactado nessa pasta.</span><span class="sxs-lookup"><span data-stu-id="7250d-115">Copy your unzipped UXTools plugin into this folder.</span></span> <span data-ttu-id="7250d-116">Reinicie o editor do Unreal.</span><span class="sxs-lookup"><span data-stu-id="7250d-116">Restart the Unreal editor.</span></span> 

![Criar uma pasta de plug-ins do projeto](images/unreal-uxt/4-plugins.PNG)

3.  <span data-ttu-id="7250d-118">Após a reinicialização, se você não vir o conteúdo do plug-in UXTools no painel de fontes, talvez seja necessário clicar em **Opções de Exibição > Mostrar Conteúdo do Plug-in**.</span><span class="sxs-lookup"><span data-stu-id="7250d-118">After restarting, if you don’t see UXTools plugin content in your sources panel, you may need to click on **View Options > Show Plugin Content**.</span></span> <span data-ttu-id="7250d-119">Você verá que o plug-in UXTools fornece uma pasta de Conteúdo com Ponteiros, Simulação de Entrada e um Botão Simples, bem como uma pasta de Classes de C++ com subpastas separadas por função.</span><span class="sxs-lookup"><span data-stu-id="7250d-119">You’ll see that the UXTools plugin provides a Content folder with Pointers, Input Simulation, and a Simple Button, as well as a C++ Classes folder with subfolders separated by function.</span></span>  

![Mostrar conteúdo do plug-in](images/unreal-uxt/4-showplugincontent.PNG)

## <a name="spawn-hand-interaction-actors"></a><span data-ttu-id="7250d-121">Gerar Atores de Interação à Mão</span><span class="sxs-lookup"><span data-stu-id="7250d-121">Spawn Hand Interaction Actors</span></span>

1.  <span data-ttu-id="7250d-122">Vamos começar gerando Atores de Interação à Mão por meio do MRPawn para que 1) possamos visualizar o MRPawn com um cursor nas pontas dos dedos indicadores do Peão, 2) possamos fornecer eventos de entrada à mão articulada (e, portanto, manipular atores diretamente) por meio do Peão e 3) possamos fornecer eventos de entrada de interação à distância por meio de raios de mão.</span><span class="sxs-lookup"><span data-stu-id="7250d-122">Let’s start by spawning Hand Interaction Actors from our MRPawn so that 1) we can visualize MRPawn with a cursor on the tips of the Pawn’s index fingers, 2) we can provide articulated hand input events (and thus, directly manipulate actors) through the Pawn, and 3) we can provide far interaction input events through hand rays extending from our palms.</span></span> <span data-ttu-id="7250d-123">Abra o Blueprint **MRPawn** e navegue até o **Grafo de Eventos**.</span><span class="sxs-lookup"><span data-stu-id="7250d-123">Open the **MRPawn** Blueprint and navigate to the **Event Graph**.</span></span> 

2.  <span data-ttu-id="7250d-124">Arraste o pino de execução do Evento BeginPlay e solte-o para posicionar um novo nó.</span><span class="sxs-lookup"><span data-stu-id="7250d-124">Drag the execution pin from Event BeginPlay and release to place a new node.</span></span> <span data-ttu-id="7250d-125">Selecione o nó **Gerar Ator por meio da Classe**.</span><span class="sxs-lookup"><span data-stu-id="7250d-125">Select the **Spawn Actor from Class** node.</span></span> <span data-ttu-id="7250d-126">Clique na lista próxima ao pino **Classe** e pesquise **Ator de Interação à Mão Uxt**.</span><span class="sxs-lookup"><span data-stu-id="7250d-126">Click the dropdown next to the **Class** pin and search for **Uxt Hand Interaction Actor**.</span></span> <span data-ttu-id="7250d-127">Arraste o pino de execução do nó Ator de Interação à Mão Uxt do SpawnActor, solte-o e procure a função **Definir Mão** contida na classe Ator de Interação à Mão Uxt.</span><span class="sxs-lookup"><span data-stu-id="7250d-127">Drag the execution pin from the SpawnActor Uxt Hand Interaction node, release, and search for the **Set Hand** function contained in the Uxt Hand Interaction Actor class.</span></span> <span data-ttu-id="7250d-128">Conecte o Valor Retornado do nó SpawnActor ao pino Destino do nó Definir Mão para configurar a mão do Ator de Interação à Mão como **Esquerda**.</span><span class="sxs-lookup"><span data-stu-id="7250d-128">Connect the SpawnActor node’s Return Value to the Target pin of the Set Hand node to set the hand of the Hand Interaction Actor to **Left**.</span></span> <span data-ttu-id="7250d-129">Gere um segundo **Ator de Interação à Mão Uxt**, dessa vez definindo a mão como **direita**, para que, quando o evento for iniciado, um Ator de Interação à Mão Uxt seja gerado em cada mão.</span><span class="sxs-lookup"><span data-stu-id="7250d-129">Spawn a second **Uxt Hand Interaction Actor**, this time setting the hand to **Right**, so that when the event begins, a Uxt Hand Interaction Actor will be spawned on each hand.</span></span> 

![Gerar Atores de Interação à Mão UXT](images/unreal-uxt/4-spawnactor.PNG)

3.  <span data-ttu-id="7250d-131">Em seguida, precisamos fornecer aos Atores de Interação à Mão Uxt uma transformação inicial na qual gerar, bem como um proprietário.</span><span class="sxs-lookup"><span data-stu-id="7250d-131">Next, we need to provide our Uxt Hand Interaction Actors with an initial transform at which to spawn, and an owner.</span></span> <span data-ttu-id="7250d-132">Arraste o pino de um dos pinos **Gerar Transformação** e solte-o para posicionar um novo nó.</span><span class="sxs-lookup"><span data-stu-id="7250d-132">Drag the pin off one of the **Spawn Transform** pins and release to place a new node.</span></span> <span data-ttu-id="7250d-133">Procure o nó **Make Transform**.</span><span class="sxs-lookup"><span data-stu-id="7250d-133">Search for the **Make Transform** node.</span></span> <span data-ttu-id="7250d-134">A transformação inicial realmente não importa, já que os Atores de Interação à Mão vão para as nossas mãos assim que estiverem visíveis (código que já está escrito para nós no plug-in Ferramentas de UX), caso contrário, eles desaparecerão.</span><span class="sxs-lookup"><span data-stu-id="7250d-134">The initial transform really doesn’t matter since the Hand Interaction Actors will jump to our hands as soon as they are visible (code that’s already written for us in the UX Tools plugin), otherwise, they’ll disappear.</span></span> <span data-ttu-id="7250d-135">No entanto, a função SpawnActor requer uma Transformação como entrada para evitar um erro de compilador, portanto, vamos deixar os valores padrão em Make Transform como estão.</span><span class="sxs-lookup"><span data-stu-id="7250d-135">However, the SpawnActor function requires a Transform as input to avoid a compiler error, so we’ll just leave the default values in Make Transform as is.</span></span> <span data-ttu-id="7250d-136">Arraste o **Valor Retornado** de Make Transform para a Transformação de Gerar Ator de Interação da outra mão.</span><span class="sxs-lookup"><span data-stu-id="7250d-136">Drag Make Transform’s **Return Value** to the other hand’s Interaction Actor Spawn Transform as well.</span></span> 

4.  <span data-ttu-id="7250d-137">Clique na **seta para baixo** na parte inferior de ambos os nós SpawnActor para revelar o pino **Proprietário**.</span><span class="sxs-lookup"><span data-stu-id="7250d-137">Click the **down arrow** at the bottom of both SpawnActor nodes to reveal the **Owner** pin.</span></span> <span data-ttu-id="7250d-138">Arraste o pino de um dos pinos **Proprietário** e solte-o para posicionar um novo nó.</span><span class="sxs-lookup"><span data-stu-id="7250d-138">Drag the pin off one of the **Owner** pins and release to place a new node.</span></span> <span data-ttu-id="7250d-139">Pesquise por "self" e selecione a variável **Get a reference to self**.</span><span class="sxs-lookup"><span data-stu-id="7250d-139">Search for “self” and select the **Get a reference to self** variable.</span></span> <span data-ttu-id="7250d-140">Crie um vínculo entre o nó de referência do objeto Self e o outro pino do Proprietário do Ator de Interação à Mão.</span><span class="sxs-lookup"><span data-stu-id="7250d-140">Create a link between the Self object reference node and the other Hand Interaction Actor’s Owner pin as well.</span></span> <span data-ttu-id="7250d-141">Se quiser, arraste os nós para deixar seu Blueprint mais legível.</span><span class="sxs-lookup"><span data-stu-id="7250d-141">Feel free to drag around nodes to make your Blueprint more readable.</span></span> <span data-ttu-id="7250d-142">**Compile**, **salve** e retorne para a Janela principal.</span><span class="sxs-lookup"><span data-stu-id="7250d-142">**Compile**, **save**, and return to the Main window.</span></span> 

![Configuração de Ator de Interação à Mão UXT completa](images/unreal-uxt/4-fingerptrs.PNG)

<span data-ttu-id="7250d-144">Para obter mais informações sobre o Ator de Interação à Mão fornecido no plug-in Ferramentas de UX do MRTK, confira a [documentação](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/HandInteraction.html) oficial.</span><span class="sxs-lookup"><span data-stu-id="7250d-144">For more information about the Hand Interaction Actor provided in the MRTK UX Tools plugin, check out the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/HandInteraction.html).</span></span>

## <a name="attach-manipulators"></a><span data-ttu-id="7250d-145">Anexar Manipuladores</span><span class="sxs-lookup"><span data-stu-id="7250d-145">Attach Manipulators</span></span>

1.  <span data-ttu-id="7250d-146">Em seguida, anexaremos os Manipuladores aos nossos Atores tabuleiro de xadrez e rei.</span><span class="sxs-lookup"><span data-stu-id="7250d-146">Next, we’ll attach Manipulators to our chess board and king Actors.</span></span> <span data-ttu-id="7250d-147">Um Manipulador é um componente que responde à entrada de mão articulada e pode ser agarrado, girado e transladado; ao aplicar a transformação do Manipulador na de um ator, os Atores poderão ser manipulados diretamente.</span><span class="sxs-lookup"><span data-stu-id="7250d-147">A Manipulator is a component that responds to articulated hand input and can be grabbed, rotated, and translated; by applying the Manipulator’s transform to that of an Actor, Actors can be directly manipulated.</span></span> 

2.  <span data-ttu-id="7250d-148">Abra o Blueprint Board.</span><span class="sxs-lookup"><span data-stu-id="7250d-148">Open your Board Blueprint.</span></span> <span data-ttu-id="7250d-149">No painel **Componentes**, clique em **Adicionar Componente** e pesquise **Manipulador Genérico Uxt**.</span><span class="sxs-lookup"><span data-stu-id="7250d-149">In the **Components** panel, click **Add Component** and search for **Uxt Generic Manipulator**.</span></span> <span data-ttu-id="7250d-150">No painel Detalhes, você encontrará uma seção intitulada **Manipulador Genérico** em que é possível definir se deseja habilitar a manipulação com uma ou duas mãos, o modo de rotação e a suavização.</span><span class="sxs-lookup"><span data-stu-id="7250d-150">In the Details panel, you’ll find a section titled **Generic Manipulator** where you can set whether you want to enable one-handed or two-handed manipulation, the rotation mode, and smoothing.</span></span> <span data-ttu-id="7250d-151">Selecione os modos que quiser e, em seguida, **Compile** e **Salve** o Board.</span><span class="sxs-lookup"><span data-stu-id="7250d-151">Feel free to select whichever modes you wish, then **Compile** and **Save** Board.</span></span> 

![Adicionar manipulador genérico](images/unreal-uxt/4-addmanip.PNG)

![Definir o modo](images/unreal-uxt/4-setrotmode.PNG)

3.  <span data-ttu-id="7250d-154">Repita as etapas acima para o Ator WhiteKing.</span><span class="sxs-lookup"><span data-stu-id="7250d-154">Repeat the steps above for the WhiteKing Actor.</span></span>

<span data-ttu-id="7250d-155">Para obter mais informações sobre os Componentes do Manipulador fornecidos no plug-in Ferramentas de UX do MRTK, visite a [documentação](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/Manipulator.html) oficial.</span><span class="sxs-lookup"><span data-stu-id="7250d-155">For more information about the Manipulator Components provided in the MRTK UX Tools plugin, visit the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/Manipulator.html).</span></span>

## <a name="test-out-your-scene-with-simulated-hands"></a><span data-ttu-id="7250d-156">Testar a cena com mãos simuladas</span><span class="sxs-lookup"><span data-stu-id="7250d-156">Test out your scene with simulated hands</span></span>

1.  <span data-ttu-id="7250d-157">Na Janela principal, pressione **Reproduzir**.</span><span class="sxs-lookup"><span data-stu-id="7250d-157">In the Main window, press **Play**.</span></span> <span data-ttu-id="7250d-158">Você verá duas mãos de malha fornecidas pelo plug-in Ferramentas de UX do MRTK, com raios de mão que se estendem de cada uma das palmas das mãos!</span><span class="sxs-lookup"><span data-stu-id="7250d-158">You should see two mesh hands provided by the MRTK UX Tools plugin, with hand rays extending from each hand’s palm!</span></span> 

![Mãos simuladas no visor](images/unreal-uxt/4-handsim.PNG)

2.  <span data-ttu-id="7250d-160">Para controlar a **mão direita**, mantenha o botão **ALT esquerdo** pressionado.</span><span class="sxs-lookup"><span data-stu-id="7250d-160">To control the **right hand**, hold down the **left Alt** button.</span></span> <span data-ttu-id="7250d-161">Mova o mouse para mover a mão.</span><span class="sxs-lookup"><span data-stu-id="7250d-161">Move your mouse to move the hand.</span></span> <span data-ttu-id="7250d-162">Role com o **botão de rolagem do mouse** para mover a mão **para frente** ou **para trás**.</span><span class="sxs-lookup"><span data-stu-id="7250d-162">Scroll with your **mouse wheel** to move the hand **forwards** or **backwards**.</span></span> <span data-ttu-id="7250d-163">Clique com o botão esquerdo do mouse para **pinçar**, clique com o botão do meio do mouse para **cutucar**.</span><span class="sxs-lookup"><span data-stu-id="7250d-163">Click your left mouse to **pinch**, click the middle mouse button to **poke**.</span></span>

3.  <span data-ttu-id="7250d-164">Para controlar a **mão esquerda**, mantenha pressionado o botão **Shift esquerdo**.</span><span class="sxs-lookup"><span data-stu-id="7250d-164">To control the **left hand**, hold down the **left Shift** button.</span></span> <span data-ttu-id="7250d-165">Os controles para mover a mão esquerda são os mesmos do lado direito.</span><span class="sxs-lookup"><span data-stu-id="7250d-165">The controls for moving the left hand are the same as those for the right hand.</span></span> 

4.  <span data-ttu-id="7250d-166">Agora, tente usar as mãos simuladas para pegar, mover e posicionar o rei branco do xadrez.</span><span class="sxs-lookup"><span data-stu-id="7250d-166">Now try using the simulated hands to pick up, move, and set down the white chess king.</span></span> <span data-ttu-id="7250d-167">Você também pode manipular o tabuleiro!</span><span class="sxs-lookup"><span data-stu-id="7250d-167">You can also manipulate the board!</span></span> <span data-ttu-id="7250d-168">Experimente com a interação próxima e à distância. Observe que, quando as mãos ficam próximas o suficiente para pegar o quadro e o rei diretamente, o raio de mão desaparece e é substituído por um cursor de dedo na ponta do indicador.</span><span class="sxs-lookup"><span data-stu-id="7250d-168">Experiment with both near and far interaction- notice that when your hands get close enough to grab the board and king directly, the hand ray disappears and is replaced with a finger cursor on the index tip.</span></span> 

<span data-ttu-id="7250d-169">Para obter mais informações sobre o recurso de mãos simuladas fornecido pelo plug-in Ferramentas de UX do MRTK, visite a [documentação](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/InputSimulation.html) oficial.</span><span class="sxs-lookup"><span data-stu-id="7250d-169">For more information about the simulated hands feature provided by the MRTK UX Tools plugin, visit the official [documentation](https://microsoft.github.io/MixedReality-UXTools-Unreal/version/public/0.8.x/Docs/InputSimulation.html).</span></span>

[<span data-ttu-id="7250d-170">Próxima seção: 5. Como adicionar um botão e redefinir locais de peças</span><span class="sxs-lookup"><span data-stu-id="7250d-170">Next Section: 5. Adding a button & resetting piece locations</span></span>](unreal-uxt-ch5.md)