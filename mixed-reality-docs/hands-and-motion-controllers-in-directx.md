---
title: Mãos e controladores de movimento no DirectX
description: Guia do desenvolvedor para usar o acompanhamento de mão e controladores de movimento em aplicativos nativos do DirectX.
author: caseymeekhof
ms.author: cmeekhof
ms.date: 04/30/2019
ms.topic: article
keywords: mãos, controladores de movimento, directx, entrada, hologramas
ms.openlocfilehash: 08666c8c26cd4851c0c003a96a9e96d7a90228ac
ms.sourcegitcommit: 45676da11ebe33a2aa3dccec0e8ad7d714420853
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/15/2019
ms.locfileid: "65629639"
---
# <a name="hands-and-motion-controllers-in-directx"></a><span data-ttu-id="4f394-104">Mãos e controladores de movimento no DirectX</span><span class="sxs-lookup"><span data-stu-id="4f394-104">Hands and motion controllers in DirectX</span></span>

<span data-ttu-id="4f394-105">Na realidade mista do Windows, ambos entregar e [controlador de movimento](motion-controllers.md) entrada é tratada por meio de entrada espacial APIs, encontrada na [Windows.UI.Input.Spatial](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial) namespace.</span><span class="sxs-lookup"><span data-stu-id="4f394-105">In Windows Mixed Reality, both hand and [motion controller](motion-controllers.md) input is handled through the spatial input APIs, found in the [Windows.UI.Input.Spatial](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial) namespace.</span></span> <span data-ttu-id="4f394-106">Isso permite que você manipule facilmente ações comuns, como **selecionar** pressiona da mesma maneira em mãos e controladores de movimento.</span><span class="sxs-lookup"><span data-stu-id="4f394-106">This enables you to easily handle common actions like **Select** presses the same way across both hands and motion controllers.</span></span>

## <a name="getting-started"></a><span data-ttu-id="4f394-107">Introdução</span><span class="sxs-lookup"><span data-stu-id="4f394-107">Getting started</span></span>

<span data-ttu-id="4f394-108">Espacial do acesso de entrada na realidade mista do Windows, inicie com a interface SpatialInteractionManager.</span><span class="sxs-lookup"><span data-stu-id="4f394-108">To access spatial input in Windows Mixed Reality, start with the SpatialInteractionManager interface.</span></span>  <span data-ttu-id="4f394-109">Você pode acessar essa interface chamando [SpatialInteractionManager::GetForCurrentView](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.getforcurrentview), normalmente em algum momento durante a inicialização do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4f394-109">You can access this interface by calling  [SpatialInteractionManager::GetForCurrentView](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.getforcurrentview), typically sometime during app startup.</span></span>

```cpp
using namespace winrt::Windows::UI::Input::Spatial;

SpatialInteractionManager interactionManager = SpatialInteractionManager::GetForCurrentView();
```

<span data-ttu-id="4f394-110">Trabalho do SpatialInteractionManager é fornecer acesso aos [SpatialInteractionSources](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource), que representam uma fonte de entrada.</span><span class="sxs-lookup"><span data-stu-id="4f394-110">The SpatialInteractionManager's job is to provide access to [SpatialInteractionSources](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource), which represent a source of input.</span></span>  <span data-ttu-id="4f394-111">Há três tipos de SpatialInteractionSources disponíveis no sistema.</span><span class="sxs-lookup"><span data-stu-id="4f394-111">There are three kinds of SpatialInteractionSources available in the system.</span></span>
* <span data-ttu-id="4f394-112">**Mão** representa mão de um usuário detectado.</span><span class="sxs-lookup"><span data-stu-id="4f394-112">**Hand** represents a user's detected hand.</span></span> <span data-ttu-id="4f394-113">Fontes de mão oferecem recursos diferentes com base no dispositivo, variando de gestos básicos em HoloLens a mão completamente articulado HoloLens 2 de acompanhamento.</span><span class="sxs-lookup"><span data-stu-id="4f394-113">Hand sources offer different features based on the device, ranging from basic gestures on HoloLens to fully articulated hand tracking on HoloLens 2.</span></span> 
* <span data-ttu-id="4f394-114">**Controlador** representa um controlador de movimento emparelhado.</span><span class="sxs-lookup"><span data-stu-id="4f394-114">**Controller** represents a paired motion controller.</span></span> <span data-ttu-id="4f394-115">Controladores de movimento podem oferecer uma variedade de recursos.</span><span class="sxs-lookup"><span data-stu-id="4f394-115">Motion controllers can offer a variety of capabilities.</span></span>  <span data-ttu-id="4f394-116">Por exemplo: Selecione gatilhos, botões de Menu, botões de compreensão, touchpads e alavancas direcionais.</span><span class="sxs-lookup"><span data-stu-id="4f394-116">For example: Select triggers, Menu buttons, Grasp buttons, touchpads and thumbsticks.</span></span>
* <span data-ttu-id="4f394-117">**Voz** representa a voz do usuário falando em palavras-chave detectados pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="4f394-117">**Voice** represents the user's voice speaking system-detected keywords.</span></span> <span data-ttu-id="4f394-118">Por exemplo, essa fonte será injetar um pressionamento de Select e versão sempre que o usuário disser "Select".</span><span class="sxs-lookup"><span data-stu-id="4f394-118">For example, this source will inject a Select press and release whenever the user says "Select".</span></span>

<span data-ttu-id="4f394-119">Dados por quadro para uma fonte é representada pelo [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate) interface.</span><span class="sxs-lookup"><span data-stu-id="4f394-119">Per-frame data for a source is represented by the  [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate) interface.</span></span> <span data-ttu-id="4f394-120">Há duas maneiras diferentes de acessar esses dados, dependendo se você deseja usar um modelo controlado por evento ou baseadas em sondagem em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4f394-120">There are two different ways to access this data, depending on whether you want to use an event-driven or polling-based model in your application.</span></span>

### <a name="event-driven-input"></a><span data-ttu-id="4f394-121">Entrada controlada por evento</span><span class="sxs-lookup"><span data-stu-id="4f394-121">Event-driven input</span></span>
<span data-ttu-id="4f394-122">O SpatialInteractionManager fornece um número de eventos que seu aplicativo pode escutar.</span><span class="sxs-lookup"><span data-stu-id="4f394-122">The SpatialInteractionManager provides a number of events that your app can listen for.</span></span>  <span data-ttu-id="4f394-123">Alguns exemplos incluem [SourcePressed](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed), [SourceReleased](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcereleased) e [SourceUpdated](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourceupdated).</span><span class="sxs-lookup"><span data-stu-id="4f394-123">A few examples include   [SourcePressed](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed), [SourceReleased](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcereleased) and [SourceUpdated](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourceupdated).</span></span>

<span data-ttu-id="4f394-124">Por exemplo, o código a seguir conecta um manipulador de eventos chamado MyApp::OnSourcePressed ao evento SourcePressed.</span><span class="sxs-lookup"><span data-stu-id="4f394-124">For example, the following code hooks up an event handler called MyApp::OnSourcePressed to the SourcePressed event.</span></span>  <span data-ttu-id="4f394-125">Isso permite que seu aplicativo detectar pressionamentos em qualquer tipo de fonte de interação.</span><span class="sxs-lookup"><span data-stu-id="4f394-125">This allows your app to detect presses on any type of interaction source.</span></span>

```cpp
using namespace winrt::Windows::UI::Input::Spatial;

auto interactionManager = SpatialInteractionManager::GetForCurrentView();
interactionManager.SourcePressed({ this, &MyApp::OnSourcePressed });

```

<span data-ttu-id="4f394-126">Esse evento pressionado é enviado ao seu aplicativo de forma assíncrona, juntamente com o SpatialInteractionSourceState correspondente no momento em que a imprensa aconteceu.</span><span class="sxs-lookup"><span data-stu-id="4f394-126">This pressed event is sent to your app asynchronously, along with the corresponding SpatialInteractionSourceState at the time the press happened.</span></span> <span data-ttu-id="4f394-127">Seu aplicativo ou o mecanismo de jogo pode desejar executar algum processamento imediatamente, ou talvez você queira colocar na fila os dados de evento em sua rotina de processamento de entrada.</span><span class="sxs-lookup"><span data-stu-id="4f394-127">Your app or game engine may want to perform some processing right away or you may want to queue up the event data in your input processing routine.</span></span> <span data-ttu-id="4f394-128">Aqui está uma função de manipulador de eventos para o evento de SourcePressed, que mostra como verificar se o botão de seleção foi pressionado.</span><span class="sxs-lookup"><span data-stu-id="4f394-128">Here is an event handler function for the SourcePressed event, which shows how to check whether the select button was pressed.</span></span>

```cpp
using namespace winrt::Windows::UI::Input::Spatial;

void MyApp::OnSourcePressed(SpatialInteractionManager const& sender, SpatialInteractionSourceEventArgs const& args)
{
    if (args.PressKind() == SpatialInteractionPressKind::Select)
    {
        // Select button was pressed, update app state
    }
}
```

<span data-ttu-id="4f394-129">O código acima verifica apenas pressione 'Select', que corresponde à ação principal no dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4f394-129">The above code only checks for the 'Select' press, which corresponds to the primary action on the device.</span></span> <span data-ttu-id="4f394-130">Exemplos incluem fazer uma AirTap em HoloLens ou extraindo o gatilho em um controlador de animação.</span><span class="sxs-lookup"><span data-stu-id="4f394-130">Examples include doing an AirTap on HoloLens or pulling the trigger on a motion controller.</span></span>  <span data-ttu-id="4f394-131">'Select' pressionamentos representam a intenção do usuário para ativar o holograma que eles destinados.</span><span class="sxs-lookup"><span data-stu-id="4f394-131">'Select' presses represent the user's intention to activate the hologram they are targeting.</span></span>  <span data-ttu-id="4f394-132">O evento SourcePressed será disparado para um número de botões diferentes e gestos, e você pode inspecionar a outras propriedades a SpatialInteractionSource para testar para esses casos.</span><span class="sxs-lookup"><span data-stu-id="4f394-132">The SourcePressed event will fire for a number of different buttons and gestures, and you can inspect other properties on the SpatialInteractionSource to test for those cases.</span></span>

### <a name="polling-based-input"></a><span data-ttu-id="4f394-133">Entrada de sondagem</span><span class="sxs-lookup"><span data-stu-id="4f394-133">Polling-based input</span></span>
<span data-ttu-id="4f394-134">Você também pode usar SpatialInteractionManager para sondar o estado atual da entrada de cada quadro.</span><span class="sxs-lookup"><span data-stu-id="4f394-134">You can also use SpatialInteractionManager to poll for the current state of input every frame.</span></span>  <span data-ttu-id="4f394-135">Para fazer isso, basta chamar [GetDetectedSourcesAtTimestamp](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.getdetectedsourcesattimestamp) cada quadro.</span><span class="sxs-lookup"><span data-stu-id="4f394-135">To do this, simply call [GetDetectedSourcesAtTimestamp](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.getdetectedsourcesattimestamp) every frame.</span></span>  <span data-ttu-id="4f394-136">Essa função retorna uma matriz que contém um [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate) para cada ativo [SpatialInteractionSource](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource).</span><span class="sxs-lookup"><span data-stu-id="4f394-136">This function returns an array containing one [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate) for every active [SpatialInteractionSource](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource).</span></span> <span data-ttu-id="4f394-137">Isso significa um para cada controlador de movimento do Active Directory, um de cada ponteiro controlado e outro para fala, se um comando 'select' foi recentemente proferido.</span><span class="sxs-lookup"><span data-stu-id="4f394-137">This means one for each active motion controller, one for each tracked hand, and one for speech if a 'select' command was recently uttered.</span></span> <span data-ttu-id="4f394-138">Em seguida, você pode inspecionar as propriedades em cada SpatialInteractionSourceState à entrada de unidade em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4f394-138">You can then inspect the properties on each SpatialInteractionSourceState to drive input into your application.</span></span> 

<span data-ttu-id="4f394-139">Aqui está um exemplo de como verificar a ação 'select' usando o método de sondagem.</span><span class="sxs-lookup"><span data-stu-id="4f394-139">Here is an example of how to check for the 'select' action using the polling method.</span></span> <span data-ttu-id="4f394-140">Observe que o *previsão* variável representa um [HolographicFramePrediction](https://docs.microsoft.com/en-us/uwp/api/Windows.Graphics.Holographic.HolographicFramePrediction) objeto, que pode ser obtido de [HolographicFrame](https://docs.microsoft.com/en-us/uwp/api/windows.graphics.holographic.holographicframe).</span><span class="sxs-lookup"><span data-stu-id="4f394-140">Note that the *prediction* variable represents a [HolographicFramePrediction](https://docs.microsoft.com/en-us/uwp/api/Windows.Graphics.Holographic.HolographicFramePrediction) object, which can be obtained from the [HolographicFrame](https://docs.microsoft.com/en-us/uwp/api/windows.graphics.holographic.holographicframe).</span></span>

```cpp
using namespace winrt::Windows::UI::Input::Spatial;

auto interactionManager = SpatialInteractionManager::GetForCurrentView();
auto sourceStates = m_spatialInteractionManager.GetDetectedSourcesAtTimestamp(prediction.Timestamp());

for (auto& sourceState : sourceStates)
{
    if (sourceState.IsSelectPressed())
    {
        // Select button is down, update app state
    }
}
```

<span data-ttu-id="4f394-141">Cada SpatialInteractionSource tem uma ID, que você pode usar para identificar novas fontes e correlacionar fontes existentes do quadro a quadro.</span><span class="sxs-lookup"><span data-stu-id="4f394-141">Each SpatialInteractionSource has an ID, which you can use to identify new sources and correlate existing sources from frame to frame.</span></span>  <span data-ttu-id="4f394-142">Mãos são atribuídas a uma nova ID sempre que eles deixe e insira o FOV, mas identificações de controlador permanecem estáticas para a duração da sessão.</span><span class="sxs-lookup"><span data-stu-id="4f394-142">Hands are assigned a new ID every time they leave and enter the FOV, but controller IDs remain static for the duration of the session.</span></span>  <span data-ttu-id="4f394-143">Você pode usar como os eventos em SpatialInteractionManager [SourceDetected](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcedetected) e [SourceLost](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcelost), reagir quando mãos inserir ou deixar o dispositivo de exibição ou quando os controladores de movimento são ativados/desativada ou estejam emparelhado/não emparelhado.</span><span class="sxs-lookup"><span data-stu-id="4f394-143">You can use the events on SpatialInteractionManager such as [SourceDetected](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcedetected) and [SourceLost](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcelost), to react when hands enter or leave the device's view, or when motion controllers are turned on/off or are paired/unpaired.</span></span>

### <a name="predicted-vs-historical-poses"></a><span data-ttu-id="4f394-144">Previstos versus poses históricas</span><span class="sxs-lookup"><span data-stu-id="4f394-144">Predicted vs. historical poses</span></span>
<span data-ttu-id="4f394-145">Observe que GetDetectedSourcesAtTimestamp tem um parâmetro de carimbo de hora.</span><span class="sxs-lookup"><span data-stu-id="4f394-145">Note that GetDetectedSourcesAtTimestamp has a timestamp parameter.</span></span> <span data-ttu-id="4f394-146">Isso permite que você solicitar o estado e apresentar dados ou previsto ou históricos, permitindo você correlacionar espaciais interações com outras fontes de entrada.</span><span class="sxs-lookup"><span data-stu-id="4f394-146">This enables you to request state and pose data that is either predicted or historical, letting you correlate spatial interactions with other sources of input.</span></span> <span data-ttu-id="4f394-147">Por exemplo, ao renderizar a posição da mão no quadro atual, você pode passar no carimbo de hora previsto fornecido pelo [HolographicFrame](https://docs.microsoft.com/en-us/uwp/api/windows.graphics.holographic.holographicframe).</span><span class="sxs-lookup"><span data-stu-id="4f394-147">For example, when rendering the hand's position in the current frame, you can pass in the predicted timestamp provided by the [HolographicFrame](https://docs.microsoft.com/en-us/uwp/api/windows.graphics.holographic.holographicframe).</span></span> <span data-ttu-id="4f394-148">Isso permite que o sistema para a posição de mão para ficarem alinhados com a saída de quadro processado, minimizando a latência percebida de prever de encaminhamento.</span><span class="sxs-lookup"><span data-stu-id="4f394-148">This enables the system to forward-predict the hand position to closely align with the rendered frame output, minimizing perceived latency.</span></span>

<span data-ttu-id="4f394-149">No entanto, tal uma pose prevista não produz um ray apontador ideal para o direcionamento com uma fonte de interação.</span><span class="sxs-lookup"><span data-stu-id="4f394-149">However, such a predicted pose does not produce an ideal pointing ray for targeting with an interaction source.</span></span> <span data-ttu-id="4f394-150">Por exemplo, quando um botão do controlador de movimento é pressionado, pode levar até 20 ms para o evento de emergirem Bluetooth para o sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="4f394-150">For example, when a motion controller button is pressed, it can take up to 20ms for that event to bubble up through Bluetooth to the operating system.</span></span> <span data-ttu-id="4f394-151">Da mesma forma, depois que um usuário executa um gesto de mão, alguma quantidade de tempo pode passar antes que o sistema detecta o seu aplicativo e o gesto de sonda para ele.</span><span class="sxs-lookup"><span data-stu-id="4f394-151">Similarly, after a user performs a hand gesture, some amount of time may pass before the system detects the gesture and your app then polls for it.</span></span> <span data-ttu-id="4f394-152">No momento a sonda de seu aplicativo para uma alteração de estado, os cabeçalho e mão poses usado para destino interação realmente ocorreu no passado.</span><span class="sxs-lookup"><span data-stu-id="4f394-152">By the time your app polls for a state change, the head and hand poses used to target that interaction actually happened in the past.</span></span> <span data-ttu-id="4f394-153">Se você direcionar, passando o carimbo de hora do seu HolographicFrame atual para GetDetectedSourcesAtTimestamp, a pose serão em vez disso, para frente prevista para o raio de direcionamento no momento em que o quadro será exibido, que pode ser mais de 20 ms no futuro.</span><span class="sxs-lookup"><span data-stu-id="4f394-153">If you target by passing your current HolographicFrame's timestamp to GetDetectedSourcesAtTimestamp, the pose will instead be forward predicted to the targeting ray at the time the frame will be displayed, which could be more than 20ms in the future.</span></span> <span data-ttu-id="4f394-154">Esse futuro pose é bom para *renderização* a fonte de interação, mas aumenta ainda mais nosso problema de tempo para *direcionamento* a interação, como o usuário do direcionamento ocorreu no passado.</span><span class="sxs-lookup"><span data-stu-id="4f394-154">This future pose is good for *rendering* the interaction source, but compounds our time problem for *targeting* the interaction, as the user's targeting occurred in the past.</span></span>

<span data-ttu-id="4f394-155">Felizmente, o [SourcePressed](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed), [SourceReleased](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcereleased) e [SourceUpdated](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourceupdated) eventos fornecem o histórico [estado](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourceeventargs.state) associado cada evento de entrada.</span><span class="sxs-lookup"><span data-stu-id="4f394-155">Fortunately, the [SourcePressed](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed), [SourceReleased](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcereleased) and [SourceUpdated](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourceupdated) events provide the historical [State](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourceeventargs.state) associated with each input event.</span></span>  <span data-ttu-id="4f394-156">Isso inclui diretamente as históricas poses head e mão disponíveis por meio [TryGetPointerPose](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.trygetpointerpose), juntamente com um histórico [Timestamp](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.timestamp) que você pode passar para outras APIs para correlacionar com esse evento.</span><span class="sxs-lookup"><span data-stu-id="4f394-156">This directly includes the historical head and hand poses available through [TryGetPointerPose](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.trygetpointerpose), along with a historical [Timestamp](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.timestamp) that you can pass to other APIs to correlate with this event.</span></span>

<span data-ttu-id="4f394-157">Isso leva para as seguintes práticas recomendadas quando a renderização e direcionamento com mãos e controladores de cada quadro:</span><span class="sxs-lookup"><span data-stu-id="4f394-157">That leads to the following best practices when rendering and targeting with hands and controllers each frame:</span></span>
* <span data-ttu-id="4f394-158">Para **renderização de mão/controlador** seu aplicativo de cada quadro deve **sondagem** para o **prevista de avanço** apresentam de cada fonte de interação em tempo de photon do quadro atual.</span><span class="sxs-lookup"><span data-stu-id="4f394-158">For **hand/controller rendering** each frame, your app should **poll** for the **forward-predicted** pose of each interaction source at the current frame’s photon time.</span></span>  <span data-ttu-id="4f394-159">Você pode sondar para todas as fontes de interação, chamando [GetDetectedSourcesAtTimestamp](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.getdetectedsourcesattimestamp) cada quadro, passando o carimbo de hora previsto fornecido pelo [HolographicFrame::CurrentPrediction](https://docs.microsoft.com/en-us/uwp/api/windows.graphics.holographic.holographicframe.currentprediction).</span><span class="sxs-lookup"><span data-stu-id="4f394-159">You can poll for all interaction sources by calling [GetDetectedSourcesAtTimestamp](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.getdetectedsourcesattimestamp) each frame, passing in the predicted timestamp provided by [HolographicFrame::CurrentPrediction](https://docs.microsoft.com/en-us/uwp/api/windows.graphics.holographic.holographicframe.currentprediction).</span></span>
* <span data-ttu-id="4f394-160">Para **mão/controlador direcionamento** após um press ou versão, seu aplicativo deve tratar pressionado/lançado **eventos**, raycasting com base no **históricos** pose head ou disponível para Esse evento.</span><span class="sxs-lookup"><span data-stu-id="4f394-160">For **hand/controller targeting** upon a press or release, your app should handle pressed/released **events**, raycasting based on the **historical** head or hand pose for that event.</span></span> <span data-ttu-id="4f394-161">Obtenha esse direcionamento ray manipulando o [SourcePressed](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed) ou [SourceReleased](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcereleased) evento, obtendo o [estado](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourceeventargs.state) propriedade de argumentos do evento e, em seguida, chamar seu [ TryGetPointerPose](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.trygetpointerpose) método.</span><span class="sxs-lookup"><span data-stu-id="4f394-161">You get this targeting ray by handling the [SourcePressed](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcepressed) or [SourceReleased](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionmanager.sourcereleased) event, getting the [State](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourceeventargs.state) property from the event arguments, and then calling its [TryGetPointerPose](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.trygetpointerpose) method.</span></span>

## <a name="cross-device-input-properties"></a><span data-ttu-id="4f394-162">Propriedades de entrada entre dispositivos</span><span class="sxs-lookup"><span data-stu-id="4f394-162">Cross-device input properties</span></span>
<span data-ttu-id="4f394-163">A API SpatialInteractionSource dá suporte a controladores e sistemas com uma ampla gama de recursos de controle de mão.</span><span class="sxs-lookup"><span data-stu-id="4f394-163">The SpatialInteractionSource API supports controllers and hand tracking systems with a wide range of capabilities.</span></span> <span data-ttu-id="4f394-164">Um número desses recursos é comuns entre os tipos de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4f394-164">A number of these capabilities are common between device types.</span></span> <span data-ttu-id="4f394-165">Por exemplo, mão acompanhamento de movimento controladores e os dois fornecem uma ação 'select' e uma posição 3D.</span><span class="sxs-lookup"><span data-stu-id="4f394-165">For example, hand tracking and motion controllers both provide a 'select' action and a 3D position.</span></span> <span data-ttu-id="4f394-166">Sempre que possível, a API mapeia essas funcionalidades comuns para as mesmas propriedades no SpatialInteractionSource.</span><span class="sxs-lookup"><span data-stu-id="4f394-166">Wherever possible, the API maps these common capabilities to the same properties on the SpatialInteractionSource.</span></span>  <span data-ttu-id="4f394-167">Isso permite que aplicativos mais facilmente dar suporte a uma ampla variedade de tipos de entrada.</span><span class="sxs-lookup"><span data-stu-id="4f394-167">This enables applications to more easily support a wide range of input types.</span></span> <span data-ttu-id="4f394-168">A tabela a seguir descreve as propriedades que têm suporte e como eles se comparam em todos os tipos de entrada.</span><span class="sxs-lookup"><span data-stu-id="4f394-168">The following table describes the properties that are supported, and how they compare across input types.</span></span>

| <span data-ttu-id="4f394-169">Propriedade</span><span class="sxs-lookup"><span data-stu-id="4f394-169">Property</span></span> | <span data-ttu-id="4f394-170">Descrição</span><span class="sxs-lookup"><span data-stu-id="4f394-170">Description</span></span> | <span data-ttu-id="4f394-171">Gestos do HoloLens</span><span class="sxs-lookup"><span data-stu-id="4f394-171">HoloLens Gestures</span></span> | <span data-ttu-id="4f394-172">Controladores de movimento</span><span class="sxs-lookup"><span data-stu-id="4f394-172">Motion Controllers</span></span> | <span data-ttu-id="4f394-173">Mãos articuladas</span><span class="sxs-lookup"><span data-stu-id="4f394-173">Articulated Hands</span></span>|
|--- |--- |--- |--- |--- |
| [<span data-ttu-id="4f394-174">SpatialInteractionSource::**Handedness**</span><span class="sxs-lookup"><span data-stu-id="4f394-174">SpatialInteractionSource::**Handedness**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource.handedness) | <span data-ttu-id="4f394-175">À direita ou à esquerda / controlador.</span><span class="sxs-lookup"><span data-stu-id="4f394-175">Right or left hand / controller.</span></span> | <span data-ttu-id="4f394-176">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-176">Not Supported</span></span> | <span data-ttu-id="4f394-177">Com suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-177">Supported</span></span> | <span data-ttu-id="4f394-178">Com suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-178">Supported</span></span> |
| [<span data-ttu-id="4f394-179">SpatialInteractionSourceState::**IsSelectPressed**</span><span class="sxs-lookup"><span data-stu-id="4f394-179">SpatialInteractionSourceState::**IsSelectPressed**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.isselectpressed) | <span data-ttu-id="4f394-180">Estado atual do botão principal.</span><span class="sxs-lookup"><span data-stu-id="4f394-180">Current state of the primary button.</span></span> | <span data-ttu-id="4f394-181">Indicador e polegar</span><span class="sxs-lookup"><span data-stu-id="4f394-181">Air Tap</span></span> | <span data-ttu-id="4f394-182">gatilho</span><span class="sxs-lookup"><span data-stu-id="4f394-182">Trigger</span></span> | <span data-ttu-id="4f394-183">Toque ar reduzida (pinch vertical)</span><span class="sxs-lookup"><span data-stu-id="4f394-183">Relaxed Air Tap (upright pinch)</span></span> |
| [<span data-ttu-id="4f394-184">SpatialInteractionSourceState::**IsGrasped**</span><span class="sxs-lookup"><span data-stu-id="4f394-184">SpatialInteractionSourceState::**IsGrasped**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.isgrasped) | <span data-ttu-id="4f394-185">Estado atual do botão de captura.</span><span class="sxs-lookup"><span data-stu-id="4f394-185">Current state of the grab button.</span></span> | <span data-ttu-id="4f394-186">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-186">Not Supported</span></span> | <span data-ttu-id="4f394-187">Botão de captura</span><span class="sxs-lookup"><span data-stu-id="4f394-187">Grab button</span></span> | <span data-ttu-id="4f394-188">Mão aperto ou fechado</span><span class="sxs-lookup"><span data-stu-id="4f394-188">Pinch or Closed Hand</span></span> |
| [<span data-ttu-id="4f394-189">SpatialInteractionSourceState::**IsMenuPressed**</span><span class="sxs-lookup"><span data-stu-id="4f394-189">SpatialInteractionSourceState::**IsMenuPressed**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.ismenupressed) | <span data-ttu-id="4f394-190">Estado atual do botão de menu.</span><span class="sxs-lookup"><span data-stu-id="4f394-190">Current state of the menu button.</span></span>    | <span data-ttu-id="4f394-191">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-191">Not Supported</span></span> | <span data-ttu-id="4f394-192">Botão de menu</span><span class="sxs-lookup"><span data-stu-id="4f394-192">Menu Button</span></span> | <span data-ttu-id="4f394-193">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-193">Not Supported</span></span> |
| [<span data-ttu-id="4f394-194">SpatialInteractionSourceLocation::**Position**</span><span class="sxs-lookup"><span data-stu-id="4f394-194">SpatialInteractionSourceLocation::**Position**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcelocation.position) | <span data-ttu-id="4f394-195">Local de XYZ da mão ou alça de posição no controlador.</span><span class="sxs-lookup"><span data-stu-id="4f394-195">XYZ location of the hand or grip position on the controller.</span></span> | <span data-ttu-id="4f394-196">Local de Palm</span><span class="sxs-lookup"><span data-stu-id="4f394-196">Palm location</span></span> | <span data-ttu-id="4f394-197">Alça pose posição</span><span class="sxs-lookup"><span data-stu-id="4f394-197">Grip pose position</span></span> | <span data-ttu-id="4f394-198">Local de Palm</span><span class="sxs-lookup"><span data-stu-id="4f394-198">Palm location</span></span> |
| [<span data-ttu-id="4f394-199">SpatialInteractionSourceLocation::**Orientation**</span><span class="sxs-lookup"><span data-stu-id="4f394-199">SpatialInteractionSourceLocation::**Orientation**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcelocation.orientation) | <span data-ttu-id="4f394-200">Quaternion que representa a orientação da mão ou alça representar no controlador.</span><span class="sxs-lookup"><span data-stu-id="4f394-200">Quaternion representing the orientation of the hand or grip pose on the controller.</span></span> | <span data-ttu-id="4f394-201">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-201">Not Supported</span></span> | <span data-ttu-id="4f394-202">Orientação da alça pose</span><span class="sxs-lookup"><span data-stu-id="4f394-202">Grip pose orientation</span></span> | <span data-ttu-id="4f394-203">Orientação de Palm</span><span class="sxs-lookup"><span data-stu-id="4f394-203">Palm orientation</span></span> |
| [<span data-ttu-id="4f394-204">SpatialPointerInteractionSourcePose::**Position**</span><span class="sxs-lookup"><span data-stu-id="4f394-204">SpatialPointerInteractionSourcePose::**Position**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialpointerinteractionsourcepose.position#Windows_UI_Input_Spatial_SpatialPointerInteractionSourcePose_Position) | <span data-ttu-id="4f394-205">Origem do raio apontando.</span><span class="sxs-lookup"><span data-stu-id="4f394-205">Origin of the pointing ray.</span></span> | <span data-ttu-id="4f394-206">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-206">Not Supported</span></span> | <span data-ttu-id="4f394-207">Com suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-207">Supported</span></span> | <span data-ttu-id="4f394-208">Com suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-208">Supported</span></span> |
| [<span data-ttu-id="4f394-209">SpatialPointerInteractionSourcePose::**ForwardDirection**</span><span class="sxs-lookup"><span data-stu-id="4f394-209">SpatialPointerInteractionSourcePose::**ForwardDirection**</span></span>](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialpointerinteractionsourcepose.forwarddirection#Windows_UI_Input_Spatial_SpatialPointerInteractionSourcePose_ForwardDirection) | <span data-ttu-id="4f394-210">Direção do raio apontando.</span><span class="sxs-lookup"><span data-stu-id="4f394-210">Direction of the pointing ray.</span></span> | <span data-ttu-id="4f394-211">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-211">Not Supported</span></span> | <span data-ttu-id="4f394-212">Com suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-212">Supported</span></span> | <span data-ttu-id="4f394-213">Com suporte</span><span class="sxs-lookup"><span data-stu-id="4f394-213">Supported</span></span> |

<span data-ttu-id="4f394-214">Algumas das propriedades acima não estão disponíveis em todos os dispositivos e a API fornece um meio para testar isso.</span><span class="sxs-lookup"><span data-stu-id="4f394-214">Some of the above properties are not available on all devices, and the API provides a means to test for this.</span></span> <span data-ttu-id="4f394-215">Por exemplo, você pode inspecionar a [SpatialInteractionSource::IsGraspSupported](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource.isgraspsupported) propriedade para determinar se o código-fonte fornece uma melhor compreensão ação.</span><span class="sxs-lookup"><span data-stu-id="4f394-215">For example, you can inspect the [SpatialInteractionSource::IsGraspSupported](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource.isgraspsupported) property to determine whether the source provides a grasp action.</span></span>

### <a name="grip-pose-vs-pointing-pose"></a><span data-ttu-id="4f394-216">Alça pose versus pose apontador</span><span class="sxs-lookup"><span data-stu-id="4f394-216">Grip pose vs. pointing pose</span></span>

<span data-ttu-id="4f394-217">Realidade mista do Windows oferece suporte a controladores de movimento em uma variedade de fatores forma.</span><span class="sxs-lookup"><span data-stu-id="4f394-217">Windows Mixed Reality supports motion controllers in a variety of form factors.</span></span>  <span data-ttu-id="4f394-218">Ele também dá suporte a sistemas de controle de mão articulada.</span><span class="sxs-lookup"><span data-stu-id="4f394-218">It also supports articulated hand tracking systems.</span></span>  <span data-ttu-id="4f394-219">Todos esses sistemas têm diferentes relações entre a posição de mão e a direção de "avanço" natural que aplicativos devem usar para objetos que aponta ou rendreing em mãos do usuário.</span><span class="sxs-lookup"><span data-stu-id="4f394-219">All of these systems have different relationships between the hand position and the natural "forward" direction that apps should use for pointing or rendreing objects in the user's hand.</span></span>  <span data-ttu-id="4f394-220">Para dar suporte a tudo isso, há dois tipos de 3D poses fornecidos para ambos os controladores de acompanhamento e o movimento de mão.</span><span class="sxs-lookup"><span data-stu-id="4f394-220">To support all of this, there are two types of 3D poses provided for both hand tracking and motion controllers.</span></span>  <span data-ttu-id="4f394-221">A primeira é pose alça, que representa a posição do usuário manualmente.</span><span class="sxs-lookup"><span data-stu-id="4f394-221">The first is grip pose, which represents the user's hand position.</span></span>  <span data-ttu-id="4f394-222">A segunda está apontando pose, que representa um raio de apontador provenientes de mão ou controlador do usuário.</span><span class="sxs-lookup"><span data-stu-id="4f394-222">The second is pointing pose, which represents a pointing ray originating from the user's hand or controller.</span></span> <span data-ttu-id="4f394-223">Portanto, se você deseja renderizar **mão do usuário** ou **um objeto é mantido em mãos do usuário**, tais como uma espada ou elétrons, use a alça pose.</span><span class="sxs-lookup"><span data-stu-id="4f394-223">So, if you want to render **the user's hand** or **an object held in the user's hand**, such as a sword or gun, use the grip pose.</span></span> <span data-ttu-id="4f394-224">Se você quiser raycast do controlador ou manualmente, por exemplo, quando o usuário estiver **apontando para a interface do usuário** , use o apontador pose.</span><span class="sxs-lookup"><span data-stu-id="4f394-224">If you want to raycast from the controller or hand, for example when the user is **pointing at UI** , use the pointing pose.</span></span>

<span data-ttu-id="4f394-225">Você pode acessar o **alça pose** por meio de [SpatialInteractionSourceState::Properties::TryGetLocation(...) ](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourceproperties.trygetlocation#Windows_UI_Input_Spatial_SpatialInteractionSourceProperties_TryGetLocation_Windows_Perception_Spatial_SpatialCoordinateSystem_).  Ele é definido da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="4f394-225">You can access the **grip pose** through [SpatialInteractionSourceState::Properties::TryGetLocation(...)](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourceproperties.trygetlocation#Windows_UI_Input_Spatial_SpatialInteractionSourceProperties_TryGetLocation_Windows_Perception_Spatial_SpatialCoordinateSystem_).  It is defined as follows:</span></span>
* <span data-ttu-id="4f394-226">O **segure posição**: O centroide de palm pressionando o controlador naturalmente, ajustado esquerda ou direita para centralizar a posição dentro a alça.</span><span class="sxs-lookup"><span data-stu-id="4f394-226">The **grip position**: The palm centroid when holding the controller naturally, adjusted left or right to center the position within the grip.</span></span>
* <span data-ttu-id="4f394-227">O **Segure o eixo à direita da orientação**: Quando você abre completamente sua mão para formar uma dedo simples 5 pose, raio que é normal para o palm (para a frente da esquerda palm, com versões anteriores do palm à direita)</span><span class="sxs-lookup"><span data-stu-id="4f394-227">The **grip orientation's Right axis**: When you completely open your hand to form a flat 5-finger pose, the ray that is normal to your palm (forward from left palm, backward from right palm)</span></span>
* <span data-ttu-id="4f394-228">O **Segure o eixo de encaminhamento da orientação**: Quando você fecha sua mão parcialmente (como se que mantém o controlador), o raio que aponta "forward" por meio de tubo formado por seus dedos não thumb.</span><span class="sxs-lookup"><span data-stu-id="4f394-228">The **grip orientation's Forward axis**: When you close your hand partially (as if holding the controller), the ray that points "forward" through the tube formed by your non-thumb fingers.</span></span>
* <span data-ttu-id="4f394-229">O **segure orientação backup eixo**: O eixo de cima indicado pelas definições de direito e Avançar.</span><span class="sxs-lookup"><span data-stu-id="4f394-229">The **grip orientation's Up axis**: The Up axis implied by the Right and Forward definitions.</span></span>

<span data-ttu-id="4f394-230">Você pode acessar o **ponteiro pose** por meio [SpatialInteractionSourceState::Properties::TryGetLocation (...):: SourcePointerPose](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionsourcelocation#Windows_UI_Input_Spatial_SpatialInteractionSourceLocation_SourcePointerPose) ou [SpatialInteractionSourceState:: TryGetPointerPose (...):: TryGetInteractionSourcePose](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialpointerpose#Windows_UI_Input_Spatial_SpatialPointerPose_TryGetInteractionSourcePose_Windows_UI_Input_Spatial_SpatialInteractionSource_).</span><span class="sxs-lookup"><span data-stu-id="4f394-230">You can access the **pointer pose** through [SpatialInteractionSourceState::Properties::TryGetLocation(...)::SourcePointerPose](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractionsourcelocation#Windows_UI_Input_Spatial_SpatialInteractionSourceLocation_SourcePointerPose) or [SpatialInteractionSourceState::TryGetPointerPose(...)::TryGetInteractionSourcePose](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialpointerpose#Windows_UI_Input_Spatial_SpatialPointerPose_TryGetInteractionSourcePose_Windows_UI_Input_Spatial_SpatialInteractionSource_).</span></span>

## <a name="controller-specific-input-properties"></a><span data-ttu-id="4f394-231">Propriedades de entrada específica ao controlador</span><span class="sxs-lookup"><span data-stu-id="4f394-231">Controller-specific input properties</span></span>
<span data-ttu-id="4f394-232">Para controladores, o SpatialInteractionSource tem uma propriedade de controlador com recursos adicionais.</span><span class="sxs-lookup"><span data-stu-id="4f394-232">For controllers, the SpatialInteractionSource has a Controller property with additional capabilities.</span></span>
* <span data-ttu-id="4f394-233">**HasThumbstick:** Se for true, o controlador tem um analógico.</span><span class="sxs-lookup"><span data-stu-id="4f394-233">**HasThumbstick:** If true, the controller has a thumbstick.</span></span> <span data-ttu-id="4f394-234">Inspecione o [ControllerProperties](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractioncontrollerproperties) propriedade do SpatialInteractionSourceState para adquirir o analógico x e y de valores (ThumbstickX e ThumbstickY), bem como seu estado pressionado (IsThumbstickPressed).</span><span class="sxs-lookup"><span data-stu-id="4f394-234">Inspect the [ControllerProperties](https://docs.microsoft.com/uwp/api/windows.ui.input.spatial.spatialinteractioncontrollerproperties) property of the SpatialInteractionSourceState to acquire the thumbstick x and y values (ThumbstickX and ThumbstickY), as well as its pressed state (IsThumbstickPressed).</span></span>
* <span data-ttu-id="4f394-235">**HasTouchpad:** Se for true, o controlador tem um touchpad.</span><span class="sxs-lookup"><span data-stu-id="4f394-235">**HasTouchpad:** If true, the controller has a touchpad.</span></span> <span data-ttu-id="4f394-236">Inspecionar a propriedade ControllerProperties do SpatialInteractionSourceState para adquirir o touchpad x e y valores (TouchpadX e TouchpadY), bem como para saber se o usuário toca o teclado (IsTouchpadTouched) e se eles estão nos pressionando o touchpad para baixo ( IsTouchpadPressed).</span><span class="sxs-lookup"><span data-stu-id="4f394-236">Inspect the ControllerProperties property of the SpatialInteractionSourceState to acquire the touchpad x and y values (TouchpadX and TouchpadY), and to know if the user is touching the pad (IsTouchpadTouched) and if they are pressing the touchpad down (IsTouchpadPressed).</span></span>
* <span data-ttu-id="4f394-237">**SimpleHapticsController:** A API SimpleHapticsController para o controlador permite que você inspecione as capacidades de haptics do controlador, e ele também permite que você controle os comentários hápticos.</span><span class="sxs-lookup"><span data-stu-id="4f394-237">**SimpleHapticsController:** The SimpleHapticsController API for the controller allows you to inspect the haptics capabilities of the controller, and it also allows you to control haptic feedback.</span></span>

<span data-ttu-id="4f394-238">Observe que o intervalo para touchpad e analógico é -1 para 1 para ambos os eixos (de baixo para cima e da esquerda para direita).</span><span class="sxs-lookup"><span data-stu-id="4f394-238">Note that the range for touchpad and thumbstick is -1 to 1 for both axes (from bottom to top, and from left to right).</span></span> <span data-ttu-id="4f394-239">O intervalo para o gatilho analógico, que pode é acessado usando a propriedade SpatialInteractionSourceState::SelectPressedValue, tem um intervalo de 0 a 1.</span><span class="sxs-lookup"><span data-stu-id="4f394-239">The range for the analog trigger, which is accessed using the SpatialInteractionSourceState::SelectPressedValue property, has a range of 0 to 1.</span></span> <span data-ttu-id="4f394-240">Um valor de 1 correlaciona com IsSelectPressed sendo igual a true; qualquer outro valor se correlaciona com IsSelectPressed sendo igual a false.</span><span class="sxs-lookup"><span data-stu-id="4f394-240">A value of 1 correlates with IsSelectPressed being equal to true; any other value correlates with IsSelectPressed being equal to false.</span></span>

## <a name="articulated-hand-tracking"></a><span data-ttu-id="4f394-241">Articuladas mão de acompanhamento</span><span class="sxs-lookup"><span data-stu-id="4f394-241">Articulated hand tracking</span></span>
<span data-ttu-id="4f394-242">A API de realidade mista do Windows fornece suporte completo para articuladas mão de controle, por exemplo em HoloLens 2.</span><span class="sxs-lookup"><span data-stu-id="4f394-242">The Windows Mixed Reality API provides full support for articulated hand tracking, for example on HoloLens 2.</span></span> <span data-ttu-id="4f394-243">Articuladas mão de controle pode ser usado para implementar a manipulação direta e modelos de confirmação e de ponto de entrada em seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4f394-243">Articulated hand tracking can be used to implement direct manipulation and point-and-commit input models in your applications.</span></span> <span data-ttu-id="4f394-244">Ele também pode ser usado para criar interações totalmente personalizadas.</span><span class="sxs-lookup"><span data-stu-id="4f394-244">It can also be used to author fully custom interactions.</span></span>

### <a name="hand-skeleton"></a><span data-ttu-id="4f394-245">Esqueleto de mão</span><span class="sxs-lookup"><span data-stu-id="4f394-245">Hand skeleton</span></span>
<span data-ttu-id="4f394-246">Mão articulada controle fornece um esqueleto conjunta 25 que permite que muitos tipos diferentes de interações.</span><span class="sxs-lookup"><span data-stu-id="4f394-246">Articulated hand tracking provides a 25 joint skeleton that enables many different types of interactions.</span></span>  <span data-ttu-id="4f394-247">O esqueleto fornece 5 junções para os dedos de índice/intermediária/anel/pequeno, 4 junções para o elevador e 1 pulso conjunto.</span><span class="sxs-lookup"><span data-stu-id="4f394-247">The skeleton provides 5 joints for the index/middle/ring/little fingers, 4 joints for the thumb, and 1 wrist joint.</span></span>  <span data-ttu-id="4f394-248">A junção de pulso serve como a base da hierarquia.</span><span class="sxs-lookup"><span data-stu-id="4f394-248">The wrist joint serves as the base of the hierarchy.</span></span> <span data-ttu-id="4f394-249">A imagem a seguir ilustra o layout de esqueleto.</span><span class="sxs-lookup"><span data-stu-id="4f394-249">The following picture illustrates the layout of the skeleton.</span></span>

![Esqueleto de mão](images/hand-skeleton.png)

<span data-ttu-id="4f394-251">Na maioria dos casos, cada conjunto é nomeado com base em bem-acabados que ele representa.</span><span class="sxs-lookup"><span data-stu-id="4f394-251">In most cases, each joint is named based on the bone that it represents.</span></span>  <span data-ttu-id="4f394-252">Como há duas funções em cada conjunto, podemos usar uma convenção de nomenclatura de cada junção com base em bem-acabados filho nesse local.</span><span class="sxs-lookup"><span data-stu-id="4f394-252">Since there are two bones at every joint, we use a convention of naming each joint based on the child bone at that location.</span></span>  <span data-ttu-id="4f394-253">Bem-acabados filho é definido como bem-acabados mais longe de pulso.</span><span class="sxs-lookup"><span data-stu-id="4f394-253">The child bone is defined as the bone further from the wrist.</span></span>  <span data-ttu-id="4f394-254">Por exemplo, o "índice Proximal" conjunta contém a posição de início do bem-acabados proximal índice e a orientação de que funções básicas.</span><span class="sxs-lookup"><span data-stu-id="4f394-254">For example, the "Index Proximal" joint contains the beginning position of the index proximal bone, and the orientation of that bone.</span></span>  <span data-ttu-id="4f394-255">Ele não contém a posição final de bem-acabados.</span><span class="sxs-lookup"><span data-stu-id="4f394-255">It does not contain the ending position of the bone.</span></span>  <span data-ttu-id="4f394-256">Se você precisar que, você teria obtê-lo do próximo conjunto na hierarquia, o "índice intermediário" conjunta.</span><span class="sxs-lookup"><span data-stu-id="4f394-256">If you need that, you'd get it from the next joint in the hierarchy, the "Index Intermediate" joint.</span></span>

<span data-ttu-id="4f394-257">Além de 25 junções hierárquicas, o sistema fornece uma união palm.</span><span class="sxs-lookup"><span data-stu-id="4f394-257">In addition to the 25 hierarchical joints, the system provides a palm joint.</span></span>  <span data-ttu-id="4f394-258">O palm normalmente não é considerado parte da sua estrutura.</span><span class="sxs-lookup"><span data-stu-id="4f394-258">The palm is not typically considered part of the skeletal structure.</span></span>  <span data-ttu-id="4f394-259">Ele é fornecido apenas como uma maneira conveniente de obter a posição e orientação geral a mão.</span><span class="sxs-lookup"><span data-stu-id="4f394-259">It is provided only as a convenient way to get the hand's overall position and orientation.</span></span>

<span data-ttu-id="4f394-260">As informações a seguir são fornecidas para cada conjunto:</span><span class="sxs-lookup"><span data-stu-id="4f394-260">The following information is provided for each joint:</span></span>

| <span data-ttu-id="4f394-261">Nome</span><span class="sxs-lookup"><span data-stu-id="4f394-261">Name</span></span> | <span data-ttu-id="4f394-262">Descrição</span><span class="sxs-lookup"><span data-stu-id="4f394-262">Description</span></span> |
|--- |--- |
|<span data-ttu-id="4f394-263">Posição</span><span class="sxs-lookup"><span data-stu-id="4f394-263">Position</span></span> | <span data-ttu-id="4f394-264">Posição 3D da junção, disponível em qualquer sistema de coordenadas solicitado.</span><span class="sxs-lookup"><span data-stu-id="4f394-264">3D position of the joint, available in any requested coordinate system.</span></span> |
|<span data-ttu-id="4f394-265">Orientação</span><span class="sxs-lookup"><span data-stu-id="4f394-265">Orientation</span></span> | <span data-ttu-id="4f394-266">Orientação 3D do bem-acabados, disponível em nenhum solicitou o sistema de coordenadas.</span><span class="sxs-lookup"><span data-stu-id="4f394-266">3D orientation of the bone, available in any requested coordinate system.</span></span> |
|<span data-ttu-id="4f394-267">Radius</span><span class="sxs-lookup"><span data-stu-id="4f394-267">Radius</span></span> | <span data-ttu-id="4f394-268">Distância até a superfície da capa a posição do conjunto.</span><span class="sxs-lookup"><span data-stu-id="4f394-268">Distance to surface of the skin at the joint position.</span></span> <span data-ttu-id="4f394-269">Úteis para ajuste interações diretas ou visualizações que se baseiam na largura do dedo.</span><span class="sxs-lookup"><span data-stu-id="4f394-269">Useful for tuning direct interactions or visualizations that rely on finger width.</span></span> |
|<span data-ttu-id="4f394-270">Precisão</span><span class="sxs-lookup"><span data-stu-id="4f394-270">Accuracy</span></span> | <span data-ttu-id="4f394-271">Fornece uma dica sobre o sistema de quão confiante pensa sobre informações de conjuntos.</span><span class="sxs-lookup"><span data-stu-id="4f394-271">Provides a hint on how confident the system feels about this joint's information.</span></span> |

<span data-ttu-id="4f394-272">Você pode acessar os dados de esqueleto de mão por meio de uma função na [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate).</span><span class="sxs-lookup"><span data-stu-id="4f394-272">You can access the hand skeleton data through a function on the [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate).</span></span>  <span data-ttu-id="4f394-273">A função é chamada [TryGetHandPose](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.trygethandpose#Windows_UI_Input_Spatial_SpatialInteractionSourceState_TryGetHandPose), e ele retorna um objeto chamado [HandPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handpose).</span><span class="sxs-lookup"><span data-stu-id="4f394-273">The function is called [TryGetHandPose](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate.trygethandpose#Windows_UI_Input_Spatial_SpatialInteractionSourceState_TryGetHandPose), and it returns an object called [HandPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handpose).</span></span>  <span data-ttu-id="4f394-274">Se a fonte não dá suporte a articuladas mãos, em seguida, essa função retornará null.</span><span class="sxs-lookup"><span data-stu-id="4f394-274">If the source does not support articulated hands, then this function will return null.</span></span>  <span data-ttu-id="4f394-275">Quando você tiver um HandPose, você pode obter dados do conjuntos atual chamando [TryGetJoint](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handpose.trygetjoint#Windows_Perception_People_HandPose_TryGetJoint_Windows_Perception_Spatial_SpatialCoordinateSystem_Windows_Perception_People_HandJointKind_Windows_Perception_People_JointPose__), com o nome da junção que lhe interessam.</span><span class="sxs-lookup"><span data-stu-id="4f394-275">Once you have a HandPose, you can get current joint data by calling [TryGetJoint](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handpose.trygetjoint#Windows_Perception_People_HandPose_TryGetJoint_Windows_Perception_Spatial_SpatialCoordinateSystem_Windows_Perception_People_HandJointKind_Windows_Perception_People_JointPose__), with the name of the joint you are interested in.</span></span>  <span data-ttu-id="4f394-276">Os dados são retornados como uma [JointPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.jointpose) estrutura.</span><span class="sxs-lookup"><span data-stu-id="4f394-276">The data is returned as a [JointPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.jointpose) structure.</span></span>  <span data-ttu-id="4f394-277">O código a seguir obtém a posição da ponta do dedo.</span><span class="sxs-lookup"><span data-stu-id="4f394-277">The following code gets the position of the index finger tip.</span></span> <span data-ttu-id="4f394-278">A variável *currentState* representa uma instância de [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate).</span><span class="sxs-lookup"><span data-stu-id="4f394-278">The variable *currentState* represents an instance of [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate).</span></span>

```cpp
using namespace winrt::Windows::Perception::People;
using namespace winrt::Windows::Foundation::Numerics;

auto handPose = currentState.TryGetHandPose();
if (handPose)
{
    JointPose joint;
    if (handPose.TryGetJoint(desiredCoordinateSystem, HandJointKind::IndexTip, joint))
    {
        float3 indexTipPosition = joint.Position;

        // Do something with the index tip position
    }
}
```

### <a name="hand-mesh"></a><span data-ttu-id="4f394-279">Malha de mão</span><span class="sxs-lookup"><span data-stu-id="4f394-279">Hand mesh</span></span>

<span data-ttu-id="4f394-280">A API de controle de mão articulada permite que uma malha de mão do triângulo deformável totalmente.</span><span class="sxs-lookup"><span data-stu-id="4f394-280">The articulated hand tracking API allows for a fully deformable triangle hand mesh.</span></span>  <span data-ttu-id="4f394-281">Essa malha pode Deformar em tempo real, juntamente com o esqueleto de mão e é útil para visualização, bem como técnicas avançadas de física.</span><span class="sxs-lookup"><span data-stu-id="4f394-281">This mesh can deform in real time along with the hand skeleton, and is useful for visualization as well as advanced physics techniques.</span></span>  <span data-ttu-id="4f394-282">Para acessar a malha de mão, você precisa primeiro criar uma [HandMeshObserver](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshobserver) objeto chamando [TryCreateHandMeshObserverAsync](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource.trycreatehandmeshobserverasync) sobre o [SpatialInteractionSource](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource).</span><span class="sxs-lookup"><span data-stu-id="4f394-282">To access the hand mesh, you need to first create a [HandMeshObserver](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshobserver) object by calling [TryCreateHandMeshObserverAsync](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource.trycreatehandmeshobserverasync) on the [SpatialInteractionSource](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsource).</span></span>  <span data-ttu-id="4f394-283">Isso só precisa ser feito uma vez por origem, normalmente na primeira vez que você vê-lo.</span><span class="sxs-lookup"><span data-stu-id="4f394-283">This only needs to be done once per source, typically the first time you see it.</span></span>  <span data-ttu-id="4f394-284">Isso significa que você chamará essa função para criar um objeto HandMeshObserver sempre que o FOV entra em uma mão.</span><span class="sxs-lookup"><span data-stu-id="4f394-284">That means you'll call this function to create a HandMeshObserver object whenever a hand enters the FOV.</span></span>  <span data-ttu-id="4f394-285">Observe que se trata de uma função assíncrona, então você terá que lidar com um pouco de simultaneidade aqui.</span><span class="sxs-lookup"><span data-stu-id="4f394-285">Note that this is an async function, so you'll have to deal with a bit of concurrency here.</span></span>  <span data-ttu-id="4f394-286">Quando estiver disponível, você pode solicitar o objeto HandMeshObserver o buffer de índices de triângulo chamando [GetTriangleIndices](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshobserver.gettriangleindices#Windows_Perception_People_HandMeshObserver_GetTriangleIndices_System_UInt16___).</span><span class="sxs-lookup"><span data-stu-id="4f394-286">Once available, you can ask the HandMeshObserver object for the triangle index buffer by calling [GetTriangleIndices](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshobserver.gettriangleindices#Windows_Perception_People_HandMeshObserver_GetTriangleIndices_System_UInt16___).</span></span>  <span data-ttu-id="4f394-287">Índices não são alterados quadro por quadro, para que você possa obtê-los uma vez e armazenam em cache para o tempo de vida da fonte de.</span><span class="sxs-lookup"><span data-stu-id="4f394-287">Indices don't change frame over frame, so you can get those once and cache them for the lifetime of the source.</span></span>  <span data-ttu-id="4f394-288">Índices são fornecidos no sentido horário para giro.</span><span class="sxs-lookup"><span data-stu-id="4f394-288">Indices are provided in clockwise winding order.</span></span>

<span data-ttu-id="4f394-289">O código a seguir gira um std:: thread desanexado para criar o observador de malha e extrai o buffer de índices depois que o observador de malha está disponível.</span><span class="sxs-lookup"><span data-stu-id="4f394-289">The following code spins up a detached std::thread to create the mesh observer and extracts the index buffer once the mesh observer is available.</span></span>  <span data-ttu-id="4f394-290">Ele inicia de uma variável chamada *currentState*, que é uma instância do [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate) que representa uma mão controlada.</span><span class="sxs-lookup"><span data-stu-id="4f394-290">It starts from a variable called *currentState*, which is an instance of [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate) representing a tracked hand.</span></span>

```cpp
using namespace Windows::Perception::People;

std::thread createObserverThread([this, currentState]()
{
    HandMeshObserver newHandMeshObserver = currentState.Source().TryCreateHandMeshObserverAsync().get();
    if (newHandMeshObserver)
    {
        unsigned indexCount = newHandMeshObserver.TriangleIndexCount();
        vector<unsigned short> indices(indexCount);
        newHandMeshObserver.GetTriangleIndices(indices);

        // Save the indices and handMeshObserver for later use - and use a mutex to synchronize access if needed!
     }
});
createObserverThread.detach();
```
<span data-ttu-id="4f394-291">Iniciar um thread desanexado é apenas uma opção para lidar com chamadas assíncronas.</span><span class="sxs-lookup"><span data-stu-id="4f394-291">Starting a detached thread is just one option for handling async calls.</span></span>  <span data-ttu-id="4f394-292">Como alternativa, você pode usar o novo [co_await](https://docs.microsoft.com/en-us/windows/uwp/cpp-and-winrt-apis/concurrency) funcionalidade com suporte de C++/WinRT.</span><span class="sxs-lookup"><span data-stu-id="4f394-292">Alternatively, you could use the new [co_await](https://docs.microsoft.com/en-us/windows/uwp/cpp-and-winrt-apis/concurrency) functionality supported by C++/WinRT.</span></span>

<span data-ttu-id="4f394-293">Depois que um objeto HandMeshObserver, deverá mantê-lo durante o tempo que seu SpatialInteractionSource correspondente está ativa.</span><span class="sxs-lookup"><span data-stu-id="4f394-293">Once you have a HandMeshObserver object, you should hold onto it for the duration that its corresponding SpatialInteractionSource is active.</span></span>  <span data-ttu-id="4f394-294">Em seguida, cada quadro, você poderá pedir para o buffer de vértice mais recente que representa a mão chamando [GetVertexStateForPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshobserver.getvertexstateforpose) e passar em um [HandPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handpose) instância que representa a pose que deseja que os vértices para.</span><span class="sxs-lookup"><span data-stu-id="4f394-294">Then each frame, you can ask it for the latest vertex buffer that represents the hand by calling [GetVertexStateForPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshobserver.getvertexstateforpose) and passing in a [HandPose](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handpose) instance that represents the pose that you want vertices for.</span></span>  <span data-ttu-id="4f394-295">Cada vértice no buffer tem uma posição e um normal.</span><span class="sxs-lookup"><span data-stu-id="4f394-295">Each vertex in the buffer has a position and a normal.</span></span>  <span data-ttu-id="4f394-296">Aqui está um exemplo de como obter o conjunto atual de vértices para uma malha de mão.</span><span class="sxs-lookup"><span data-stu-id="4f394-296">Here's an example of how to get the current set of vertices for a hand mesh.</span></span>  <span data-ttu-id="4f394-297">Como antes, o *currentState* variável representa uma instância do [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate).</span><span class="sxs-lookup"><span data-stu-id="4f394-297">Just as before, the *currentState* variable represents an instance of [SpatialInteractionSourceState](https://docs.microsoft.com/en-us/uwp/api/windows.ui.input.spatial.spatialinteractionsourcestate).</span></span>

```cpp
using namespace winrt::Windows::Perception::People;

auto handPose = currentState.TryGetHandPose();
if (handPose)
{
    std::vector<HandMeshVertex> vertices(handMeshObserver.VertexCount());
    auto vertexState = handMeshObserver.GetVertexStateForPose(handPose);
    vertexState.GetVertices(vertices);

    auto meshTransform = vertexState.CoordinateSystem().TryGetTransformTo(desiredCoordinateSystem);
    if (meshTransform != nullptr)
    {
        // Do something with the vertices and mesh transform, along with the indices that you saved earlier
    }
}
```

<span data-ttu-id="4f394-298">Em contraste com junções de esqueleto, a API de malha de mão não permitem que você especifique um sistema de coordenadas para os vértices.</span><span class="sxs-lookup"><span data-stu-id="4f394-298">In contrast to skeleton joints, the hand mesh API does not allow you to specify a coordinate system for the vertices.</span></span>  <span data-ttu-id="4f394-299">Em vez disso, o [HandMeshVertexState](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshvertexstate) Especifica que os vértices são fornecidos no sistema de coordenadas.</span><span class="sxs-lookup"><span data-stu-id="4f394-299">Instead, the [HandMeshVertexState](https://docs.microsoft.com/en-us/uwp/api/windows.perception.people.handmeshvertexstate) specifies the coordinate system that the vertices are provided in.</span></span>  <span data-ttu-id="4f394-300">Em seguida, você pode obter uma transformação de malha chamando [TryGetTransformTo](https://docs.microsoft.com/en-us/uwp/api/windows.perception.spatial.spatialcoordinatesystem.trygettransformto#Windows_Perception_Spatial_SpatialCoordinateSystem_TryGetTransformTo_Windows_Perception_Spatial_SpatialCoordinateSystem_) e especifica seu sistema de coordenadas desejado.</span><span class="sxs-lookup"><span data-stu-id="4f394-300">You can then get a mesh transform by calling [TryGetTransformTo](https://docs.microsoft.com/en-us/uwp/api/windows.perception.spatial.spatialcoordinatesystem.trygettransformto#Windows_Perception_Spatial_SpatialCoordinateSystem_TryGetTransformTo_Windows_Perception_Spatial_SpatialCoordinateSystem_) and specifying your desired coordinate system.</span></span>  <span data-ttu-id="4f394-301">Você precisará usar essa transformação malha sempre que trabalhar com os vértices.</span><span class="sxs-lookup"><span data-stu-id="4f394-301">You'll need to use this mesh transform whenever you work with the vertices.</span></span>  <span data-ttu-id="4f394-302">Essa abordagem reduz a sobrecarga de CPU, especialmente se você estiver usando a malha apenas para fins de renderização.</span><span class="sxs-lookup"><span data-stu-id="4f394-302">This approach reduces CPU overhead, especially if you are only using the mesh for rendering purposes.</span></span>

## <a name="gaze-and-commit-composite-gestures"></a><span data-ttu-id="4f394-303">Mantenha o foco e confirmar gestos de composição</span><span class="sxs-lookup"><span data-stu-id="4f394-303">Gaze and Commit composite gestures</span></span>
<span data-ttu-id="4f394-304">Para aplicativos que usam o modelo de entrada de olhar e confirmação, particularmente em HoloLens (Ger primeiro), a API de entrada espacial fornece um recurso opcional [SpatialGestureRecognizer](https://msdn.microsoft.com/library/windows/apps/windows.ui.input.spatial.spatialgesturerecognizer.aspx) que pode ser usado para habilitar gestos compostos criados na parte superior das 'select' eventos.</span><span class="sxs-lookup"><span data-stu-id="4f394-304">For applications using the gaze-and-commit input model, particularly on HoloLens (first gen), the Spatial Input API provides an optional [SpatialGestureRecognizer](https://msdn.microsoft.com/library/windows/apps/windows.ui.input.spatial.spatialgesturerecognizer.aspx) that can be used to to enable composite gestures built on top of the 'select' event.</span></span>  <span data-ttu-id="4f394-305">Ao roteamentos interações do SpatialInteractionManager para SpatialGestureRecognizer de um holograma, aplicativos podem detectar eventos de toque, espera, manipulação e navegação uniformemente em mãos, voz e dispositivos de entrada espaciais, sem a necessidade que tratar pressionamentos de e libera manualmente.</span><span class="sxs-lookup"><span data-stu-id="4f394-305">By routing interactions from the SpatialInteractionManager to a hologram's SpatialGestureRecognizer, apps can detect Tap, Hold, Manipulation, and Navigation events uniformly across hands, voice, and spatial input devices, without having to handle presses and releases manually.</span></span>

<span data-ttu-id="4f394-306">SpatialGestureRecognizer executa somente a Desambiguidade mínimo entre o conjunto de gestos de que você solicitar.</span><span class="sxs-lookup"><span data-stu-id="4f394-306">SpatialGestureRecognizer performs only the minimal disambiguation between the set of gestures that you request.</span></span> <span data-ttu-id="4f394-307">Por exemplo, se você solicitar apenas toque, o usuário pode pressionada seu dedo, desde que eles gostam e um toque ainda ocorrerá.</span><span class="sxs-lookup"><span data-stu-id="4f394-307">For example, if you request just Tap, the user may hold their finger down as long as they like and a Tap will still occur.</span></span> <span data-ttu-id="4f394-308">Se você solicitar o toque e mantenha, após cerca de um segundo de mantendo seu dedo, o gesto promoverá a uma isenção e um toque não ocorrerão mais.</span><span class="sxs-lookup"><span data-stu-id="4f394-308">If you request both Tap and Hold, after about a second of holding down their finger, the gesture will promote to a Hold and a Tap will no longer occur.</span></span>

<span data-ttu-id="4f394-309">Para usar SpatialGestureRecognizer, lidar com o SpatialInteractionManager [InteractionDetected](https://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialInteractionManager.InteractionDetected) eventos e captura o SpatialPointerPose exposto lá.</span><span class="sxs-lookup"><span data-stu-id="4f394-309">To use SpatialGestureRecognizer, handle the SpatialInteractionManager's [InteractionDetected](https://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialInteractionManager.InteractionDetected) event and grab the SpatialPointerPose exposed there.</span></span> <span data-ttu-id="4f394-310">Use ray de olhar principal do usuário dessa pose para ter interseção com as hologramas e superfície malhas no ambiente do usuário, para determinar o que o usuário pretende interagir com.</span><span class="sxs-lookup"><span data-stu-id="4f394-310">Use the user's head gaze ray from this pose to intersect with the holograms and surface meshes in the user's surroundings, in order to determine what the user is intending to interact with.</span></span> <span data-ttu-id="4f394-311">Em seguida, encaminhar o SpatialInteraction nos argumentos de evento para SpatialGestureRecognizer do holograma de destino, usando seus [CaptureInteraction](http://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialGestureRecognizer.CaptureInteraction) método.</span><span class="sxs-lookup"><span data-stu-id="4f394-311">Then, route the SpatialInteraction in the event arguments to the target hologram's SpatialGestureRecognizer, using its [CaptureInteraction](http://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialGestureRecognizer.CaptureInteraction) method.</span></span> <span data-ttu-id="4f394-312">Isso inicia a interpretação de interação de acordo com o [SpatialGestureSettings](https://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialGestureSettings) definir esse reconhecedor no momento da criação - ou pelo [TrySetGestureSettings](http://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialGestureRecognizer.TrySetGestureSettings).</span><span class="sxs-lookup"><span data-stu-id="4f394-312">This starts interpreting that interaction according to the [SpatialGestureSettings](https://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialGestureSettings) set on that recognizer at creation time - or by [TrySetGestureSettings](http://msdn.microsoft.com/library/windows/apps/xaml/Windows.UI.Input.Spatial.SpatialGestureRecognizer.TrySetGestureSettings).</span></span>

<span data-ttu-id="4f394-313">No HoloLens (Ger primeiro), as interações e gestos geralmente devem derivar seu direcionamento de olhar de principal do usuário, em vez de tentar renderizar ou interagir diretamente no local da mão.</span><span class="sxs-lookup"><span data-stu-id="4f394-313">On HoloLens (first gen), interactions and gestures should generally derive their targeting from the user's head gaze, rather than trying to render or interact at the hand's location directly.</span></span> <span data-ttu-id="4f394-314">Após o início de uma interação relativos movimentos da mão podem ser usados para controlar o gesto, assim como acontece com o gesto de manipulação ou navegação.</span><span class="sxs-lookup"><span data-stu-id="4f394-314">Once an interaction has started, relative motions of the hand may be used to control the gesture, as with the Manipulation or Navigation gesture.</span></span>

## <a name="see-also"></a><span data-ttu-id="4f394-315">Consulte também</span><span class="sxs-lookup"><span data-stu-id="4f394-315">See also</span></span>
* [<span data-ttu-id="4f394-316">Cabeçalho e olho olhar no DirectX</span><span class="sxs-lookup"><span data-stu-id="4f394-316">Head and eye gaze in DirectX</span></span>](gaze-in-directx.md)
* [<span data-ttu-id="4f394-317">Modelo de entrada de manipulação direta</span><span class="sxs-lookup"><span data-stu-id="4f394-317">Direct manipulation input model</span></span>](direct-manipulation.md)
* [<span data-ttu-id="4f394-318">Modelo de entrada de ponto-e-confirmação</span><span class="sxs-lookup"><span data-stu-id="4f394-318">Point-and-commit input model</span></span>](point-and-commit.md)
* [<span data-ttu-id="4f394-319">Mantenha o foco e confirmar o modelo de entrada</span><span class="sxs-lookup"><span data-stu-id="4f394-319">Gaze and commit input model</span></span>](gaze-and-commit.md)
* [<span data-ttu-id="4f394-320">Controladores de movimentos</span><span class="sxs-lookup"><span data-stu-id="4f394-320">Motion controllers</span></span>](motion-controllers.md)
