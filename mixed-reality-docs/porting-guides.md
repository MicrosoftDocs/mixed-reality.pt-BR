---
title: Guias de portabilidade
description: Uma explicação passo a passo explicando como portar um aplicativo de imersão existente para a realidade mista do Windows.
author: JBrentJ
ms.author: alexturn
ms.date: 07/07/2020
ms.topic: article
keywords: porta, portabilidade, Unity, middleware, mecanismo, UWP
ms.openlocfilehash: 5cf66ce857806ab6fcf8c94b94c7a9a540339b97
ms.sourcegitcommit: fef42e2908e49822f2d13b05d2f9260bf0d72158
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/07/2020
ms.locfileid: "86061149"
---
# <a name="porting-guides"></a><span data-ttu-id="6e7b1-104">Guias de portabilidade</span><span class="sxs-lookup"><span data-stu-id="6e7b1-104">Porting guides</span></span>

## <a name="overview"></a><span data-ttu-id="6e7b1-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="6e7b1-105">Overview</span></span>

<span data-ttu-id="6e7b1-106">O Windows 10 inclui suporte direto para headsets de imersão e Holographic.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-106">Windows 10 includes direct support for immersive and holographic headsets.</span></span> <span data-ttu-id="6e7b1-107">Se você tiver criado conteúdo para outros dispositivos, como o Oculus Rift ou o HTC Naopak, eles têm dependências em bibliotecas que existem acima da API de plataforma do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-107">If you've built content for other devices, such as the Oculus Rift or HTC Vive, these have dependencies on libraries that exist above the operating system's platform API.</span></span> <span data-ttu-id="6e7b1-108">Trazer conteúdo existente para a realidade mista do Windows envolve redirecionar o uso desses outros SDKs para as APIs do Windows.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-108">Bringing existing content over to Windows Mixed Reality involves retargeting usage of these other SDKs to the Windows APIs.</span></span> <span data-ttu-id="6e7b1-109">As [APIs da plataforma Windows para realidade misturada](https://docs.microsoft.com/uwp/api/Windows.Perception) funcionam com o modelo de aplicativo do Windows x86 e do plataforma universal do Windows (UWP).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-109">The [Windows platform APIs for mixed reality](https://docs.microsoft.com/uwp/api/Windows.Perception) work with both the Windows x86 and the Universal Windows Platform (UWP) app model.</span></span> <span data-ttu-id="6e7b1-110">Se seu aplicativo ainda não estiver compilado para UWP, mudar para UWP fará parte da experiência de portagem.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-110">If your app isn't already built for UWP, changing over to UWP will be part of the porting experience.</span></span>

## <a name="porting-overview"></a><span data-ttu-id="6e7b1-111">Visão geral de portabilidade</span><span class="sxs-lookup"><span data-stu-id="6e7b1-111">Porting overview</span></span>

<span data-ttu-id="6e7b1-112">Em um alto nível, as etapas a seguir estão envolvidas na portabilidade de conteúdo existente:</span><span class="sxs-lookup"><span data-stu-id="6e7b1-112">At a high level, the following steps are involved in porting existing content:</span></span>
1. <span data-ttu-id="6e7b1-113">**Verifique se o PC está executando a atualização dos criadores de outono do Windows 10 (16299).**</span><span class="sxs-lookup"><span data-stu-id="6e7b1-113">**Make sure your PC is running the Windows 10 Fall Creators Update (16299).**</span></span> <span data-ttu-id="6e7b1-114">Não é mais recomendável receber compilações prévias do anel do insider skip ahead, pois essas compilações não serão as mais estáveis para o desenvolvimento de realidade misturada.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-114">We no longer recommend receiving preview builds from the Insider Skip Ahead ring, as those builds won't be the most stable for mixed reality development.</span></span>
2. <span data-ttu-id="6e7b1-115">**Atualize para a versão mais recente do seu mecanismo de gráficos ou jogos.**</span><span class="sxs-lookup"><span data-stu-id="6e7b1-115">**Upgrade to the latest version of your graphics or game engine.**</span></span> <span data-ttu-id="6e7b1-116">Os mecanismos de jogo precisarão dar suporte à versão 10.0.15063.0 do SDK do Windows 10 (lançado em abril de 2017) ou superior.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-116">Game engines will need to support the Windows 10 SDK version 10.0.15063.0 (released in April 2017) or higher.</span></span>
3. <span data-ttu-id="6e7b1-117">**Atualize qualquer middleware, plug-ins ou componentes.**</span><span class="sxs-lookup"><span data-stu-id="6e7b1-117">**Upgrade any middleware, plug-ins, or components.**</span></span> <span data-ttu-id="6e7b1-118">Se seu aplicativo contiver qualquer componente, é uma boa ideia atualizar para a versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-118">If your app contains any components, it's a good idea to upgrade to the latest version.</span></span> <span data-ttu-id="6e7b1-119">As versões mais recentes dos plug-ins mais comuns têm suporte para UWP.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-119">Newer versions of most common plug-ins have support for UWP.</span></span>
4. <span data-ttu-id="6e7b1-120">**Remova dependências em SDKs duplicados**.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-120">**Remove dependencies on duplicate SDKs**.</span></span> <span data-ttu-id="6e7b1-121">Dependendo de qual dispositivo o seu conteúdo foi direcionado, você precisará remover ou compilar condicionalmente esse SDK (por exemplo, SteamVR) para que você possa direcionar as APIs do Windows em vez disso.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-121">Depending on which device your content was targeting, you'll need to remove or conditionally compile out that SDK (for example, SteamVR) so you can target the Windows APIs instead.</span></span>
5. <span data-ttu-id="6e7b1-122">**Trabalhe com problemas de compilação.**</span><span class="sxs-lookup"><span data-stu-id="6e7b1-122">**Work through build issues.**</span></span> <span data-ttu-id="6e7b1-123">Neste ponto, o exercício de portabilidade é específico para seu aplicativo, seu mecanismo e as dependências de componente que você tem.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-123">At this point, the porting exercise is specific to your app, your engine, and the component dependencies you have.</span></span>

## <a name="common-porting-steps"></a><span data-ttu-id="6e7b1-124">Etapas de portabilidade comuns</span><span class="sxs-lookup"><span data-stu-id="6e7b1-124">Common porting steps</span></span>

### <a name="common-step-1-make-sure-you-have-the-right-development-hardware"></a><span data-ttu-id="6e7b1-125">Etapa comum 1: Verifique se você tem o hardware de desenvolvimento correto</span><span class="sxs-lookup"><span data-stu-id="6e7b1-125">Common step 1: Make sure you have the right development hardware</span></span>

<span data-ttu-id="6e7b1-126">A página [instalar as ferramentas](install-the-tools.md#for-immersive-vr-headset-development) lista o hardware de desenvolvimento recomendado.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-126">The [install the tools](install-the-tools.md#for-immersive-vr-headset-development) page lists the recommended development hardware.</span></span>

### <a name="common-step-2-upgrade-to-the-latest-flight-of-windows-10"></a><span data-ttu-id="6e7b1-127">Etapa comum 2: atualizar para o vôo mais recente do Windows 10</span><span class="sxs-lookup"><span data-stu-id="6e7b1-127">Common step 2: Upgrade to the latest flight of Windows 10</span></span>

<span data-ttu-id="6e7b1-128">A plataforma Windows Mixed Reality ainda está em desenvolvimento ativo.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-128">The Windows Mixed Reality platform is still under active development.</span></span> <span data-ttu-id="6e7b1-129">Recomendamos que você [ingresse no programa Windows Insider](https://insider.windows.com/) para acessar o vôo "Windows Insider Fast".</span><span class="sxs-lookup"><span data-stu-id="6e7b1-129">We recommend [joining the Windows Insider Program](https://insider.windows.com/) to access the "Windows Insider Fast" flight.</span></span>
1. <span data-ttu-id="6e7b1-130">Instalar a [atualização do Windows 10 para criadores](https://www.microsoft.com/software-download/windows10)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-130">Install the [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span></span>
2. <span data-ttu-id="6e7b1-131">[Junte](https://insider.windows.com/) -se ao programa Windows Insider.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-131">[Join](https://insider.windows.com/) the Windows Insider Program.</span></span>
3. <span data-ttu-id="6e7b1-132">Habilitar [modo de desenvolvedor](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-132">Enable [Developer Mode](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span></span>
4. <span data-ttu-id="6e7b1-133">Alterne para o [Fast do Windows Insider](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) por meio **das configurações > seção atualização & segurança**</span><span class="sxs-lookup"><span data-stu-id="6e7b1-133">Switch to the [Windows Insider Fast flights](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) through **Settings > Update & Security Section**</span></span>

### <a name="common-step-3-upgrade-to-the-most-recent-build-of-visual-studio-uwp-only"></a><span data-ttu-id="6e7b1-134">Etapa comum 3: atualizar para a compilação mais recente do Visual Studio (somente UWP)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-134">Common step 3: Upgrade to the most recent build of Visual Studio (UWP only)</span></span>
* <span data-ttu-id="6e7b1-135">Consulte [instalar a página de ferramentas](install-the-tools.md#installation-checklist) no Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="6e7b1-135">See [Install the tools](install-the-tools.md#installation-checklist) page under Visual Studio 2019</span></span>

### <a name="common-step-4-be-ready-for-the-store-uwp-only"></a><span data-ttu-id="6e7b1-136">Etapa comum 4: esteja pronto para a loja (somente UWP)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-136">Common step 4: Be Ready for The Store (UWP only)</span></span>
* <span data-ttu-id="6e7b1-137">Use o [Kit de certificação de aplicativos para Windows](https://developer.microsoft.com/windows/develop/app-certification-kit) (também conhecido como wack) antes e com frequência!</span><span class="sxs-lookup"><span data-stu-id="6e7b1-137">Use [Windows App Certification Kit](https://developer.microsoft.com/windows/develop/app-certification-kit) (also known as WACK) early and often!</span></span>
* <span data-ttu-id="6e7b1-138">Usar o [analisador de portabilidade](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([Download](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span><span class="sxs-lookup"><span data-stu-id="6e7b1-138">Use [Portability Analyzer](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([Download](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span></span>

### <a name="common-step-5-choose-the-correct-adapter"></a><span data-ttu-id="6e7b1-139">Etapa comum 5: escolha o adaptador correto</span><span class="sxs-lookup"><span data-stu-id="6e7b1-139">Common step 5: Choose the correct Adapter</span></span>
* <span data-ttu-id="6e7b1-140">Em sistemas como notebooks com duas GPUs, [direcione o adaptador correto](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-140">In systems like notebooks with two GPUs, [target the correct adapter](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span></span> <span data-ttu-id="6e7b1-141">Isso se aplica aos aplicativos do Unity e do DirectX nativo, em que um ID3D11Device é criado, explícita ou implicitamente (Media Foundation), para sua funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-141">This applies to Unity and native DirectX apps where a ID3D11Device is created, either explicitly or implicitly (Media Foundation), for its functionality.</span></span>

## <a name="unity-porting-guidance"></a><span data-ttu-id="6e7b1-142">Diretrizes de portabilidade do Unity</span><span class="sxs-lookup"><span data-stu-id="6e7b1-142">Unity porting guidance</span></span>

### <a name="unity-step-1-follow-the-common-porting-steps"></a><span data-ttu-id="6e7b1-143">Etapa 1 do Unity: siga as etapas de portabilidade comuns</span><span class="sxs-lookup"><span data-stu-id="6e7b1-143">Unity step 1: Follow the common porting steps</span></span>

<span data-ttu-id="6e7b1-144">Siga todas as etapas comuns.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-144">Follow all of the common steps.</span></span> <span data-ttu-id="6e7b1-145">Na etapa #3, selecione o **desenvolvimento de jogos com** carga de trabalho do Unity.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-145">When in step #3, select the **Game Development with Unity** workload.</span></span> <span data-ttu-id="6e7b1-146">Você pode anular a seleção do componente opcional do editor do Unity, pois você instalará uma versão mais recente do Unity nas instruções abaixo.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-146">You may deselect the Unity Editor optional component since you'll be installing a newer version of Unity from the instructions below.</span></span>

### <a name="unity-step-2-upgrade-to-the-latest-public-build-of-unity-with-windows-mr-support"></a><span data-ttu-id="6e7b1-147">Etapa 2 do Unity: atualizar para a compilação pública mais recente do Unity com o suporte do Windows Sr</span><span class="sxs-lookup"><span data-stu-id="6e7b1-147">Unity step 2: Upgrade to the latest public build of Unity with Windows MR Support</span></span>
1. <span data-ttu-id="6e7b1-148">Baixe a [compilação pública mais recente recomendada do Unity](install-the-tools.md) com suporte misto à realidade.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-148">Download the latest [recommended public build of Unity](install-the-tools.md) with mixed reality support.</span></span>
2. <span data-ttu-id="6e7b1-149">Salve uma cópia do seu projeto antes de começar</span><span class="sxs-lookup"><span data-stu-id="6e7b1-149">Save a copy of your project before you get started</span></span>
3. <span data-ttu-id="6e7b1-150">Examine a [documentação](https://docs.unity3d.com/Manual/UpgradeGuides.html) disponível no Unity sobre portabilidade.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-150">Review the [documentation](https://docs.unity3d.com/Manual/UpgradeGuides.html) available from Unity on porting.</span></span>
4. <span data-ttu-id="6e7b1-151">Siga as [instruções](https://docs.unity3d.com/Manual/APIUpdater.html) no site do Unity para usar o atualizador automático de API</span><span class="sxs-lookup"><span data-stu-id="6e7b1-151">Follow the [instructions](https://docs.unity3d.com/Manual/APIUpdater.html) on Unity's site for using their automatic API updater</span></span>
5. <span data-ttu-id="6e7b1-152">Verifique e veja se há alterações adicionais que você precisa fazer para que seu projeto seja executado e trabalhe com quaisquer erros e avisos restantes.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-152">Check and see if there are additional changes that you need to make to get your project running, and work through any remaining errors and warnings.</span></span> 

> [!Note] 
> <span data-ttu-id="6e7b1-153">Se você tiver um middleware do qual depende, verifique se está usando a versão mais recente (mais detalhes na etapa 3 abaixo).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-153">If you have middleware that you depend on, check that you're using the latest release (more details in step 3 below).</span></span>

### <a name="unity-step-3-upgrade-your-middleware-to-the-latest-versions"></a><span data-ttu-id="6e7b1-154">Etapa 3 do Unity: atualizar seu middleware para as versões mais recentes</span><span class="sxs-lookup"><span data-stu-id="6e7b1-154">Unity step 3: Upgrade your middleware to the latest versions</span></span>

<span data-ttu-id="6e7b1-155">Com qualquer atualização do Unity, há uma boa chance de que você precise atualizar um ou mais pacotes de middleware dos quais seu jogo ou aplicativo depende.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-155">With any Unity update, there's a good chance that you'll need to update one or more middleware packages that your game or application depends on.</span></span> <span data-ttu-id="6e7b1-156">Além disso, estar atualizado com o middleware mais recente aumenta a probabilidade de sucesso ao longo do restante do processo de portabilidade.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-156">Additionally, being up to date with the latest middleware increases the likelihood of success throughout the rest of the porting process.</span></span> <span data-ttu-id="6e7b1-157">Muitos pacotes de middleware recentemente adicionaram suporte para Plataforma Universal do Windows (UWP) e a atualização para as versões mais recentes permitirá que você aproveite esse trabalho.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-157">Many middleware packages have recently added support for Universal Windows Platform (UWP), and upgrading to the most recent versions will let you leverage that work.</span></span>

### <a name="unity-step-4-target-your-application-to-run-on-universal-windows-platform-uwp"></a><span data-ttu-id="6e7b1-158">Etapa 4 do Unity: direcionar seu aplicativo para ser executado em Plataforma Universal do Windows (UWP)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-158">Unity step 4: Target your application to run on Universal Windows Platform (UWP)</span></span>

<span data-ttu-id="6e7b1-159">Se você estiver direcionando o Windows x86, poderá ignorar esta etapa e continuar na etapa 5.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-159">If you're targeting Windows x86, you can skip this step and continue to step 5.</span></span>

<span data-ttu-id="6e7b1-160">Depois de instalar as ferramentas, você precisará fazer seu aplicativo ser executado como um aplicativo universal do Windows.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-160">After installing the tools, you need to get your app running as a Universal Windows app.</span></span>

* <span data-ttu-id="6e7b1-161">Siga as instruções passo a passo [detalhadas](https://unity3d.com/partners/microsoft/porting-guides) fornecidas pelo Unity.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-161">Follow the [detailed step by step walk through](https://unity3d.com/partners/microsoft/porting-guides) provided by Unity.</span></span> <span data-ttu-id="6e7b1-162">Você deve permanecer na versão mais recente do LTS (qualquer versão do 20xx. 4) para o Windows Sr.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-162">You should stay on the latest LTS release (any 20xx.4 release) for Windows MR.</span></span>
* <span data-ttu-id="6e7b1-163">Para obter mais recursos de desenvolvimento de UWP, confira o [Guia de desenvolvimento de jogos do Windows 10](https://docs.microsoft.com/windows/uwp/gaming/e2e).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-163">For more UWP development resources, take a look at the [Windows 10 game development guide](https://docs.microsoft.com/windows/uwp/gaming/e2e).</span></span>

> [!NOTE]
> <span data-ttu-id="6e7b1-164">O Unity continua a melhorar o suporte a IL2CPP; O IL2CPP torna algumas portas UWP mais fáceis.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-164">Unity continues to improve IL2CPP support; IL2CPP makes some UWP ports easier.</span></span> <span data-ttu-id="6e7b1-165">Se, no momento, você estiver direcionando para o back-end de script do .NET, considere a possibilidade de converter para aproveitar o back-end IL2CPP.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-165">If you are currently targeting the .NET scripting backend, you should consider converting to leverage the IL2CPP backend instead.</span></span>

* <span data-ttu-id="6e7b1-166">Você pode ignorar a "etapa 5 do Unity", pois você está direcionando para UWP em vez de x86.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-166">You can skip "Unity step 5" since you're targeting UWP instead of x86.</span></span>

> [!NOTE] 
> <span data-ttu-id="6e7b1-167">Se seu aplicativo tiver quaisquer dependências de serviços específicos do dispositivo, como a realização de correspondência do fluxo, você precisará desabilitá-los nesta etapa.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-167">If your application has any dependencies on device-specific services, such as match making from Steam, you'll need to disable them at this step.</span></span> <span data-ttu-id="6e7b1-168">Você pode conectar-se aos serviços equivalentes que o Windows fornece posteriormente.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-168">You can hook up to the equivalent services that Windows provides later on.</span></span>

### <a name="unity-step-5-target-your-application-to-run-on-windows-x86"></a><span data-ttu-id="6e7b1-169">Etapa 5 do Unity: direcionar seu aplicativo para ser executado no Windows x86</span><span class="sxs-lookup"><span data-stu-id="6e7b1-169">Unity step 5: Target your application to run on Windows x86</span></span>

<span data-ttu-id="6e7b1-170">De dentro de seu aplicativo de Unity:</span><span class="sxs-lookup"><span data-stu-id="6e7b1-170">From inside your Unity application:</span></span>

* <span data-ttu-id="6e7b1-171">Navegue até arquivo-> configurações de compilação</span><span class="sxs-lookup"><span data-stu-id="6e7b1-171">Navigate to File -> Build Settings</span></span>
* <span data-ttu-id="6e7b1-172">Selecione "PC, Mac, Linux autônomo"</span><span class="sxs-lookup"><span data-stu-id="6e7b1-172">Select "PC, Mac, Linux Standalone"</span></span>
* <span data-ttu-id="6e7b1-173">Definir plataforma de destino como "Windows"</span><span class="sxs-lookup"><span data-stu-id="6e7b1-173">Set target platform to "Windows"</span></span>
* <span data-ttu-id="6e7b1-174">Defina a arquitetura como "x86" selecione "alternar plataforma"</span><span class="sxs-lookup"><span data-stu-id="6e7b1-174">Set architecture to "x86" Select "Switch Platform"</span></span>


### <a name="unity-step-6-setup-your-windows-mixed-reality-hardware"></a><span data-ttu-id="6e7b1-175">Etapa 6 do Unity: configurar seu hardware do Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="6e7b1-175">Unity step 6: Setup your Windows Mixed Reality hardware</span></span>
1. <span data-ttu-id="6e7b1-176">Examinar as etapas na [configuração do headset de imersão](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-176">Review steps in [Immersive headset setup](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span></span>
2. <span data-ttu-id="6e7b1-177">Saiba como [usar o simulador de realidade do Windows Mixed](using-the-windows-mixed-reality-simulator.md) e [navegar na página inicial do Windows Mixed Reality](navigating-the-windows-mixed-reality-home.md)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-177">Learn about [Using the Windows Mixed Reality simulator](using-the-windows-mixed-reality-simulator.md) and [Navigating the Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md)</span></span>

### <a name="unity-step-7-target-your-application-to-run-on-windows-mixed-reality"></a><span data-ttu-id="6e7b1-178">Etapa 7 do Unity: direcionar seu aplicativo para ser executado no Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="6e7b1-178">Unity step 7: Target your application to run on Windows Mixed Reality</span></span>
1. <span data-ttu-id="6e7b1-179">Primeiro, você deve remover ou compilar condicionalmente qualquer outro suporte de biblioteca específico para um determinado SDK do VR.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-179">First, you must remove or conditionally compile out any other library support specific to a particular VR SDK.</span></span> <span data-ttu-id="6e7b1-180">Esses ativos freqüentemente alteram as configurações e propriedades em seu projeto de maneiras incompatíveis com outros SDKs de VR, como a realidade mista do Windows.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-180">Those assets frequently change settings and properties on your project in ways that are incompatible with other VR SDKs, such as Windows Mixed Reality.</span></span>
    * <span data-ttu-id="6e7b1-181">Por exemplo, se o seu projeto fizer referência ao SDK do SteamVR, você precisará atualizar seu projeto para excluir essas chamadas de API de script e pré-fabricados ao exportar para o destino de compilação da Windows Store.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-181">For example, if your project references the SteamVR SDK, you'll need to update your project to exclude those prefabs and script API calls when exporting for the Windows Store build target.</span></span>
    * <span data-ttu-id="6e7b1-182">Etapas específicas para excluir condicionalmente outros SDKs de VR serão disponibilizadas em breve.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-182">Specific steps for conditionally excluding other VR SDKs are coming soon.</span></span>
2. <span data-ttu-id="6e7b1-183">Em seu projeto do Unity, [direcione o SDK do Windows 10](holograms-100.md#target-windows-10-sdk)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-183">In your Unity project, [target the Windows 10 SDK](holograms-100.md#target-windows-10-sdk)</span></span>
3. <span data-ttu-id="6e7b1-184">Para cada cena, [Configure a câmera](holograms-100.md#chapter-2---setup-the-camera)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-184">For each scene, [setup the camera](holograms-100.md#chapter-2---setup-the-camera)</span></span>

### <a name="unity-step-8-use-the-stage-to-place-content-on-the-floor"></a><span data-ttu-id="6e7b1-185">Etapa 8 do Unity: usar o estágio para posicionar o conteúdo no chão</span><span class="sxs-lookup"><span data-stu-id="6e7b1-185">Unity step 8: Use the stage to place content on the floor</span></span>

<span data-ttu-id="6e7b1-186">Você pode criar experiências de realidade misturadas em uma ampla variedade de [escalas de experiência](coordinate-systems.md).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-186">You can build Mixed Reality experiences across a wide range of [experience scales](coordinate-systems.md).</span></span>

<span data-ttu-id="6e7b1-187">Se você estiver portando uma **experiência de escala em**posição, deverá garantir que o Unity esteja definido para o tipo de espaço de rastreamento **estacionário** :</span><span class="sxs-lookup"><span data-stu-id="6e7b1-187">If you're porting a **seated-scale experience**, you must ensure Unity is set to the **Stationary** tracking space type:</span></span>

```cs
XRDevice.SetTrackingSpaceType(TrackingSpaceType.Stationary);
```

<span data-ttu-id="6e7b1-188">Este código acima define o sistema de coordenadas mundiais do Unity para acompanhar o [quadro de referência estacionário](coordinate-systems.md#spatial-coordinate-systems).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-188">This above code sets Unity's world coordinate system to track the [stationary frame of reference](coordinate-systems.md#spatial-coordinate-systems).</span></span> <span data-ttu-id="6e7b1-189">No modo de rastreamento estacionário, o conteúdo colocado no editor apenas na frente do local padrão da câmera (Forward is-Z) aparece na frente do usuário quando o aplicativo é iniciado.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-189">In the Stationary tracking mode, content placed in the editor just in front of the camera's default location (forward is -Z) appears in front of the user when the app launches.</span></span> <span data-ttu-id="6e7b1-190">Para recentralizar a origem colocada do usuário, você pode chamar o XR da Unity [. Método InputTracking. recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) .</span><span class="sxs-lookup"><span data-stu-id="6e7b1-190">To recenter the user's seated origin, you can call Unity's [XR.InputTracking.Recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) method.</span></span>

<span data-ttu-id="6e7b1-191">Se você estiver portando uma experiência de **escala em pé** ou uma **experiência em escala de sala**, colocará o conteúdo em relação ao chão.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-191">If you're porting a **standing-scale experience** or **room-scale experience**, you'll be placing content relative to the floor.</span></span> <span data-ttu-id="6e7b1-192">Você se deparar com o andar do usuário usando o **[estágio espacial](coordinate-systems.md#spatial-coordinate-systems)**, que representa a origem definida do nível de chão do usuário e o limite de sala opcional, configurado durante a primeira execução.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-192">You reason about the user's floor using the **[spatial stage](coordinate-systems.md#spatial-coordinate-systems)**, which represents the user's defined floor-level origin and optional room boundary, set up during first run.</span></span> <span data-ttu-id="6e7b1-193">Para essas experiências, você deve garantir que o Unity esteja definido como o tipo de espaço de rastreamento **RoomScale** .</span><span class="sxs-lookup"><span data-stu-id="6e7b1-193">For these experiences, you must ensure Unity is set to the **RoomScale** tracking space type.</span></span> <span data-ttu-id="6e7b1-194">Embora RoomScale seja o padrão, você desejará defini-lo explicitamente e garantir que você se torne verdadeiro, para detectar situações em que o usuário moveu o computador para fora da sala que eles calibraram:</span><span class="sxs-lookup"><span data-stu-id="6e7b1-194">While RoomScale is the default, you'll want to set it explicitly and ensure you get back true, to catch situations where the user has moved their computer away from the room they calibrated:</span></span>

```cs
if (XRDevice.SetTrackingSpaceType(TrackingSpaceType.RoomScale))
{
    // RoomScale mode was set successfully.  App can now assume that y=0 in Unity world coordinate represents the floor.
}
else
{
    // RoomScale mode was not set successfully.  App cannot make assumptions about where the floor plane is.
}
```

<span data-ttu-id="6e7b1-195">Depois que o aplicativo definir o tipo de espaço de acompanhamento RoomScale com êxito, o conteúdo colocado no plano y = 0 aparecerá no chão.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-195">Once your app successfully sets the RoomScale tracking space type, content placed on the y=0 plane will appear on the floor.</span></span> <span data-ttu-id="6e7b1-196">A origem em (0, 0) será o local específico no andar em que o usuário se baseou durante a configuração da sala, com-Z representando a direção de encaminhamento que ele estava enfrentando durante a instalação.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-196">The origin at (0, 0, 0) will be the specific place on the floor where the user stood during room setup, with -Z representing the forward direction they were facing during setup.</span></span>

<span data-ttu-id="6e7b1-197">No código de script, você pode chamar o método TryGetGeometry em você é o tipo UnityEngine. experimental. XR. limite para obter um polígono de limite, especificando um tipo de limite de TrackedArea.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-197">In script code, you can then call the TryGetGeometry method on you're the UnityEngine.Experimental.XR.Boundary type to get a boundary polygon, specifying a boundary type of TrackedArea.</span></span> <span data-ttu-id="6e7b1-198">Se o usuário definiu um limite (você obtém uma lista de vértices), é seguro fornecer uma **experiência de escala de sala** ao usuário, na qual eles podem percorrer a cena que você criar.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-198">If the user defined a boundary (you get back a list of vertices), it's safe to deliver a **room-scale experience** to the user, where they can walk around the scene you create.</span></span>

<span data-ttu-id="6e7b1-199">O sistema irá renderizar automaticamente o limite quando o usuário o aproximar.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-199">The system will automatically render the boundary when the user approaches it.</span></span> <span data-ttu-id="6e7b1-200">Seu aplicativo não precisa usar este polígono para renderizar o limite em si.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-200">Your app does not need to use this polygon to render the boundary itself.</span></span>

<span data-ttu-id="6e7b1-201">Para obter mais informações, consulte a página [coordenar sistemas no Unity](coordinate-systems-in-unity.md) .</span><span class="sxs-lookup"><span data-stu-id="6e7b1-201">For more information, see the [Coordinate systems in Unity](coordinate-systems-in-unity.md) page.</span></span>

<span data-ttu-id="6e7b1-202">Alguns aplicativos usam um retângulo para restringir sua interação.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-202">Some applications use a rectangle to constrain their interaction.</span></span> <span data-ttu-id="6e7b1-203">A recuperação do maior retângulo inscrito não tem suporte direto na API ou no Unity da UWP.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-203">Retrieving the largest inscribed rectangle is not directly supported in the UWP API or Unity.</span></span> <span data-ttu-id="6e7b1-204">O código de exemplo vinculado a abaixo mostra como localizar um retângulo dentro dos limites rastreados.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-204">The example code linked to below shows how to find a rectangle within the traced bounds.</span></span> <span data-ttu-id="6e7b1-205">Ele é baseado em heurística, portanto, pode não encontrar a solução ideal, no entanto, os resultados são consistentes com as expectativas.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-205">It's heuristic-based so may not find the optimal solution, however, results are consistent with expectations.</span></span> <span data-ttu-id="6e7b1-206">Os parâmetros no algoritmo podem ser ajustados para encontrar resultados mais precisos no custo do tempo de processamento.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-206">Parameters in the algorithm can be tuned to find more precise results at the cost of processing time.</span></span> <span data-ttu-id="6e7b1-207">O algoritmo está em uma bifurcação do kit de ferramentas da realidade misturada que usa a versão 5,6 Preview MRTP do Unity.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-207">The algorithm is in a fork of the Mixed Reality Toolkit that uses the 5.6 preview MRTP version of Unity.</span></span> <span data-ttu-id="6e7b1-208">Isso não está disponível publicamente.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-208">This isn't publicly available.</span></span> <span data-ttu-id="6e7b1-209">O código deve ser diretamente utilizável em versões 2017,2 e superiores do Unity.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-209">The code should be directly usable in 2017.2 and higher versions of Unity.</span></span> <span data-ttu-id="6e7b1-210">O código será transportado para o MRTK atual em um futuro próximo.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-210">The code will be ported to the current MRTK in the near future.</span></span>

<span data-ttu-id="6e7b1-211">[arquivo zip de código no GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Arquivos importantes:</span><span class="sxs-lookup"><span data-stu-id="6e7b1-211">[zip file of code on GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Important files:</span></span>
* <span data-ttu-id="6e7b1-212">Ativos/HoloToolkit/estágio/scripts/Estágiomanager. cs-exemplo de uso</span><span class="sxs-lookup"><span data-stu-id="6e7b1-212">Assets/HoloToolkit/Stage/Scripts/StageManager.cs - example of usage</span></span>
* <span data-ttu-id="6e7b1-213">Assets/HoloToolkit/Stage/scripts/LargestRectangle. cs-implementação do algoritmo</span><span class="sxs-lookup"><span data-stu-id="6e7b1-213">Assets/HoloToolkit/Stage/Scripts/LargestRectangle.cs - implementation of the algorithm</span></span>
* <span data-ttu-id="6e7b1-214">Assets/HoloToolkit-UnitTests/editor/Stage/LargestRectangleTest. cs – teste trivial do algoritmo</span><span class="sxs-lookup"><span data-stu-id="6e7b1-214">Assets/HoloToolkit-UnitTests/Editor/Stage/LargestRectangleTest.cs - trivial test of the algorithm</span></span>

<span data-ttu-id="6e7b1-215">Exemplo de resultados:</span><span class="sxs-lookup"><span data-stu-id="6e7b1-215">Example of results:</span></span>

![Exemplo de resultados](images/largestrectangle-400px.jpg)

<span data-ttu-id="6e7b1-217">O algoritmo se baseia em um blog por Daniel Smilkov: [retângulo maior em um polígono](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-217">Algorithm is based on a blog by Daniel Smilkov: [Largest rectangle in a polygon](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span></span>

### <a name="unity-step-9-work-through-your-input-model"></a><span data-ttu-id="6e7b1-218">Etapa 9 do Unity: trabalhar com seu modelo de entrada</span><span class="sxs-lookup"><span data-stu-id="6e7b1-218">Unity step 9: Work through your input model</span></span>

<span data-ttu-id="6e7b1-219">Cada jogo ou aplicativo direcionado a um HMD existente terá um conjunto de entradas que ele manipula, tipos de entradas que ele precisa para a experiência e APIs específicas que ele chama para obter essas entradas.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-219">Each game or application targeting an existing HMD will have a set of inputs that it handles, types of inputs that it needs for the experience, and specific APIs that it calls to get those inputs.</span></span> <span data-ttu-id="6e7b1-220">Investimos na tentativa de torná-lo tão simples e direto possível de aproveitar as informações disponíveis no Windows Mixed Reality.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-220">We've invested in trying to make it as simple and straightforward as possible to take advantage of the inputs available in Windows Mixed Reality.</span></span>
1. <span data-ttu-id="6e7b1-221">Leia o **[Guia de porta de entrada do Unity](input-porting-guide-for-unity.md)** para obter detalhes de como a realidade mista do Windows expõe a entrada e como isso é mapeado para o que seu aplicativo pode fazer hoje.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-221">Read through the **[Input porting guide for Unity](input-porting-guide-for-unity.md)** for details of how Windows Mixed Reality exposes input, and how that maps to what your application may do today.</span></span>
2. <span data-ttu-id="6e7b1-222">Escolha se você vai aproveitar a API de entrada Cross-VR-SDK do Unity ou a API de entrada específica do MR.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-222">Choose whether you're going to leverage Unity's cross-VR-SDK input API, or the MR-specific input API.</span></span> <span data-ttu-id="6e7b1-223">As APIs Input. getbutton/Input. getaxis geral são usadas pelos aplicativos do Unity VR hoje para [entrada Oculus](https://docs.unity3d.com/Manual/OculusControllers.html) e [entrada OpenVR](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-223">The general Input.GetButton/Input.GetAxis APIs are used by Unity VR apps today for [Oculus input](https://docs.unity3d.com/Manual/OculusControllers.html) and [OpenVR input](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span></span> <span data-ttu-id="6e7b1-224">Se seus aplicativos já estiverem usando essas APIs para controladores de movimento, esse é o caminho mais fácil: você deve apenas precisar remapear os botões e eixos no Gerenciador de entrada.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-224">If your apps are already using these APIs for motion controllers, this is the easiest path - you should just need to remap buttons and axes in the Input Manager.</span></span>
    * <span data-ttu-id="6e7b1-225">Você pode acessar os dados do controlador de movimento no Unity usando as APIs gerais entre as duas entradas do SDK entre as informações. getbutton/Input. getaxis ou as APIs UnityEngine. XR. WSA. de entrada específicas do Sr.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-225">You can access motion controller data in Unity using either the general cross-VR-SDK Input.GetButton/Input.GetAxis APIs or the MR-specific UnityEngine.XR.WSA.Input APIs.</span></span> <span data-ttu-id="6e7b1-226">(anteriormente no namespace UnityEngine. XR. WSA. Input no Unity 5,6)</span><span class="sxs-lookup"><span data-stu-id="6e7b1-226">(previously in the UnityEngine.XR.WSA.Input namespace in Unity 5.6)</span></span>
    * <span data-ttu-id="6e7b1-227">Consulte o [exemplo no Toolkit](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) que combina controladores de gamepad e de movimento.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-227">See the [example in Toolkit](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) that combines gamepad and motion controllers.</span></span>

### <a name="unity-step-10-performance-testing-and-tuning"></a><span data-ttu-id="6e7b1-228">Etapa 10 do Unity: teste e ajuste de desempenho</span><span class="sxs-lookup"><span data-stu-id="6e7b1-228">Unity step 10: Performance testing and tuning</span></span>

<span data-ttu-id="6e7b1-229">A realidade mista do Windows estará disponível em uma ampla classe de dispositivos, desde PCs de jogos de ponta, até os principais PCs de mercado.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-229">Windows Mixed Reality will be available on a broad class of devices, ranging from high end gaming PCs, down to broad market mainstream PCs.</span></span> <span data-ttu-id="6e7b1-230">Dependendo do mercado que você está direcionando, há uma diferença significativa nos orçamentos de computação e gráficos disponíveis para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-230">Depending on what market you're targeting, there's a significant difference in the available compute and graphics budgets for your application.</span></span> <span data-ttu-id="6e7b1-231">Durante esse exercício de portabilidade, você provavelmente está aproveitando um PC Premium e teve orçamentos de computação e gráficos significativos disponíveis para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-231">During this porting exercise, you're likely leveraging a premium PC, and have had significant compute and graphics budgets available to your app.</span></span> <span data-ttu-id="6e7b1-232">Se desejar disponibilizar seu aplicativo para um público mais amplo, você deverá testar e criar o perfil de seu aplicativo no [hardware representativo que deseja direcionar](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-232">If you wish to make your app available to a broader audience, you should test and profile your app on [the representative hardware that you wish to target](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span></span>

<span data-ttu-id="6e7b1-233">O [Unity](https://docs.unity3d.com/Manual/Profiler.html) e o [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) incluem os infileres de desempenho e as diretrizes de publicação da [Microsoft](understanding-performance-for-mixed-reality.md) e da [Intel](https://software.intel.com/articles/vr-content-developer-guide) sobre a criação de perfil de desempenho e otimização.</span><span class="sxs-lookup"><span data-stu-id="6e7b1-233">Both [Unity](https://docs.unity3d.com/Manual/Profiler.html) and [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) include performance profilers, and both [Microsoft](understanding-performance-for-mixed-reality.md) and [Intel](https://software.intel.com/articles/vr-content-developer-guide) publish guidelines on performance profiling and optimization.</span></span> <span data-ttu-id="6e7b1-234">Há uma ampla discussão sobre o desempenho disponível em [noções básicas sobre o desempenho para realidade misturada](understanding-performance-for-mixed-reality.md).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-234">There's an extensive discussion of performance available at [Understanding Performance for Mixed Reality](understanding-performance-for-mixed-reality.md).</span></span> <span data-ttu-id="6e7b1-235">Além disso, há detalhes específicos para o Unity em [recomendações de desempenho para o Unity](performance-recommendations-for-unity.md).</span><span class="sxs-lookup"><span data-stu-id="6e7b1-235">Further, there are specific details for Unity under [Performance Recommendations for Unity](performance-recommendations-for-unity.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="6e7b1-236">Consulte também</span><span class="sxs-lookup"><span data-stu-id="6e7b1-236">See also</span></span>
* [<span data-ttu-id="6e7b1-237">Guia de portabilidade de entrada para Unity</span><span class="sxs-lookup"><span data-stu-id="6e7b1-237">Input porting guide for Unity</span></span>](input-porting-guide-for-unity.md)
* [<span data-ttu-id="6e7b1-238">Diretrizes mínimas de compatibilidade de hardware do PC do Windows Mixed Reality</span><span class="sxs-lookup"><span data-stu-id="6e7b1-238">Windows Mixed Reality minimum PC hardware compatibility guidelines</span></span>](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)
* [<span data-ttu-id="6e7b1-239">Entendendo o desempenho da realidade misturada</span><span class="sxs-lookup"><span data-stu-id="6e7b1-239">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="6e7b1-240">Recomendações de desempenho para o Unity</span><span class="sxs-lookup"><span data-stu-id="6e7b1-240">Performance Recommendations for Unity</span></span>](performance-recommendations-for-unity.md)
* [<span data-ttu-id="6e7b1-241">Adicionar suporte ao Xbox Live ao Unity para UWP</span><span class="sxs-lookup"><span data-stu-id="6e7b1-241">Add Xbox Live support to Unity for UWP</span></span>](https://docs.microsoft.com/windows/uwp/xbox-live/get-started-with-partner/partner-add-xbox-live-to-unity-uwp)
